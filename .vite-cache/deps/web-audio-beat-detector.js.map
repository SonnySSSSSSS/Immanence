{"version":3,"file":"web-audio-beat-detector.js","names":["createAddUniqueNumber","generateUniqueNumber","createCache","createGenerateUniqueNumber","isMessagePort","generateUniqueNumber","handler","generateUniqueNumber","r","_typeof","o","_typeof","toPrimitive","toPropertyKey","createExtendedExponentialRampToValueAutomationEvent","createExtendedLinearRampToValueAutomationEvent","createSetValueAutomationEvent","createSetValueCurveAutomationEvent","getTargetValueAtTime","isExponentialRampToValueAutomationEvent","isLinearRampToValueAutomationEvent","isAnyRampToValueAutomationEvent","isSetValueAutomationEvent","isSetValueCurveAutomationEvent","getEndTimeAndValueOfPreviousAutomationEvent","isCancelAndHoldAutomationEvent","isCancelScheduledValuesAutomationEvent","getEventTime","getExponentialRampValueAtTime","getLinearRampValueAtTime","interpolateValue","getValueCurveValueAtTime","isSetTargetAutomationEvent","AutomationEventList","_createClass","_slicedToArray","createCancelAndHoldAutomationEvent","createCancelScheduledValuesAutomationEvent","createExponentialRampToValueAutomationEvent","createLinearRampToValueAutomationEvent","createSetTargetAutomationEvent","getNativeContext","window","createNotSupportedError","cacheTestResult","isNativeOfflineAudioContext","getOrCreateBackupOfflineAudioContext","nativeAudioWorkletNodeConstructor","getAudioNodeConnections","getEventListenersOfAudioNode","getNativeAudioNode","isPartOfACycle","isPassiveAudioNode","deleteActiveInputConnectionToAudioNode","getAudioNodeTailTime","isActiveAudioNode","insertElementInSet","createNativeGainNode","DEFAULT_OPTIONS","getNativeContext","createNativeAnalyserNode","isNativeOfflineAudioContext","createAnalyserNodeRenderer","createIndexSizeError","getNativeAudioNode","createNativeAnalyserNode","renderInputsOfAudioNode","DEFAULT_OPTIONS","nativeOfflineAudioContextConstructor","nativeAudioBufferConstructor","cacheTestResult","createNotSupportedError","audioBufferStore","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativeAudioBufferSourceNode","isNativeOfflineAudioContext","createAudioBufferSourceNodeRenderer","createAudioParam","createInvalidStateError","wrapEventListener","getNativeAudioNode","createNativeAudioBufferSourceNode","renderAutomation","connectAudioParam","renderInputsOfAudioNode","baseAudioContextConstructor","nativeAudioContextConstructor","createNotSupportedError","createUnknownError","createInvalidStateError","mediaElementAudioSourceNodeConstructor","mediaStreamAudioDestinationNodeConstructor","mediaStreamAudioSourceNodeConstructor","mediaStreamTrackAudioSourceNodeConstructor","audioNodeConstructor","getNativeContext","isNativeOfflineAudioContext","createAudioDestinationNodeRenderer","renderInputsOfAudioNode","createInvalidStateError","createIndexSizeError","renderInputsOfAudioNode","createNativeChannelMergerNode","isNativeOfflineAudioContext","createNativeScriptProcessorNode","getFirstSample","createNativeConstantSourceNode","createAudioParam","createNotSupportedError","nativeAudioWorkletNodeConstructor","isNativeAudioNode","isNativeAudioNode","eventTargetConstructor","getNativeContext","isNativeAudioContext","cacheTestResult","nativeAudioWorkletNodeConstructor","createIndexSizeError","isNativeOfflineAudioContext","isNativeAudioNode","isNativeAudioParam","createInvalidAccessError","createNotSupportedError","AutomationEventList","createAudioParamRenderer","createCancelAndHoldAutomationEvent","createCancelScheduledValuesAutomationEvent","createSetValueAutomationEvent","createExponentialRampToValueAutomationEvent","createLinearRampToValueAutomationEvent","createSetTargetAutomationEvent","nativeAudioContextConstructor","createSetValueCurveAutomationEvent","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","isNativeOfflineAudioContext","sanitizeAudioWorkletNodeOptions","createNativeAudioWorkletNode","getBackupOfflineAudioContext","nativeAudioWorkletNodeConstructor","createAudioWorkletNodeRenderer","createAudioParam","getAudioNodeConnections","wrapEventListener","exposeCurrentFrameAndCurrentTime","getNativeAudioNode","nativeAudioWorkletNodeConstructor","createNativeChannelSplitterNode","createNativeChannelMergerNode","createNativeGainNode","connectMultipleOutputs","disconnectMultipleOutputs","nativeOfflineAudioContextConstructor","createNativeConstantSourceNode","renderAutomation","renderInputsOfAudioNode","renderNativeOfflineAudioContext","createNativeAudioBufferSourceNode","connectAudioParam","minimalBaseAudioContextConstructor","addAudioWorkletModule","analyserNodeConstructor","biquadFilterNodeConstructor","audioBufferConstructor","audioBufferSourceNodeConstructor","channelMergerNodeConstructor","channelSplitterNodeConstructor","constantSourceNodeConstructor","convolverNodeConstructor","delayNodeConstructor","dynamicsCompressorNodeConstructor","gainNodeConstructor","iIRFilterNodeConstructor","oscillatorNodeConstructor","pannerNodeConstructor","periodicWaveConstructor","stereoPannerNodeConstructor","waveShaperNodeConstructor","decodeAudioData","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativeBiquadFilterNode","isNativeOfflineAudioContext","createBiquadFilterNodeRenderer","createAudioParam","createInvalidAccessError","getNativeAudioNode","createNativeBiquadFilterNode","renderAutomation","connectAudioParam","renderInputsOfAudioNode","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativeChannelMergerNode","isNativeOfflineAudioContext","getNativeAudioNode","createNativeChannelMergerNode","renderInputsOfAudioNode","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativeChannelSplitterNode","sanitizeChannelSplitterOptions","isNativeOfflineAudioContext","getNativeAudioNode","createNativeChannelSplitterNode","renderInputsOfAudioNode","renderInputsOfAudioParam","createIndexSizeError","isNativeAudioNode","createNativeAudioBufferSourceNode","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativeConstantSourceNode","isNativeOfflineAudioContext","createConstantSourceNodeRendererFactory","createAudioParam","wrapEventListener","getNativeAudioNode","createNativeConstantSourceNode","renderAutomation","connectAudioParam","renderInputsOfAudioNode","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativeConvolverNode","isNativeOfflineAudioContext","getNativeAudioNode","createNativeConvolverNode","renderInputsOfAudioNode","nativeOfflineAudioContextConstructor","createNotSupportedError","isNativeContext","getNativeContext","createDataCloneError","cacheTestResult","testPromiseSupport","testAudioBufferCopyChannelMethodsOutOfBoundsSupport","createEncodingError","isNativeOfflineAudioContext","getNativeContext","isActiveAudioNode","getNativeAudioNode","getAudioNodeConnections","getNativeAudioParam","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativeDelayNode","isNativeOfflineAudioContext","createAudioParam","getNativeAudioNode","createNativeDelayNode","renderAutomation","connectAudioParam","renderInputsOfAudioNode","pickElementFromSet","getValueForKey","audioParamAudioNodeStore","getAudioNodeConnections","createIndexSizeError","isNativeAudioNode","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativeDynamicsCompressorNode","isNativeOfflineAudioContext","createAudioParam","createNotSupportedError","getNativeAudioNode","createNativeDynamicsCompressorNode","renderAutomation","connectAudioParam","renderInputsOfAudioNode","window","wrapEventListener","window","createAbortError","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativeGainNode","isNativeOfflineAudioContext","createAudioParam","getNativeAudioNode","createNativeGainNode","renderAutomation","connectAudioParam","renderInputsOfAudioNode","getValueForKey","activeAudioWorkletNodeInputsStore","getAudioNodeConnections","audioNodeTailTimeStore","getAudioParamConnections","backupOfflineAudioContextStore","backupOfflineAudioContextStore","nativeOfflineAudioContextConstructor","unrenderedAudioWorkletNodeStore","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","isNativeOfflineAudioContext","createIIRFilterNodeRenderer","getNativeAudioNode","createNativeAudioBufferSourceNode","nativeOfflineAudioContextConstructor","renderInputsOfAudioNode","renderNativeOfflineAudioContext","isActiveAudioNode","getNativeAudioNode","getAudioNodeConnections","getNativeAudioParam","isNativeAudioContext","isNativeAudioNode","isNativeAudioParam","isNativeOfflineAudioContext","nativeAudioContextConstructor","window","window","isNativeAudioContext","isNativeOfflineAudioContext","nativeOfflineAudioContextConstructor","window","audioNodeConstructor","getNativeContext","createNativeMediaElementAudioSourceNode","isNativeOfflineAudioContext","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","isNativeOfflineAudioContext","createNativeMediaStreamAudioDestinationNode","audioNodeConstructor","getNativeContext","createNativeMediaStreamAudioSourceNode","isNativeOfflineAudioContext","audioNodeConstructor","getNativeContext","minimalBaseAudioContextConstructor","nativeAudioContextConstructor","createNotSupportedError","createUnknownError","createInvalidStateError","eventTargetConstructor","isNativeOfflineAudioContext","audioDestinationNodeConstructor","createAudioListener","wrapEventListener","DEFAULT_OPTIONS","minimalBaseAudioContextConstructor","createNativeOfflineAudioContext","cacheTestResult","createInvalidStateError","startRendering","isNativeAudioNode","createIndexSizeError","cacheTestResult","window","cacheTestResult","testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport","testAudioBufferSourceNodeStartMethodOffsetClampingSupport","testAudioBufferSourceNodeStopMethodNullifiedBufferSupport","testAudioScheduledSourceNodeStartMethodNegativeParametersSupport","testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport","testAudioScheduledSourceNodeStopMethodNegativeParametersSupport","window","createNativeGainNode","window","nativeAudioWorkletNodeConstructor","createInvalidStateError","createNativeGainNode","monitorConnections","createNotSupportedError","createNotSupportedError","createIndexSizeError","createNativeGainNode","createNativeChannelSplitterNode","createNativeConstantSourceNode","createNativeChannelMergerNode","createNativeScriptProcessorNode","createInvalidStateError","connectMultipleOutputs","disconnectMultipleOutputs","exposeCurrentFrameAndCurrentTime","monitorConnections","nativeAudioContextConstructor","cacheTestResult","testAudioScheduledSourceNodeStartMethodNegativeParametersSupport","testAudioScheduledSourceNodeStopMethodNegativeParametersSupport","createNativeAudioBufferSourceNode","createNativeGainNode","monitorConnections","createNotSupportedError","createNotSupportedError","createNativeIIRFilterNodeFaker","createNotSupportedError","createInvalidStateError","createNativeScriptProcessorNode","createInvalidAccessError","createInvalidStateError","isNativeOfflineAudioContext","window","cacheTestResult","testAudioScheduledSourceNodeStartMethodNegativeParametersSupport","testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport","testAudioScheduledSourceNodeStopMethodNegativeParametersSupport","createNotSupportedError","createNativeChannelMergerNode","createNativeGainNode","createNativeScriptProcessorNode","createNativeWaveShaperNode","getFirstSample","createInvalidStateError","monitorConnections","createIndexSizeError","createNotSupportedError","createNativeGainNode","createNativeWaveShaperNode","createNativeChannelSplitterNode","createNotSupportedError","createNativeChannelMergerNode","monitorConnections","nativeAudioContextConstructor","createInvalidStateError","isDCCurve","createConnectedNativeAudioBufferSourceNode","monitorConnections","createNativeGainNode","createInvalidStateError","isDCCurve","createConnectedNativeAudioBufferSourceNode","monitorConnections","DEFAULT_OPTIONS","baseAudioContextConstructor","createNativeOfflineAudioContext","cacheTestResult","createInvalidStateError","startRendering","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativeOscillatorNode","isNativeOfflineAudioContext","createAudioParam","wrapEventListener","getNativeAudioNode","createNativeOscillatorNode","renderAutomation","connectAudioParam","renderInputsOfAudioNode","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativePannerNode","isNativeOfflineAudioContext","createAudioParam","getNativeAudioNode","createNativeGainNode","createNativePannerNode","nativeOfflineAudioContextConstructor","createNativeChannelMergerNode","createNativeConstantSourceNode","renderAutomation","renderNativeOfflineAudioContext","renderInputsOfAudioNode","connectAudioParam","DEFAULT_OPTIONS","getNativeContext","sanitizePeriodicWaveOptions","renderInputsOfAudioParam","getAudioNodeConnections","getAudioNodeRenderer","isPartOfACycle","getAudioParamConnections","getAudioNodeRenderer","isPartOfACycle","cacheTestResult","createNativeScriptProcessorNode","createNativeGainNode","audioNodeTailTimeStore","getAudioNodeRenderer","getUnrenderedAudioWorkletNodes","renderNativeOfflineAudioContext","cacheTestResult","testAudioBufferCopyChannelMethodsOutOfBoundsSupport","DEFAULT_OPTIONS","audioNodeConstructor","getNativeContext","createNativeStereoPannerNode","isNativeOfflineAudioContext","createAudioParam","getNativeAudioNode","createNativeStereoPannerNode","renderAutomation","connectAudioParam","renderInputsOfAudioNode","nativeAudioBufferConstructor","nativeAudioWorkletNodeConstructor","nativeOfflineAudioContextConstructor","nativeOfflineAudioContextConstructor","createNativeGainNode","audioNodeConstructor","getNativeContext","createNativeWaveShaperNode","isNativeOfflineAudioContext","createInvalidStateError","getNativeAudioNode","createNativeWaveShaperNode","renderInputsOfAudioNode","convertNumberToUnsignedLong","createIndexSizeError","convertNumberToUnsignedLong","copyFromChannel","copyToChannel","createInvalidStateError","window","createCancelAndHoldAutomationEvent","createCancelScheduledValuesAutomationEvent","createExponentialRampToValueAutomationEvent","createLinearRampToValueAutomationEvent","createSetTargetAutomationEvent","createSetValueAutomationEvent","createSetValueCurveAutomationEvent","OfflineAudioContext","worker"],"sources":["../../node_modules/fast-unique-numbers/build/es5/bundle.js","../../node_modules/broker-factory/build/es2019/factories/create-broker.js","../../node_modules/broker-factory/build/es2019/factories/create-or-get-ongoing-requests.js","../../node_modules/broker-factory/build/es2019/factories/extend-broker-implementation.js","../../node_modules/broker-factory/build/es2019/guards/message-port.js","../../node_modules/broker-factory/build/es2019/module.js","../../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../node_modules/@babel/runtime/helpers/nonIterableRest.js","../../node_modules/@babel/runtime/helpers/slicedToArray.js","../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../node_modules/@babel/runtime/helpers/typeof.js","../../node_modules/@babel/runtime/helpers/toPrimitive.js","../../node_modules/@babel/runtime/helpers/toPropertyKey.js","../../node_modules/@babel/runtime/helpers/createClass.js","../../node_modules/automation-events/build/es5/bundle.js","../../node_modules/standardized-audio-context/build/es2019/factories/abort-error.js","../../node_modules/standardized-audio-context/build/es2019/factories/add-active-input-connection-to-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/add-audio-node-connections.js","../../node_modules/standardized-audio-context/build/es2019/factories/add-audio-param-connections.js","../../node_modules/standardized-audio-context/build/es2019/globals.js","../../node_modules/standardized-audio-context/build/es2019/helpers/is-constructible.js","../../node_modules/standardized-audio-context/build/es2019/helpers/split-import-statements.js","../../node_modules/standardized-audio-context/build/es2019/factories/add-audio-worklet-module.js","../../node_modules/standardized-audio-context/build/es2019/helpers/get-value-for-key.js","../../node_modules/standardized-audio-context/build/es2019/helpers/pick-element-from-set.js","../../node_modules/standardized-audio-context/build/es2019/helpers/delete-passive-input-connection-to-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/helpers/get-event-listeners-of-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/helpers/set-internal-state-to-active.js","../../node_modules/standardized-audio-context/build/es2019/guards/audio-worklet-node.js","../../node_modules/standardized-audio-context/build/es2019/helpers/set-internal-state-to-passive.js","../../node_modules/standardized-audio-context/build/es2019/helpers/set-internal-state-to-passive-when-necessary.js","../../node_modules/standardized-audio-context/build/es2019/factories/add-connection-to-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/add-passive-input-connection-to-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/add-silent-connection.js","../../node_modules/standardized-audio-context/build/es2019/factories/add-unrendered-audio-worklet-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/analyser-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/helpers/is-owned-by-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/analyser-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support.js","../../node_modules/standardized-audio-context/build/es2019/factories/index-size-error.js","../../node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-buffer-get-channel-data-method.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-buffer-constructor.js","../../node_modules/standardized-audio-context/build/es2019/constants.js","../../node_modules/standardized-audio-context/build/es2019/helpers/is-active-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-buffer-source-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-buffer-source-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/guards/audio-buffer-source-node.js","../../node_modules/standardized-audio-context/build/es2019/guards/biquad-filter-node.js","../../node_modules/standardized-audio-context/build/es2019/guards/constant-source-node.js","../../node_modules/standardized-audio-context/build/es2019/guards/gain-node.js","../../node_modules/standardized-audio-context/build/es2019/guards/oscillator-node.js","../../node_modules/standardized-audio-context/build/es2019/guards/stereo-panner-node.js","../../node_modules/standardized-audio-context/build/es2019/helpers/get-audio-node-connections.js","../../node_modules/standardized-audio-context/build/es2019/helpers/get-audio-param-connections.js","../../node_modules/standardized-audio-context/build/es2019/helpers/deactivate-active-audio-node-input-connections.js","../../node_modules/standardized-audio-context/build/es2019/helpers/deactivate-audio-graph.js","../../node_modules/standardized-audio-context/build/es2019/helpers/is-valid-latency-hint.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-context-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-destination-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-destination-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-listener-factory.js","../../node_modules/standardized-audio-context/build/es2019/guards/audio-node.js","../../node_modules/standardized-audio-context/build/es2019/guards/audio-node-output-connection.js","../../node_modules/standardized-audio-context/build/es2019/helpers/insert-element-in-set.js","../../node_modules/standardized-audio-context/build/es2019/helpers/add-active-input-connection-to-audio-param.js","../../node_modules/standardized-audio-context/build/es2019/helpers/add-passive-input-connection-to-audio-param.js","../../node_modules/standardized-audio-context/build/es2019/guards/native-audio-node-faker.js","../../node_modules/standardized-audio-context/build/es2019/helpers/connect-native-audio-node-to-native-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/helpers/delete-active-input-connection.js","../../node_modules/standardized-audio-context/build/es2019/helpers/delete-active-input-connection-to-audio-param.js","../../node_modules/standardized-audio-context/build/es2019/helpers/delete-event-listeners-of-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/helpers/delete-passive-input-connection-to-audio-param.js","../../node_modules/standardized-audio-context/build/es2019/helpers/disconnect-native-audio-node-from-native-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/helpers/get-native-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/helpers/get-native-audio-param.js","../../node_modules/standardized-audio-context/build/es2019/helpers/is-part-of-a-cycle.js","../../node_modules/standardized-audio-context/build/es2019/helpers/is-passive-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-audio-node-disconnect-method-support.js","../../node_modules/standardized-audio-context/build/es2019/helpers/visit-each-audio-node-once.js","../../node_modules/standardized-audio-context/build/es2019/guards/native-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-node-disconnect-method.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-param-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-param-renderer.js","../../node_modules/standardized-audio-context/build/es2019/read-only-map.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-worklet-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/helpers/copy-from-channel.js","../../node_modules/standardized-audio-context/build/es2019/helpers/copy-to-channel.js","../../node_modules/standardized-audio-context/build/es2019/helpers/create-nested-arrays.js","../../node_modules/standardized-audio-context/build/es2019/helpers/get-audio-worklet-processor.js","../../node_modules/standardized-audio-context/build/es2019/factories/audio-worklet-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/base-audio-context-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/biquad-filter-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/biquad-filter-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/cache-test-result.js","../../node_modules/standardized-audio-context/build/es2019/factories/channel-merger-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/channel-merger-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/channel-splitter-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/channel-splitter-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/connect-audio-param.js","../../node_modules/standardized-audio-context/build/es2019/factories/connect-multiple-outputs.js","../../node_modules/standardized-audio-context/build/es2019/factories/connected-native-audio-buffer-source-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/constant-source-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/constant-source-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/convert-number-to-unsigned-long.js","../../node_modules/standardized-audio-context/build/es2019/factories/convolver-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/convolver-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/create-native-offline-audio-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/data-clone-error.js","../../node_modules/standardized-audio-context/build/es2019/helpers/detach-array-buffer.js","../../node_modules/standardized-audio-context/build/es2019/factories/decode-audio-data.js","../../node_modules/standardized-audio-context/build/es2019/factories/decrement-cycle-counter.js","../../node_modules/standardized-audio-context/build/es2019/factories/delay-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/delay-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/delete-active-input-connection-to-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/delete-unrendered-audio-worklet-node.js","../../node_modules/standardized-audio-context/build/es2019/guards/delay-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/detect-cycles.js","../../node_modules/standardized-audio-context/build/es2019/factories/disconnect-multiple-outputs.js","../../node_modules/standardized-audio-context/build/es2019/factories/dynamics-compressor-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/dynamics-compressor-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/encoding-error.js","../../node_modules/standardized-audio-context/build/es2019/factories/evaluate-source.js","../../node_modules/standardized-audio-context/build/es2019/factories/event-target-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/expose-current-frame-and-current-time.js","../../node_modules/standardized-audio-context/build/es2019/factories/fetch-source.js","../../node_modules/standardized-audio-context/build/es2019/factories/gain-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/gain-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/get-active-audio-worklet-node-inputs.js","../../node_modules/standardized-audio-context/build/es2019/factories/get-audio-node-renderer.js","../../node_modules/standardized-audio-context/build/es2019/factories/get-audio-node-tail-time.js","../../node_modules/standardized-audio-context/build/es2019/factories/get-audio-param-renderer.js","../../node_modules/standardized-audio-context/build/es2019/factories/get-backup-offline-audio-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/invalid-state-error.js","../../node_modules/standardized-audio-context/build/es2019/factories/get-native-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/get-or-create-backup-offline-audio-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/get-unrendered-audio-worklet-nodes.js","../../node_modules/standardized-audio-context/build/es2019/factories/invalid-access-error.js","../../node_modules/standardized-audio-context/build/es2019/helpers/wrap-iir-filter-node-get-frequency-response-method.js","../../node_modules/standardized-audio-context/build/es2019/factories/iir-filter-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/helpers/filter-buffer.js","../../node_modules/standardized-audio-context/build/es2019/factories/iir-filter-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/increment-cycle-counter-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/is-any-audio-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/is-any-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/is-any-audio-param.js","../../node_modules/standardized-audio-context/build/es2019/factories/is-any-offline-audio-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/is-native-audio-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/is-native-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/is-native-audio-param.js","../../node_modules/standardized-audio-context/build/es2019/factories/is-native-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/is-native-offline-audio-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/is-secure-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/media-element-audio-source-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/media-stream-audio-destination-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/media-stream-audio-source-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/media-stream-track-audio-source-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/minimal-audio-context-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/minimal-base-audio-context-constructor.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-promise-support.js","../../node_modules/standardized-audio-context/build/es2019/factories/minimal-offline-audio-context-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/monitor-connections.js","../../node_modules/standardized-audio-context/build/es2019/helpers/assign-native-audio-node-option.js","../../node_modules/standardized-audio-context/build/es2019/helpers/assign-native-audio-node-options.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-analyser-node-get-float-time-domain-data-method-support.js","../../node_modules/standardized-audio-context/build/es2019/helpers/wrap-analyser-node-get-float-time-domain-data-method.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-analyser-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-audio-buffer-constructor.js","../../node_modules/standardized-audio-context/build/es2019/helpers/assign-native-audio-node-audio-param-value.js","../../node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-buffer-source-node-start-method-consecutive-calls.js","../../node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters.js","../../node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-audio-buffer-source-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-audio-context-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-audio-destination-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-audio-worklet-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-clonability-of-audio-worklet-node-options.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-audio-worklet-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/helpers/compute-buffer-size.js","../../node_modules/standardized-audio-context/build/es2019/helpers/clone-audio-worklet-node-options.js","../../node_modules/standardized-audio-context/build/es2019/helpers/create-audio-worklet-processor-promise.js","../../node_modules/standardized-audio-context/build/es2019/helpers/create-audio-worklet-processor.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-audio-worklet-node-faker-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-biquad-filter-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-channel-merger-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/helpers/wrap-channel-splitter-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-channel-splitter-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-constant-source-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/helpers/intercept-connections.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-constant-source-node-faker-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-convolver-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-delay-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-dynamics-compressor-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-gain-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-iir-filter-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-iir-filter-node-faker-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-media-element-audio-source-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-media-stream-audio-destination-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-media-stream-audio-source-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-media-stream-track-audio-source-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-offline-audio-context-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-oscillator-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-panner-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-panner-node-faker-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-periodic-wave-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-script-processor-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-stereo-panner-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-stereo-panner-node-faker-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-wave-shaper-node-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/native-wave-shaper-node-faker-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/not-supported-error.js","../../node_modules/standardized-audio-context/build/es2019/factories/offline-audio-context-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/oscillator-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/oscillator-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/panner-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/panner-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/periodic-wave-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/render-automation.js","../../node_modules/standardized-audio-context/build/es2019/factories/render-inputs-of-audio-node.js","../../node_modules/standardized-audio-context/build/es2019/factories/render-inputs-of-audio-param.js","../../node_modules/standardized-audio-context/build/es2019/factories/render-native-offline-audio-context.js","../../node_modules/standardized-audio-context/build/es2019/factories/set-active-audio-worklet-node-inputs.js","../../node_modules/standardized-audio-context/build/es2019/factories/set-audio-node-tail-time.js","../../node_modules/standardized-audio-context/build/es2019/factories/start-rendering.js","../../node_modules/standardized-audio-context/build/es2019/factories/stereo-panner-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/stereo-panner-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/test-audio-buffer-constructor-support.js","../../node_modules/standardized-audio-context/build/es2019/factories/test-audio-worklet-processor-post-message-support.js","../../node_modules/standardized-audio-context/build/es2019/factories/test-offline-audio-context-current-time-support.js","../../node_modules/standardized-audio-context/build/es2019/factories/unknown-error.js","../../node_modules/standardized-audio-context/build/es2019/factories/wave-shaper-node-constructor.js","../../node_modules/standardized-audio-context/build/es2019/factories/wave-shaper-node-renderer-factory.js","../../node_modules/standardized-audio-context/build/es2019/factories/window.js","../../node_modules/standardized-audio-context/build/es2019/factories/wrap-audio-buffer-copy-channel-methods.js","../../node_modules/standardized-audio-context/build/es2019/factories/wrap-audio-buffer-copy-channel-methods-out-of-bounds.js","../../node_modules/standardized-audio-context/build/es2019/factories/wrap-audio-buffer-source-node-stop-method-nullified-buffer.js","../../node_modules/standardized-audio-context/build/es2019/factories/wrap-channel-merger-node.js","../../node_modules/standardized-audio-context/build/es2019/helpers/get-first-sample.js","../../node_modules/standardized-audio-context/build/es2019/helpers/is-dc-curve.js","../../node_modules/standardized-audio-context/build/es2019/helpers/overwrite-accessors.js","../../node_modules/standardized-audio-context/build/es2019/helpers/sanitize-audio-worklet-node-options.js","../../node_modules/standardized-audio-context/build/es2019/helpers/sanitize-channel-splitter-options.js","../../node_modules/standardized-audio-context/build/es2019/helpers/sanitize-periodic-wave-options.js","../../node_modules/standardized-audio-context/build/es2019/helpers/set-value-at-time-until-possible.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-source-node-start-method-consecutive-calls-support.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-source-node-start-method-offset-clamping-support.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-source-node-stop-method-nullified-buffer-support.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-audio-scheduled-source-node-start-method-negative-parameters-support.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-audio-scheduled-source-node-stop-method-consecutive-calls-support.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-audio-scheduled-source-node-stop-method-negative-parameters-support.js","../../node_modules/standardized-audio-context/build/es2019/helpers/test-audio-worklet-node-options-clonability.js","../../node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-buffer-source-node-start-method-offset-clamping.js","../../node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-scheduled-source-node-stop-method-consecutive-calls.js","../../node_modules/standardized-audio-context/build/es2019/helpers/wrap-event-listener.js","../../node_modules/standardized-audio-context/build/es2019/module.js","../../node_modules/web-audio-beat-detector-broker/build/es2019/helpers/render.js","../../node_modules/web-audio-beat-detector-broker/build/es2019/module.js","../../node_modules/web-audio-beat-detector/build/es2019/factories/load-or-return-broker.js","../../node_modules/web-audio-beat-detector/build/es2019/worker/worker.js","../../node_modules/web-audio-beat-detector/build/es2019/module.js"],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.fastUniqueNumbers = {}));\n})(this, (function (exports) { 'use strict';\n\n    var createAddUniqueNumber = function createAddUniqueNumber(generateUniqueNumber) {\n      return function (set) {\n        var number = generateUniqueNumber(set);\n        set.add(number);\n        return number;\n      };\n    };\n\n    var createCache = function createCache(lastNumberWeakMap) {\n      return function (collection, nextNumber) {\n        lastNumberWeakMap.set(collection, nextNumber);\n        return nextNumber;\n      };\n    };\n\n    /*\n     * The value of the constant Number.MAX_SAFE_INTEGER equals (2 ** 53 - 1) but it\n     * is fairly new.\n     */\n    var MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER === undefined ? 9007199254740991 : Number.MAX_SAFE_INTEGER;\n    var TWO_TO_THE_POWER_OF_TWENTY_NINE = 536870912;\n    var TWO_TO_THE_POWER_OF_THIRTY = TWO_TO_THE_POWER_OF_TWENTY_NINE * 2;\n    var createGenerateUniqueNumber = function createGenerateUniqueNumber(cache, lastNumberWeakMap) {\n      return function (collection) {\n        var lastNumber = lastNumberWeakMap.get(collection);\n        /*\n         * Let's try the cheapest algorithm first. It might fail to produce a new\n         * number, but it is so cheap that it is okay to take the risk. Just\n         * increase the last number by one or reset it to 0 if we reached the upper\n         * bound of SMIs (which stands for small integers). When the last number is\n         * unknown it is assumed that the collection contains zero based consecutive\n         * numbers.\n         */\n        var nextNumber = lastNumber === undefined ? collection.size : lastNumber < TWO_TO_THE_POWER_OF_THIRTY ? lastNumber + 1 : 0;\n        if (!collection.has(nextNumber)) {\n          return cache(collection, nextNumber);\n        }\n        /*\n         * If there are less than half of 2 ** 30 numbers stored in the collection,\n         * the chance to generate a new random number in the range from 0 to 2 ** 30\n         * is at least 50%. It's benifitial to use only SMIs because they perform\n         * much better in any environment based on V8.\n         */\n        if (collection.size < TWO_TO_THE_POWER_OF_TWENTY_NINE) {\n          while (collection.has(nextNumber)) {\n            nextNumber = Math.floor(Math.random() * TWO_TO_THE_POWER_OF_THIRTY);\n          }\n          return cache(collection, nextNumber);\n        }\n        // Quickly check if there is a theoretical chance to generate a new number.\n        if (collection.size > MAX_SAFE_INTEGER) {\n          throw new Error('Congratulations, you created a collection of unique numbers which uses all available integers!');\n        }\n        // Otherwise use the full scale of safely usable integers.\n        while (collection.has(nextNumber)) {\n          nextNumber = Math.floor(Math.random() * MAX_SAFE_INTEGER);\n        }\n        return cache(collection, nextNumber);\n      };\n    };\n\n    var LAST_NUMBER_WEAK_MAP = new WeakMap();\n    var cache = createCache(LAST_NUMBER_WEAK_MAP);\n    var generateUniqueNumber = createGenerateUniqueNumber(cache, LAST_NUMBER_WEAK_MAP);\n    var addUniqueNumber = createAddUniqueNumber(generateUniqueNumber);\n\n    exports.addUniqueNumber = addUniqueNumber;\n    exports.generateUniqueNumber = generateUniqueNumber;\n\n}));\n","export const createBrokerFactory = (createOrGetOngoingRequests, extendBrokerImplementation, generateUniqueNumber, isMessagePort) => (brokerImplementation) => {\n    const fullBrokerImplementation = extendBrokerImplementation(brokerImplementation);\n    return (sender) => {\n        const ongoingRequests = createOrGetOngoingRequests(sender);\n        sender.addEventListener('message', (({ data: message }) => {\n            const { id } = message;\n            if (id !== null && ongoingRequests.has(id)) {\n                const { reject, resolve } = ongoingRequests.get(id);\n                ongoingRequests.delete(id);\n                if (message.error === undefined) {\n                    resolve(message.result);\n                }\n                else {\n                    reject(new Error(message.error.message));\n                }\n            }\n        }));\n        if (isMessagePort(sender)) {\n            sender.start();\n        }\n        const call = (method, params = null, transferables = []) => {\n            return new Promise((resolve, reject) => {\n                const id = generateUniqueNumber(ongoingRequests);\n                ongoingRequests.set(id, { reject, resolve });\n                if (params === null) {\n                    sender.postMessage({ id, method }, transferables);\n                }\n                else {\n                    sender.postMessage({ id, method, params }, transferables);\n                }\n            });\n        };\n        const notify = (method, params, transferables = []) => {\n            sender.postMessage({ id: null, method, params }, transferables);\n        };\n        let functions = {};\n        for (const [key, handler] of Object.entries(fullBrokerImplementation)) {\n            functions = { ...functions, [key]: handler({ call, notify }) };\n        }\n        return { ...functions };\n    };\n};\n//# sourceMappingURL=create-broker.js.map","export const createCreateOrGetOngoingRequests = (ongoingRequestsMap) => (sender) => {\n    if (ongoingRequestsMap.has(sender)) {\n        // @todo TypeScript needs to be convinced that has() works as expected.\n        return ongoingRequestsMap.get(sender);\n    }\n    const ongoingRequests = new Map();\n    ongoingRequestsMap.set(sender, ongoingRequests);\n    return ongoingRequests;\n};\n//# sourceMappingURL=create-or-get-ongoing-requests.js.map","export const createExtendBrokerImplementation = (portMap) => (partialBrokerImplementation) => ({\n    ...partialBrokerImplementation,\n    connect: ({ call }) => {\n        return async () => {\n            const { port1, port2 } = new MessageChannel();\n            const portId = await call('connect', { port: port1 }, [port1]);\n            portMap.set(port2, portId);\n            return port2;\n        };\n    },\n    disconnect: ({ call }) => {\n        return async (port) => {\n            const portId = portMap.get(port);\n            if (portId === undefined) {\n                throw new Error('The given port is not connected.');\n            }\n            await call('disconnect', { portId });\n        };\n    },\n    isSupported: ({ call }) => {\n        return () => call('isSupported');\n    }\n});\n//# sourceMappingURL=extend-broker-implementation.js.map","export const isMessagePort = (sender) => {\n    return typeof sender.start === 'function';\n};\n//# sourceMappingURL=message-port.js.map","import { generateUniqueNumber } from 'fast-unique-numbers';\nimport { createBrokerFactory } from './factories/create-broker';\nimport { createCreateOrGetOngoingRequests } from './factories/create-or-get-ongoing-requests';\nimport { createExtendBrokerImplementation } from './factories/extend-broker-implementation';\nimport { isMessagePort } from './guards/message-port';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nexport const createBroker = createBrokerFactory(createCreateOrGetOngoingRequests(new WeakMap()), createExtendBrokerImplementation(new WeakMap()), generateUniqueNumber, isMessagePort);\n//# sourceMappingURL=module.js.map","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@babel/runtime/helpers/slicedToArray'), require('@babel/runtime/helpers/classCallCheck'), require('@babel/runtime/helpers/createClass')) :\n    typeof define === 'function' && define.amd ? define(['exports', '@babel/runtime/helpers/slicedToArray', '@babel/runtime/helpers/classCallCheck', '@babel/runtime/helpers/createClass'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.automationEvents = {}, global._slicedToArray, global._classCallCheck, global._createClass));\n})(this, (function (exports, _slicedToArray, _classCallCheck, _createClass) { 'use strict';\n\n    var createExtendedExponentialRampToValueAutomationEvent = function createExtendedExponentialRampToValueAutomationEvent(value, endTime, insertTime) {\n      return {\n        endTime: endTime,\n        insertTime: insertTime,\n        type: 'exponentialRampToValue',\n        value: value\n      };\n    };\n\n    var createExtendedLinearRampToValueAutomationEvent = function createExtendedLinearRampToValueAutomationEvent(value, endTime, insertTime) {\n      return {\n        endTime: endTime,\n        insertTime: insertTime,\n        type: 'linearRampToValue',\n        value: value\n      };\n    };\n\n    var createSetValueAutomationEvent = function createSetValueAutomationEvent(value, startTime) {\n      return {\n        startTime: startTime,\n        type: 'setValue',\n        value: value\n      };\n    };\n\n    var createSetValueCurveAutomationEvent = function createSetValueCurveAutomationEvent(values, startTime, duration) {\n      return {\n        duration: duration,\n        startTime: startTime,\n        type: 'setValueCurve',\n        values: values\n      };\n    };\n\n    var getTargetValueAtTime = function getTargetValueAtTime(time, valueAtStartTime, _ref) {\n      var startTime = _ref.startTime,\n        target = _ref.target,\n        timeConstant = _ref.timeConstant;\n      return target + (valueAtStartTime - target) * Math.exp((startTime - time) / timeConstant);\n    };\n\n    var isExponentialRampToValueAutomationEvent = function isExponentialRampToValueAutomationEvent(automationEvent) {\n      return automationEvent.type === 'exponentialRampToValue';\n    };\n\n    var isLinearRampToValueAutomationEvent = function isLinearRampToValueAutomationEvent(automationEvent) {\n      return automationEvent.type === 'linearRampToValue';\n    };\n\n    var isAnyRampToValueAutomationEvent = function isAnyRampToValueAutomationEvent(automationEvent) {\n      return isExponentialRampToValueAutomationEvent(automationEvent) || isLinearRampToValueAutomationEvent(automationEvent);\n    };\n\n    var isSetValueAutomationEvent = function isSetValueAutomationEvent(automationEvent) {\n      return automationEvent.type === 'setValue';\n    };\n\n    var isSetValueCurveAutomationEvent = function isSetValueCurveAutomationEvent(automationEvent) {\n      return automationEvent.type === 'setValueCurve';\n    };\n\n    var _getValueOfAutomationEventAtIndexAtTime = function getValueOfAutomationEventAtIndexAtTime(automationEvents, index, time, defaultValue) {\n      var automationEvent = automationEvents[index];\n      return automationEvent === undefined ? defaultValue : isAnyRampToValueAutomationEvent(automationEvent) || isSetValueAutomationEvent(automationEvent) ? automationEvent.value : isSetValueCurveAutomationEvent(automationEvent) ? automationEvent.values[automationEvent.values.length - 1] : getTargetValueAtTime(time, _getValueOfAutomationEventAtIndexAtTime(automationEvents, index - 1, automationEvent.startTime, defaultValue), automationEvent);\n    };\n\n    var getEndTimeAndValueOfPreviousAutomationEvent = function getEndTimeAndValueOfPreviousAutomationEvent(automationEvents, index, currentAutomationEvent, nextAutomationEvent, defaultValue) {\n      return currentAutomationEvent === undefined ? [nextAutomationEvent.insertTime, defaultValue] : isAnyRampToValueAutomationEvent(currentAutomationEvent) ? [currentAutomationEvent.endTime, currentAutomationEvent.value] : isSetValueAutomationEvent(currentAutomationEvent) ? [currentAutomationEvent.startTime, currentAutomationEvent.value] : isSetValueCurveAutomationEvent(currentAutomationEvent) ? [currentAutomationEvent.startTime + currentAutomationEvent.duration, currentAutomationEvent.values[currentAutomationEvent.values.length - 1]] : [currentAutomationEvent.startTime, _getValueOfAutomationEventAtIndexAtTime(automationEvents, index - 1, currentAutomationEvent.startTime, defaultValue)];\n    };\n\n    var isCancelAndHoldAutomationEvent = function isCancelAndHoldAutomationEvent(automationEvent) {\n      return automationEvent.type === 'cancelAndHold';\n    };\n\n    var isCancelScheduledValuesAutomationEvent = function isCancelScheduledValuesAutomationEvent(automationEvent) {\n      return automationEvent.type === 'cancelScheduledValues';\n    };\n\n    var getEventTime = function getEventTime(automationEvent) {\n      if (isCancelAndHoldAutomationEvent(automationEvent) || isCancelScheduledValuesAutomationEvent(automationEvent)) {\n        return automationEvent.cancelTime;\n      }\n      if (isExponentialRampToValueAutomationEvent(automationEvent) || isLinearRampToValueAutomationEvent(automationEvent)) {\n        return automationEvent.endTime;\n      }\n      return automationEvent.startTime;\n    };\n\n    var getExponentialRampValueAtTime = function getExponentialRampValueAtTime(time, startTime, valueAtStartTime, _ref) {\n      var endTime = _ref.endTime,\n        value = _ref.value;\n      if (valueAtStartTime === value) {\n        return value;\n      }\n      if (0 < valueAtStartTime && 0 < value || valueAtStartTime < 0 && value < 0) {\n        return valueAtStartTime * Math.pow(value / valueAtStartTime, (time - startTime) / (endTime - startTime));\n      }\n      return 0;\n    };\n\n    var getLinearRampValueAtTime = function getLinearRampValueAtTime(time, startTime, valueAtStartTime, _ref) {\n      var endTime = _ref.endTime,\n        value = _ref.value;\n      return valueAtStartTime + (time - startTime) / (endTime - startTime) * (value - valueAtStartTime);\n    };\n\n    var interpolateValue = function interpolateValue(values, theoreticIndex) {\n      var lowerIndex = Math.floor(theoreticIndex);\n      var upperIndex = Math.ceil(theoreticIndex);\n      if (lowerIndex === upperIndex) {\n        return values[lowerIndex];\n      }\n      return (1 - (theoreticIndex - lowerIndex)) * values[lowerIndex] + (1 - (upperIndex - theoreticIndex)) * values[upperIndex];\n    };\n\n    var getValueCurveValueAtTime = function getValueCurveValueAtTime(time, _ref) {\n      var duration = _ref.duration,\n        startTime = _ref.startTime,\n        values = _ref.values;\n      var theoreticIndex = (time - startTime) / duration * (values.length - 1);\n      return interpolateValue(values, theoreticIndex);\n    };\n\n    var isSetTargetAutomationEvent = function isSetTargetAutomationEvent(automationEvent) {\n      return automationEvent.type === 'setTarget';\n    };\n\n    var AutomationEventList = /*#__PURE__*/function () {\n      function AutomationEventList(defaultValue) {\n        _classCallCheck(this, AutomationEventList);\n        this._automationEvents = [];\n        this._currenTime = 0;\n        this._defaultValue = defaultValue;\n      }\n      return _createClass(AutomationEventList, [{\n        key: Symbol.iterator,\n        value: function value() {\n          return this._automationEvents[Symbol.iterator]();\n        }\n      }, {\n        key: \"add\",\n        value: function add(automationEvent) {\n          var eventTime = getEventTime(automationEvent);\n          if (isCancelAndHoldAutomationEvent(automationEvent) || isCancelScheduledValuesAutomationEvent(automationEvent)) {\n            var index = this._automationEvents.findIndex(function (currentAutomationEvent) {\n              if (isCancelScheduledValuesAutomationEvent(automationEvent) && isSetValueCurveAutomationEvent(currentAutomationEvent)) {\n                return currentAutomationEvent.startTime + currentAutomationEvent.duration >= eventTime;\n              }\n              return getEventTime(currentAutomationEvent) >= eventTime;\n            });\n            var removedAutomationEvent = this._automationEvents[index];\n            if (index !== -1) {\n              this._automationEvents = this._automationEvents.slice(0, index);\n            }\n            if (isCancelAndHoldAutomationEvent(automationEvent)) {\n              var lastAutomationEvent = this._automationEvents[this._automationEvents.length - 1];\n              if (removedAutomationEvent !== undefined && isAnyRampToValueAutomationEvent(removedAutomationEvent)) {\n                if (lastAutomationEvent !== undefined && isSetTargetAutomationEvent(lastAutomationEvent)) {\n                  throw new Error('The internal list is malformed.');\n                }\n                var startTime = lastAutomationEvent === undefined ? removedAutomationEvent.insertTime : isSetValueCurveAutomationEvent(lastAutomationEvent) ? lastAutomationEvent.startTime + lastAutomationEvent.duration : getEventTime(lastAutomationEvent);\n                var startValue = lastAutomationEvent === undefined ? this._defaultValue : isSetValueCurveAutomationEvent(lastAutomationEvent) ? lastAutomationEvent.values[lastAutomationEvent.values.length - 1] : lastAutomationEvent.value;\n                var value = isExponentialRampToValueAutomationEvent(removedAutomationEvent) ? getExponentialRampValueAtTime(eventTime, startTime, startValue, removedAutomationEvent) : getLinearRampValueAtTime(eventTime, startTime, startValue, removedAutomationEvent);\n                var truncatedAutomationEvent = isExponentialRampToValueAutomationEvent(removedAutomationEvent) ? createExtendedExponentialRampToValueAutomationEvent(value, eventTime, this._currenTime) : createExtendedLinearRampToValueAutomationEvent(value, eventTime, this._currenTime);\n                this._automationEvents.push(truncatedAutomationEvent);\n              }\n              if (lastAutomationEvent !== undefined && isSetTargetAutomationEvent(lastAutomationEvent)) {\n                this._automationEvents.push(createSetValueAutomationEvent(this.getValue(eventTime), eventTime));\n              }\n              if (lastAutomationEvent !== undefined && isSetValueCurveAutomationEvent(lastAutomationEvent) && lastAutomationEvent.startTime + lastAutomationEvent.duration > eventTime) {\n                var duration = eventTime - lastAutomationEvent.startTime;\n                var ratio = (lastAutomationEvent.values.length - 1) / lastAutomationEvent.duration;\n                var length = Math.max(2, 1 + Math.ceil(duration * ratio));\n                var fraction = duration / (length - 1) * ratio;\n                var values = lastAutomationEvent.values.slice(0, length);\n                if (fraction < 1) {\n                  for (var i = 1; i < length; i += 1) {\n                    var factor = fraction * i % 1;\n                    values[i] = lastAutomationEvent.values[i - 1] * (1 - factor) + lastAutomationEvent.values[i] * factor;\n                  }\n                }\n                this._automationEvents[this._automationEvents.length - 1] = createSetValueCurveAutomationEvent(values, lastAutomationEvent.startTime, duration);\n              }\n            }\n          } else {\n            var _index = this._automationEvents.findIndex(function (currentAutomationEvent) {\n              return getEventTime(currentAutomationEvent) > eventTime;\n            });\n            var previousAutomationEvent = _index === -1 ? this._automationEvents[this._automationEvents.length - 1] : this._automationEvents[_index - 1];\n            if (previousAutomationEvent !== undefined && isSetValueCurveAutomationEvent(previousAutomationEvent) && getEventTime(previousAutomationEvent) + previousAutomationEvent.duration > eventTime) {\n              return false;\n            }\n            var persistentAutomationEvent = isExponentialRampToValueAutomationEvent(automationEvent) ? createExtendedExponentialRampToValueAutomationEvent(automationEvent.value, automationEvent.endTime, this._currenTime) : isLinearRampToValueAutomationEvent(automationEvent) ? createExtendedLinearRampToValueAutomationEvent(automationEvent.value, eventTime, this._currenTime) : automationEvent;\n            if (_index === -1) {\n              this._automationEvents.push(persistentAutomationEvent);\n            } else {\n              if (isSetValueCurveAutomationEvent(automationEvent) && eventTime + automationEvent.duration > getEventTime(this._automationEvents[_index])) {\n                return false;\n              }\n              this._automationEvents.splice(_index, 0, persistentAutomationEvent);\n            }\n          }\n          return true;\n        }\n      }, {\n        key: \"flush\",\n        value: function flush(time) {\n          var index = this._automationEvents.findIndex(function (currentAutomationEvent) {\n            return getEventTime(currentAutomationEvent) > time;\n          });\n          if (index > 1) {\n            var remainingAutomationEvents = this._automationEvents.slice(index - 1);\n            var firstRemainingAutomationEvent = remainingAutomationEvents[0];\n            if (isSetTargetAutomationEvent(firstRemainingAutomationEvent)) {\n              remainingAutomationEvents.unshift(createSetValueAutomationEvent(_getValueOfAutomationEventAtIndexAtTime(this._automationEvents, index - 2, firstRemainingAutomationEvent.startTime, this._defaultValue), firstRemainingAutomationEvent.startTime));\n            }\n            this._automationEvents = remainingAutomationEvents;\n          }\n        }\n      }, {\n        key: \"getValue\",\n        value: function getValue(time) {\n          if (this._automationEvents.length === 0) {\n            return this._defaultValue;\n          }\n          var indexOfNextEvent = this._automationEvents.findIndex(function (automationEvent) {\n            return getEventTime(automationEvent) > time;\n          });\n          var nextAutomationEvent = this._automationEvents[indexOfNextEvent];\n          var indexOfCurrentEvent = (indexOfNextEvent === -1 ? this._automationEvents.length : indexOfNextEvent) - 1;\n          var currentAutomationEvent = this._automationEvents[indexOfCurrentEvent];\n          if (currentAutomationEvent !== undefined && isSetTargetAutomationEvent(currentAutomationEvent) && (nextAutomationEvent === undefined || !isAnyRampToValueAutomationEvent(nextAutomationEvent) || nextAutomationEvent.insertTime > time)) {\n            return getTargetValueAtTime(time, _getValueOfAutomationEventAtIndexAtTime(this._automationEvents, indexOfCurrentEvent - 1, currentAutomationEvent.startTime, this._defaultValue), currentAutomationEvent);\n          }\n          if (currentAutomationEvent !== undefined && isSetValueAutomationEvent(currentAutomationEvent) && (nextAutomationEvent === undefined || !isAnyRampToValueAutomationEvent(nextAutomationEvent))) {\n            return currentAutomationEvent.value;\n          }\n          if (currentAutomationEvent !== undefined && isSetValueCurveAutomationEvent(currentAutomationEvent) && (nextAutomationEvent === undefined || !isAnyRampToValueAutomationEvent(nextAutomationEvent) || currentAutomationEvent.startTime + currentAutomationEvent.duration > time)) {\n            if (time < currentAutomationEvent.startTime + currentAutomationEvent.duration) {\n              return getValueCurveValueAtTime(time, currentAutomationEvent);\n            }\n            return currentAutomationEvent.values[currentAutomationEvent.values.length - 1];\n          }\n          if (currentAutomationEvent !== undefined && isAnyRampToValueAutomationEvent(currentAutomationEvent) && (nextAutomationEvent === undefined || !isAnyRampToValueAutomationEvent(nextAutomationEvent))) {\n            return currentAutomationEvent.value;\n          }\n          if (nextAutomationEvent !== undefined && isExponentialRampToValueAutomationEvent(nextAutomationEvent)) {\n            var _getEndTimeAndValueOf = getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents, indexOfCurrentEvent, currentAutomationEvent, nextAutomationEvent, this._defaultValue),\n              _getEndTimeAndValueOf2 = _slicedToArray(_getEndTimeAndValueOf, 2),\n              startTime = _getEndTimeAndValueOf2[0],\n              value = _getEndTimeAndValueOf2[1];\n            return getExponentialRampValueAtTime(time, startTime, value, nextAutomationEvent);\n          }\n          if (nextAutomationEvent !== undefined && isLinearRampToValueAutomationEvent(nextAutomationEvent)) {\n            var _getEndTimeAndValueOf3 = getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents, indexOfCurrentEvent, currentAutomationEvent, nextAutomationEvent, this._defaultValue),\n              _getEndTimeAndValueOf4 = _slicedToArray(_getEndTimeAndValueOf3, 2),\n              _startTime = _getEndTimeAndValueOf4[0],\n              _value = _getEndTimeAndValueOf4[1];\n            return getLinearRampValueAtTime(time, _startTime, _value, nextAutomationEvent);\n          }\n          return this._defaultValue;\n        }\n      }]);\n    }();\n\n    var createCancelAndHoldAutomationEvent = function createCancelAndHoldAutomationEvent(cancelTime) {\n      return {\n        cancelTime: cancelTime,\n        type: 'cancelAndHold'\n      };\n    };\n\n    var createCancelScheduledValuesAutomationEvent = function createCancelScheduledValuesAutomationEvent(cancelTime) {\n      return {\n        cancelTime: cancelTime,\n        type: 'cancelScheduledValues'\n      };\n    };\n\n    var createExponentialRampToValueAutomationEvent = function createExponentialRampToValueAutomationEvent(value, endTime) {\n      return {\n        endTime: endTime,\n        type: 'exponentialRampToValue',\n        value: value\n      };\n    };\n\n    var createLinearRampToValueAutomationEvent = function createLinearRampToValueAutomationEvent(value, endTime) {\n      return {\n        endTime: endTime,\n        type: 'linearRampToValue',\n        value: value\n      };\n    };\n\n    var createSetTargetAutomationEvent = function createSetTargetAutomationEvent(target, startTime, timeConstant) {\n      return {\n        startTime: startTime,\n        target: target,\n        timeConstant: timeConstant,\n        type: 'setTarget'\n      };\n    };\n\n    exports.AutomationEventList = AutomationEventList;\n    exports.createCancelAndHoldAutomationEvent = createCancelAndHoldAutomationEvent;\n    exports.createCancelScheduledValuesAutomationEvent = createCancelScheduledValuesAutomationEvent;\n    exports.createExponentialRampToValueAutomationEvent = createExponentialRampToValueAutomationEvent;\n    exports.createLinearRampToValueAutomationEvent = createLinearRampToValueAutomationEvent;\n    exports.createSetTargetAutomationEvent = createSetTargetAutomationEvent;\n    exports.createSetValueAutomationEvent = createSetValueAutomationEvent;\n    exports.createSetValueCurveAutomationEvent = createSetValueCurveAutomationEvent;\n\n}));\n","export const createAbortError = () => new DOMException('', 'AbortError');\n//# sourceMappingURL=abort-error.js.map","export const createAddActiveInputConnectionToAudioNode = (insertElementInSet) => {\n    return (activeInputs, source, [output, input, eventListener], ignoreDuplicates) => {\n        insertElementInSet(activeInputs[input], [source, output, eventListener], (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output, ignoreDuplicates);\n    };\n};\n//# sourceMappingURL=add-active-input-connection-to-audio-node.js.map","export const createAddAudioNodeConnections = (audioNodeConnectionsStore) => {\n    return (audioNode, audioNodeRenderer, nativeAudioNode) => {\n        const activeInputs = [];\n        for (let i = 0; i < nativeAudioNode.numberOfInputs; i += 1) {\n            activeInputs.push(new Set());\n        }\n        audioNodeConnectionsStore.set(audioNode, {\n            activeInputs,\n            outputs: new Set(),\n            passiveInputs: new WeakMap(),\n            renderer: audioNodeRenderer\n        });\n    };\n};\n//# sourceMappingURL=add-audio-node-connections.js.map","export const createAddAudioParamConnections = (audioParamConnectionsStore) => {\n    return (audioParam, audioParamRenderer) => {\n        audioParamConnectionsStore.set(audioParam, { activeInputs: new Set(), passiveInputs: new WeakMap(), renderer: audioParamRenderer });\n    };\n};\n//# sourceMappingURL=add-audio-param-connections.js.map","export const ACTIVE_AUDIO_NODE_STORE = new WeakSet();\nexport const AUDIO_NODE_CONNECTIONS_STORE = new WeakMap();\nexport const AUDIO_NODE_STORE = new WeakMap();\nexport const AUDIO_PARAM_CONNECTIONS_STORE = new WeakMap();\nexport const AUDIO_PARAM_STORE = new WeakMap();\nexport const CONTEXT_STORE = new WeakMap();\nexport const EVENT_LISTENERS = new WeakMap();\nexport const CYCLE_COUNTERS = new WeakMap();\n// This clunky name is borrowed from the spec. :-)\nexport const NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS = new WeakMap();\nexport const NODE_TO_PROCESSOR_MAPS = new WeakMap();\n//# sourceMappingURL=globals.js.map","const handler = {\n    construct() {\n        return handler;\n    }\n};\nexport const isConstructible = (constructible) => {\n    try {\n        const proxy = new Proxy(constructible, handler);\n        new proxy(); // tslint:disable-line:no-unused-expression\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=is-constructible.js.map","/*\n * This massive regex tries to cover all the following cases.\n *\n * import './path';\n * import defaultImport from './path';\n * import { namedImport } from './path';\n * import { namedImport as renamendImport } from './path';\n * import * as namespaceImport from './path';\n * import defaultImport, { namedImport } from './path';\n * import defaultImport, { namedImport as renamendImport } from './path';\n * import defaultImport, * as namespaceImport from './path';\n */\nconst IMPORT_STATEMENT_REGEX = /^import(?:(?:[\\s]+[\\w]+|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\{[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?(?:[\\s]*,[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?)*[\\s]*}|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\*[\\s]+as[\\s]+[\\w]+)[\\s]+from)?(?:[\\s]*)(\"([^\"\\\\]|\\\\.)+\"|'([^'\\\\]|\\\\.)+')(?:[\\s]*);?/; // tslint:disable-line:max-line-length\nexport const splitImportStatements = (source, url) => {\n    const importStatements = [];\n    let sourceWithoutImportStatements = source.replace(/^[\\s]+/, '');\n    let result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n    while (result !== null) {\n        const unresolvedUrl = result[1].slice(1, -1);\n        const importStatementWithResolvedUrl = result[0]\n            .replace(/([\\s]+)?;?$/, '')\n            .replace(unresolvedUrl, new URL(unresolvedUrl, url).toString());\n        importStatements.push(importStatementWithResolvedUrl);\n        sourceWithoutImportStatements = sourceWithoutImportStatements.slice(result[0].length).replace(/^[\\s]+/, '');\n        result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n    }\n    return [importStatements.join(';'), sourceWithoutImportStatements];\n};\n//# sourceMappingURL=split-import-statements.js.map","import { NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS } from '../globals';\nimport { isConstructible } from '../helpers/is-constructible';\nimport { splitImportStatements } from '../helpers/split-import-statements';\nconst verifyParameterDescriptors = (parameterDescriptors) => {\n    if (parameterDescriptors !== undefined && !Array.isArray(parameterDescriptors)) {\n        throw new TypeError('The parameterDescriptors property of given value for processorCtor is not an array.');\n    }\n};\nconst verifyProcessorCtor = (processorCtor) => {\n    if (!isConstructible(processorCtor)) {\n        throw new TypeError('The given value for processorCtor should be a constructor.');\n    }\n    if (processorCtor.prototype === null || typeof processorCtor.prototype !== 'object') {\n        throw new TypeError('The given value for processorCtor should have a prototype.');\n    }\n};\nexport const createAddAudioWorkletModule = (cacheTestResult, createNotSupportedError, evaluateSource, exposeCurrentFrameAndCurrentTime, fetchSource, getNativeContext, getOrCreateBackupOfflineAudioContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, ongoingRequests, resolvedRequests, testAudioWorkletProcessorPostMessageSupport, window) => {\n    let index = 0;\n    return (context, moduleURL, options = { credentials: 'omit' }) => {\n        const resolvedRequestsOfContext = resolvedRequests.get(context);\n        if (resolvedRequestsOfContext !== undefined && resolvedRequestsOfContext.has(moduleURL)) {\n            return Promise.resolve();\n        }\n        const ongoingRequestsOfContext = ongoingRequests.get(context);\n        if (ongoingRequestsOfContext !== undefined) {\n            const promiseOfOngoingRequest = ongoingRequestsOfContext.get(moduleURL);\n            if (promiseOfOngoingRequest !== undefined) {\n                return promiseOfOngoingRequest;\n            }\n        }\n        const nativeContext = getNativeContext(context);\n        // Bug #59: Safari does not implement the audioWorklet property.\n        const promise = nativeContext.audioWorklet === undefined\n            ? fetchSource(moduleURL)\n                .then(([source, absoluteUrl]) => {\n                const [importStatements, sourceWithoutImportStatements] = splitImportStatements(source, absoluteUrl);\n                /*\n                 * This is the unminified version of the code used below:\n                 *\n                 * ```js\n                 * ${ importStatements };\n                 * ((a, b) => {\n                 *     (a[b] = a[b] || [ ]).push(\n                 *         (AudioWorkletProcessor, global, registerProcessor, sampleRate, self, window) => {\n                 *             ${ sourceWithoutImportStatements }\n                 *         }\n                 *     );\n                 * })(window, '_AWGS');\n                 * ```\n                 */\n                // tslint:disable-next-line:max-line-length\n                const wrappedSource = `${importStatements};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${sourceWithoutImportStatements}\n})})(window,'_AWGS')`;\n                // @todo Evaluating the given source code is a possible security problem.\n                return evaluateSource(wrappedSource);\n            })\n                .then(() => {\n                const evaluateAudioWorkletGlobalScope = window._AWGS.pop();\n                if (evaluateAudioWorkletGlobalScope === undefined) {\n                    // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n                    throw new SyntaxError();\n                }\n                exposeCurrentFrameAndCurrentTime(nativeContext.currentTime, nativeContext.sampleRate, () => evaluateAudioWorkletGlobalScope(class AudioWorkletProcessor {\n                }, undefined, (name, processorCtor) => {\n                    if (name.trim() === '') {\n                        throw createNotSupportedError();\n                    }\n                    const nodeNameToProcessorConstructorMap = NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(nativeContext);\n                    if (nodeNameToProcessorConstructorMap !== undefined) {\n                        if (nodeNameToProcessorConstructorMap.has(name)) {\n                            throw createNotSupportedError();\n                        }\n                        verifyProcessorCtor(processorCtor);\n                        verifyParameterDescriptors(processorCtor.parameterDescriptors);\n                        nodeNameToProcessorConstructorMap.set(name, processorCtor);\n                    }\n                    else {\n                        verifyProcessorCtor(processorCtor);\n                        verifyParameterDescriptors(processorCtor.parameterDescriptors);\n                        NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.set(nativeContext, new Map([[name, processorCtor]]));\n                    }\n                }, nativeContext.sampleRate, undefined, undefined));\n            })\n            : Promise.all([\n                fetchSource(moduleURL),\n                Promise.resolve(cacheTestResult(testAudioWorkletProcessorPostMessageSupport, testAudioWorkletProcessorPostMessageSupport))\n            ]).then(([[source, absoluteUrl], isSupportingPostMessage]) => {\n                const currentIndex = index + 1;\n                index = currentIndex;\n                const [importStatements, sourceWithoutImportStatements] = splitImportStatements(source, absoluteUrl);\n                /*\n                 * Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\n                 *\n                 * This is the unminified version of the code used below.\n                 *\n                 * ```js\n                 * class extends AudioWorkletProcessor {\n                 *\n                 *     __buffers = new WeakSet();\n                 *\n                 *     constructor () {\n                 *         super();\n                 *\n                 *         this.port.postMessage = ((postMessage) => {\n                 *             return (message, transferables) => {\n                 *                 const filteredTransferables = (transferables)\n                 *                     ? transferables.filter((transferable) => !this.__buffers.has(transferable))\n                 *                     : transferables;\n                 *\n                 *                 return postMessage.call(this.port, message, filteredTransferables);\n                 *              };\n                 *         })(this.port.postMessage);\n                 *     }\n                 * }\n                 * ```\n                 */\n                const patchedAudioWorkletProcessor = isSupportingPostMessage\n                    ? 'AudioWorkletProcessor'\n                    : 'class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}';\n                /*\n                 * Bug #170: Chrome and Edge do call process() with an array with empty channelData for each input if no input is connected.\n                 *\n                 * Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\n                 *\n                 * Bug #190: Safari doesn't throw an error when loading an unparsable module.\n                 *\n                 * This is the unminified version of the code used below:\n                 *\n                 * ```js\n                 * `${ importStatements };\n                 * ((AudioWorkletProcessor, registerProcessor) => {${ sourceWithoutImportStatements }\n                 * })(\n                 *     ${patchedAudioWorkletProcessor },\n                 *     (name, processorCtor) => registerProcessor(name, class extends processorCtor {\n                 *\n                 *         __collectBuffers = (array) => {\n                 *             array.forEach((element) => this.__buffers.add(element.buffer));\n                 *         };\n                 *\n                 *         process (inputs, outputs, parameters) {\n                 *             inputs.forEach(this.__collectBuffers);\n                 *             outputs.forEach(this.__collectBuffers);\n                 *             this.__collectBuffers(Object.values(parameters));\n                 *\n                 *             return super.process(\n                 *                 (inputs.map((input) => input.some((channelData) => channelData.length === 0)) ? [ ] : input),\n                 *                 outputs,\n                 *                 parameters\n                 *             );\n                 *         }\n                 *\n                 *     })\n                 * );\n                 *\n                 * registerProcessor(`__sac${currentIndex}`, class extends AudioWorkletProcessor{\n                 *\n                 *     process () {\n                 *         return false;\n                 *     }\n                 *\n                 * })`\n                 * ```\n                 */\n                const memberDefinition = isSupportingPostMessage ? '' : '__c = (a) => a.forEach(e=>this.__b.add(e.buffer));';\n                const bufferRegistration = isSupportingPostMessage\n                    ? ''\n                    : 'i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));';\n                const wrappedSource = `${importStatements};((AudioWorkletProcessor,registerProcessor)=>{${sourceWithoutImportStatements}\n})(${patchedAudioWorkletProcessor},(n,p)=>registerProcessor(n,class extends p{${memberDefinition}process(i,o,p){${bufferRegistration}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${currentIndex}',class extends AudioWorkletProcessor{process(){return !1}})`;\n                const blob = new Blob([wrappedSource], { type: 'application/javascript; charset=utf-8' });\n                const url = URL.createObjectURL(blob);\n                return nativeContext.audioWorklet\n                    .addModule(url, options)\n                    .then(() => {\n                    if (isNativeOfflineAudioContext(nativeContext)) {\n                        return nativeContext;\n                    }\n                    // Bug #186: Chrome and Edge do not allow to create an AudioWorkletNode on a closed AudioContext.\n                    const backupOfflineAudioContext = getOrCreateBackupOfflineAudioContext(nativeContext);\n                    return backupOfflineAudioContext.audioWorklet.addModule(url, options).then(() => backupOfflineAudioContext);\n                })\n                    .then((nativeContextOrBackupOfflineAudioContext) => {\n                    if (nativeAudioWorkletNodeConstructor === null) {\n                        throw new SyntaxError();\n                    }\n                    try {\n                        // Bug #190: Safari doesn't throw an error when loading an unparsable module.\n                        new nativeAudioWorkletNodeConstructor(nativeContextOrBackupOfflineAudioContext, `__sac${currentIndex}`); // tslint:disable-line:no-unused-expression\n                    }\n                    catch {\n                        throw new SyntaxError();\n                    }\n                })\n                    .finally(() => URL.revokeObjectURL(url));\n            });\n        if (ongoingRequestsOfContext === undefined) {\n            ongoingRequests.set(context, new Map([[moduleURL, promise]]));\n        }\n        else {\n            ongoingRequestsOfContext.set(moduleURL, promise);\n        }\n        promise\n            .then(() => {\n            const updatedResolvedRequestsOfContext = resolvedRequests.get(context);\n            if (updatedResolvedRequestsOfContext === undefined) {\n                resolvedRequests.set(context, new Set([moduleURL]));\n            }\n            else {\n                updatedResolvedRequestsOfContext.add(moduleURL);\n            }\n        })\n            .finally(() => {\n            const updatedOngoingRequestsOfContext = ongoingRequests.get(context);\n            if (updatedOngoingRequestsOfContext !== undefined) {\n                updatedOngoingRequestsOfContext.delete(moduleURL);\n            }\n        });\n        return promise;\n    };\n};\n//# sourceMappingURL=add-audio-worklet-module.js.map","export const getValueForKey = (map, key) => {\n    const value = map.get(key);\n    if (value === undefined) {\n        throw new Error('A value with the given key could not be found.');\n    }\n    return value;\n};\n//# sourceMappingURL=get-value-for-key.js.map","export const pickElementFromSet = (set, predicate) => {\n    const matchingElements = Array.from(set).filter(predicate);\n    if (matchingElements.length > 1) {\n        throw Error('More than one element was found.');\n    }\n    if (matchingElements.length === 0) {\n        throw Error('No element was found.');\n    }\n    const [matchingElement] = matchingElements;\n    set.delete(matchingElement);\n    return matchingElement;\n};\n//# sourceMappingURL=pick-element-from-set.js.map","import { getValueForKey } from './get-value-for-key';\nimport { pickElementFromSet } from './pick-element-from-set';\nexport const deletePassiveInputConnectionToAudioNode = (passiveInputs, source, output, input) => {\n    const passiveInputConnections = getValueForKey(passiveInputs, source);\n    const matchingConnection = pickElementFromSet(passiveInputConnections, (passiveInputConnection) => passiveInputConnection[0] === output && passiveInputConnection[1] === input);\n    if (passiveInputConnections.size === 0) {\n        passiveInputs.delete(source);\n    }\n    return matchingConnection;\n};\n//# sourceMappingURL=delete-passive-input-connection-to-audio-node.js.map","import { EVENT_LISTENERS } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getEventListenersOfAudioNode = (audioNode) => {\n    return getValueForKey(EVENT_LISTENERS, audioNode);\n};\n//# sourceMappingURL=get-event-listeners-of-audio-node.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nimport { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\nexport const setInternalStateToActive = (audioNode) => {\n    if (ACTIVE_AUDIO_NODE_STORE.has(audioNode)) {\n        throw new Error('The AudioNode is already stored.');\n    }\n    ACTIVE_AUDIO_NODE_STORE.add(audioNode);\n    getEventListenersOfAudioNode(audioNode).forEach((eventListener) => eventListener(true));\n};\n//# sourceMappingURL=set-internal-state-to-active.js.map","export const isAudioWorkletNode = (audioNode) => {\n    return 'port' in audioNode;\n};\n//# sourceMappingURL=audio-worklet-node.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nimport { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\nexport const setInternalStateToPassive = (audioNode) => {\n    if (!ACTIVE_AUDIO_NODE_STORE.has(audioNode)) {\n        throw new Error('The AudioNode is not stored.');\n    }\n    ACTIVE_AUDIO_NODE_STORE.delete(audioNode);\n    getEventListenersOfAudioNode(audioNode).forEach((eventListener) => eventListener(false));\n};\n//# sourceMappingURL=set-internal-state-to-passive.js.map","import { isAudioWorkletNode } from '../guards/audio-worklet-node';\nimport { setInternalStateToPassive } from './set-internal-state-to-passive';\n// Set the internalState of the audioNode to 'passive' if it is not an AudioWorkletNode and if it has no 'active' input connections.\nexport const setInternalStateToPassiveWhenNecessary = (audioNode, activeInputs) => {\n    if (!isAudioWorkletNode(audioNode) && activeInputs.every((connections) => connections.size === 0)) {\n        setInternalStateToPassive(audioNode);\n    }\n};\n//# sourceMappingURL=set-internal-state-to-passive-when-necessary.js.map","import { deletePassiveInputConnectionToAudioNode } from '../helpers/delete-passive-input-connection-to-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassiveWhenNecessary } from '../helpers/set-internal-state-to-passive-when-necessary';\nexport const createAddConnectionToAudioNode = (addActiveInputConnectionToAudioNode, addPassiveInputConnectionToAudioNode, connectNativeAudioNodeToNativeAudioNode, deleteActiveInputConnectionToAudioNode, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getAudioNodeTailTime, getEventListenersOfAudioNode, getNativeAudioNode, insertElementInSet, isActiveAudioNode, isPartOfACycle, isPassiveAudioNode) => {\n    const tailTimeTimeoutIds = new WeakMap();\n    return (source, destination, output, input, isOffline) => {\n        const { activeInputs, passiveInputs } = getAudioNodeConnections(destination);\n        const { outputs } = getAudioNodeConnections(source);\n        const eventListeners = getEventListenersOfAudioNode(source);\n        const eventListener = (isActive) => {\n            const nativeDestinationAudioNode = getNativeAudioNode(destination);\n            const nativeSourceAudioNode = getNativeAudioNode(source);\n            if (isActive) {\n                const partialConnection = deletePassiveInputConnectionToAudioNode(passiveInputs, source, output, input);\n                addActiveInputConnectionToAudioNode(activeInputs, source, partialConnection, false);\n                if (!isOffline && !isPartOfACycle(source)) {\n                    connectNativeAudioNodeToNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output, input);\n                }\n                if (isPassiveAudioNode(destination)) {\n                    setInternalStateToActive(destination);\n                }\n            }\n            else {\n                const partialConnection = deleteActiveInputConnectionToAudioNode(activeInputs, source, output, input);\n                addPassiveInputConnectionToAudioNode(passiveInputs, input, partialConnection, false);\n                if (!isOffline && !isPartOfACycle(source)) {\n                    disconnectNativeAudioNodeFromNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output, input);\n                }\n                const tailTime = getAudioNodeTailTime(destination);\n                if (tailTime === 0) {\n                    if (isActiveAudioNode(destination)) {\n                        setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n                    }\n                }\n                else {\n                    const tailTimeTimeoutId = tailTimeTimeoutIds.get(destination);\n                    if (tailTimeTimeoutId !== undefined) {\n                        clearTimeout(tailTimeTimeoutId);\n                    }\n                    tailTimeTimeoutIds.set(destination, setTimeout(() => {\n                        if (isActiveAudioNode(destination)) {\n                            setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n                        }\n                    }, tailTime * 1000));\n                }\n            }\n        };\n        if (insertElementInSet(outputs, [destination, output, input], (outputConnection) => outputConnection[0] === destination && outputConnection[1] === output && outputConnection[2] === input, true)) {\n            eventListeners.add(eventListener);\n            if (isActiveAudioNode(source)) {\n                addActiveInputConnectionToAudioNode(activeInputs, source, [output, input, eventListener], true);\n            }\n            else {\n                addPassiveInputConnectionToAudioNode(passiveInputs, input, [source, output, eventListener], true);\n            }\n            return true;\n        }\n        return false;\n    };\n};\n//# sourceMappingURL=add-connection-to-audio-node.js.map","export const createAddPassiveInputConnectionToAudioNode = (insertElementInSet) => {\n    return (passiveInputs, input, [source, output, eventListener], ignoreDuplicates) => {\n        const passiveInputConnections = passiveInputs.get(source);\n        if (passiveInputConnections === undefined) {\n            passiveInputs.set(source, new Set([[output, input, eventListener]]));\n        }\n        else {\n            insertElementInSet(passiveInputConnections, [output, input, eventListener], (passiveInputConnection) => passiveInputConnection[0] === output && passiveInputConnection[1] === input, ignoreDuplicates);\n        }\n    };\n};\n//# sourceMappingURL=add-passive-input-connection-to-audio-node.js.map","export const createAddSilentConnection = (createNativeGainNode) => {\n    return (nativeContext, nativeAudioScheduledSourceNode) => {\n        const nativeGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n        nativeAudioScheduledSourceNode.connect(nativeGainNode).connect(nativeContext.destination);\n        const disconnect = () => {\n            nativeAudioScheduledSourceNode.removeEventListener('ended', disconnect);\n            nativeAudioScheduledSourceNode.disconnect(nativeGainNode);\n            nativeGainNode.disconnect();\n        };\n        nativeAudioScheduledSourceNode.addEventListener('ended', disconnect);\n    };\n};\n//# sourceMappingURL=add-silent-connection.js.map","export const createAddUnrenderedAudioWorkletNode = (getUnrenderedAudioWorkletNodes) => {\n    return (nativeContext, audioWorkletNode) => {\n        getUnrenderedAudioWorkletNodes(nativeContext).add(audioWorkletNode);\n    };\n};\n//# sourceMappingURL=add-unrendered-audio-worklet-node.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    fftSize: 2048,\n    maxDecibels: -30,\n    minDecibels: -100,\n    smoothingTimeConstant: 0.8\n};\nexport const createAnalyserNodeConstructor = (audionNodeConstructor, createAnalyserNodeRenderer, createIndexSizeError, createNativeAnalyserNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class AnalyserNode extends audionNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeAnalyserNode = createNativeAnalyserNode(nativeContext, mergedOptions);\n            const analyserNodeRenderer = ((isNativeOfflineAudioContext(nativeContext) ? createAnalyserNodeRenderer() : null));\n            super(context, false, nativeAnalyserNode, analyserNodeRenderer);\n            this._nativeAnalyserNode = nativeAnalyserNode;\n        }\n        get fftSize() {\n            return this._nativeAnalyserNode.fftSize;\n        }\n        set fftSize(value) {\n            this._nativeAnalyserNode.fftSize = value;\n        }\n        get frequencyBinCount() {\n            return this._nativeAnalyserNode.frequencyBinCount;\n        }\n        get maxDecibels() {\n            return this._nativeAnalyserNode.maxDecibels;\n        }\n        set maxDecibels(value) {\n            // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n            const maxDecibels = this._nativeAnalyserNode.maxDecibels;\n            this._nativeAnalyserNode.maxDecibels = value;\n            if (!(value > this._nativeAnalyserNode.minDecibels)) {\n                this._nativeAnalyserNode.maxDecibels = maxDecibels;\n                throw createIndexSizeError();\n            }\n        }\n        get minDecibels() {\n            return this._nativeAnalyserNode.minDecibels;\n        }\n        set minDecibels(value) {\n            // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n            const minDecibels = this._nativeAnalyserNode.minDecibels;\n            this._nativeAnalyserNode.minDecibels = value;\n            if (!(this._nativeAnalyserNode.maxDecibels > value)) {\n                this._nativeAnalyserNode.minDecibels = minDecibels;\n                throw createIndexSizeError();\n            }\n        }\n        get smoothingTimeConstant() {\n            return this._nativeAnalyserNode.smoothingTimeConstant;\n        }\n        set smoothingTimeConstant(value) {\n            this._nativeAnalyserNode.smoothingTimeConstant = value;\n        }\n        getByteFrequencyData(array) {\n            this._nativeAnalyserNode.getByteFrequencyData(array);\n        }\n        getByteTimeDomainData(array) {\n            this._nativeAnalyserNode.getByteTimeDomainData(array);\n        }\n        getFloatFrequencyData(array) {\n            this._nativeAnalyserNode.getFloatFrequencyData(array);\n        }\n        getFloatTimeDomainData(array) {\n            this._nativeAnalyserNode.getFloatTimeDomainData(array);\n        }\n    };\n};\n//# sourceMappingURL=analyser-node-constructor.js.map","export const isOwnedByContext = (nativeAudioNode, nativeContext) => {\n    return nativeAudioNode.context === nativeContext;\n};\n//# sourceMappingURL=is-owned-by-context.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createAnalyserNodeRendererFactory = (createNativeAnalyserNode, getNativeAudioNode, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeAnalyserNodes = new WeakMap();\n        const createAnalyserNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAnalyserNode = getNativeAudioNode(proxy);\n            // If the initially used nativeAnalyserNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeAnalyserNodeIsOwnedByContext = isOwnedByContext(nativeAnalyserNode, nativeOfflineAudioContext);\n            if (!nativeAnalyserNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeAnalyserNode.channelCount,\n                    channelCountMode: nativeAnalyserNode.channelCountMode,\n                    channelInterpretation: nativeAnalyserNode.channelInterpretation,\n                    fftSize: nativeAnalyserNode.fftSize,\n                    maxDecibels: nativeAnalyserNode.maxDecibels,\n                    minDecibels: nativeAnalyserNode.minDecibels,\n                    smoothingTimeConstant: nativeAnalyserNode.smoothingTimeConstant\n                };\n                nativeAnalyserNode = createNativeAnalyserNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeAnalyserNodes.set(nativeOfflineAudioContext, nativeAnalyserNode);\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAnalyserNode);\n            return nativeAnalyserNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeAnalyserNode = renderedNativeAnalyserNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAnalyserNode !== undefined) {\n                    return Promise.resolve(renderedNativeAnalyserNode);\n                }\n                return createAnalyserNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=analyser-node-renderer-factory.js.map","export const testAudioBufferCopyChannelMethodsOutOfBoundsSupport = (nativeAudioBuffer) => {\n    try {\n        nativeAudioBuffer.copyToChannel(new Float32Array(1), 0, -1);\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=test-audio-buffer-copy-channel-methods-out-of-bounds-support.js.map","export const createIndexSizeError = () => new DOMException('', 'IndexSizeError');\n//# sourceMappingURL=index-size-error.js.map","import { createIndexSizeError } from '../factories/index-size-error';\nexport const wrapAudioBufferGetChannelDataMethod = (audioBuffer) => {\n    audioBuffer.getChannelData = ((getChannelData) => {\n        return (channel) => {\n            try {\n                return getChannelData.call(audioBuffer, channel);\n            }\n            catch (err) {\n                if (err.code === 12) {\n                    throw createIndexSizeError();\n                }\n                throw err;\n            }\n        };\n    })(audioBuffer.getChannelData);\n};\n//# sourceMappingURL=wrap-audio-buffer-get-channel-data-method.js.map","import { testAudioBufferCopyChannelMethodsOutOfBoundsSupport } from '../helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support';\nimport { wrapAudioBufferGetChannelDataMethod } from '../helpers/wrap-audio-buffer-get-channel-data-method';\nconst DEFAULT_OPTIONS = {\n    numberOfChannels: 1\n};\nexport const createAudioBufferConstructor = (audioBufferStore, cacheTestResult, createNotSupportedError, nativeAudioBufferConstructor, nativeOfflineAudioContextConstructor, testNativeAudioBufferConstructorSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds) => {\n    let nativeOfflineAudioContext = null;\n    return class AudioBuffer {\n        constructor(options) {\n            if (nativeOfflineAudioContextConstructor === null) {\n                throw new Error('Missing the native OfflineAudioContext constructor.');\n            }\n            const { length, numberOfChannels, sampleRate } = { ...DEFAULT_OPTIONS, ...options };\n            if (nativeOfflineAudioContext === null) {\n                nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n            }\n            /*\n             * Bug #99: Firefox does not throw a NotSupportedError when the numberOfChannels is zero. But it only does it when using the\n             * factory function. But since Firefox also supports the constructor everything should be fine.\n             */\n            const audioBuffer = nativeAudioBufferConstructor !== null &&\n                cacheTestResult(testNativeAudioBufferConstructorSupport, testNativeAudioBufferConstructorSupport)\n                ? new nativeAudioBufferConstructor({ length, numberOfChannels, sampleRate })\n                : nativeOfflineAudioContext.createBuffer(numberOfChannels, length, sampleRate);\n            // Bug #99: Safari does not throw an error when the numberOfChannels is zero.\n            if (audioBuffer.numberOfChannels === 0) {\n                throw createNotSupportedError();\n            }\n            // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n            // Bug #100: Safari does throw a wrong error when calling getChannelData() with an out-of-bounds value.\n            if (typeof audioBuffer.copyFromChannel !== 'function') {\n                wrapAudioBufferCopyChannelMethods(audioBuffer);\n                wrapAudioBufferGetChannelDataMethod(audioBuffer);\n                // Bug #157: Firefox does not allow the bufferOffset to be out-of-bounds.\n            }\n            else if (!cacheTestResult(testAudioBufferCopyChannelMethodsOutOfBoundsSupport, () => testAudioBufferCopyChannelMethodsOutOfBoundsSupport(audioBuffer))) {\n                wrapAudioBufferCopyChannelMethodsOutOfBounds(audioBuffer);\n            }\n            audioBufferStore.add(audioBuffer);\n            /*\n             * This does violate all good pratices but it is necessary to allow this AudioBuffer to be used with native\n             * (Offline)AudioContexts.\n             */\n            return audioBuffer;\n        }\n        static [Symbol.hasInstance](instance) {\n            return ((instance !== null && typeof instance === 'object' && Object.getPrototypeOf(instance) === AudioBuffer.prototype) ||\n                audioBufferStore.has(instance));\n        }\n    };\n};\n//# sourceMappingURL=audio-buffer-constructor.js.map","export const MOST_NEGATIVE_SINGLE_FLOAT = -3.4028234663852886e38;\nexport const MOST_POSITIVE_SINGLE_FLOAT = -MOST_NEGATIVE_SINGLE_FLOAT;\n//# sourceMappingURL=constants.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nexport const isActiveAudioNode = (audioNode) => ACTIVE_AUDIO_NODE_STORE.has(audioNode);\n//# sourceMappingURL=is-active-audio-node.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassive } from '../helpers/set-internal-state-to-passive';\nconst DEFAULT_OPTIONS = {\n    buffer: null,\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    // Bug #149: Safari does not yet support the detune AudioParam.\n    loop: false,\n    loopEnd: 0,\n    loopStart: 0,\n    playbackRate: 1\n};\nexport const createAudioBufferSourceNodeConstructor = (audioNodeConstructor, createAudioBufferSourceNodeRenderer, createAudioParam, createInvalidStateError, createNativeAudioBufferSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener) => {\n    return class AudioBufferSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const audioBufferSourceNodeRenderer = ((isOffline ? createAudioBufferSourceNodeRenderer() : null));\n            super(context, false, nativeAudioBufferSourceNode, audioBufferSourceNodeRenderer);\n            this._audioBufferSourceNodeRenderer = audioBufferSourceNodeRenderer;\n            this._isBufferNullified = false;\n            this._isBufferSet = mergedOptions.buffer !== null;\n            this._nativeAudioBufferSourceNode = nativeAudioBufferSourceNode;\n            this._onended = null;\n            // Bug #73: Safari does not export the correct values for maxValue and minValue.\n            this._playbackRate = createAudioParam(this, isOffline, nativeAudioBufferSourceNode.playbackRate, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n        }\n        get buffer() {\n            if (this._isBufferNullified) {\n                return null;\n            }\n            return this._nativeAudioBufferSourceNode.buffer;\n        }\n        set buffer(value) {\n            this._nativeAudioBufferSourceNode.buffer = value;\n            // Bug #72: Only Chrome & Edge do not allow to reassign the buffer yet.\n            if (value !== null) {\n                if (this._isBufferSet) {\n                    throw createInvalidStateError();\n                }\n                this._isBufferSet = true;\n            }\n        }\n        get loop() {\n            return this._nativeAudioBufferSourceNode.loop;\n        }\n        set loop(value) {\n            this._nativeAudioBufferSourceNode.loop = value;\n        }\n        get loopEnd() {\n            return this._nativeAudioBufferSourceNode.loopEnd;\n        }\n        set loopEnd(value) {\n            this._nativeAudioBufferSourceNode.loopEnd = value;\n        }\n        get loopStart() {\n            return this._nativeAudioBufferSourceNode.loopStart;\n        }\n        set loopStart(value) {\n            this._nativeAudioBufferSourceNode.loopStart = value;\n        }\n        get onended() {\n            return this._onended;\n        }\n        set onended(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeAudioBufferSourceNode.onended = wrappedListener;\n            const nativeOnEnded = this._nativeAudioBufferSourceNode.onended;\n            this._onended = nativeOnEnded !== null && nativeOnEnded === wrappedListener ? value : nativeOnEnded;\n        }\n        get playbackRate() {\n            return this._playbackRate;\n        }\n        start(when = 0, offset = 0, duration) {\n            this._nativeAudioBufferSourceNode.start(when, offset, duration);\n            if (this._audioBufferSourceNodeRenderer !== null) {\n                this._audioBufferSourceNodeRenderer.start = duration === undefined ? [when, offset] : [when, offset, duration];\n            }\n            if (this.context.state !== 'closed') {\n                setInternalStateToActive(this);\n                const resetInternalStateToPassive = () => {\n                    this._nativeAudioBufferSourceNode.removeEventListener('ended', resetInternalStateToPassive);\n                    if (isActiveAudioNode(this)) {\n                        setInternalStateToPassive(this);\n                    }\n                };\n                this._nativeAudioBufferSourceNode.addEventListener('ended', resetInternalStateToPassive);\n            }\n        }\n        stop(when = 0) {\n            this._nativeAudioBufferSourceNode.stop(when);\n            if (this._audioBufferSourceNodeRenderer !== null) {\n                this._audioBufferSourceNodeRenderer.stop = when;\n            }\n        }\n    };\n};\n//# sourceMappingURL=audio-buffer-source-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createAudioBufferSourceNodeRendererFactory = (connectAudioParam, createNativeAudioBufferSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeAudioBufferSourceNodes = new WeakMap();\n        let start = null;\n        let stop = null;\n        const createAudioBufferSourceNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioBufferSourceNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeAudioBufferSourceNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeAudioBufferSourceNodeIsOwnedByContext = isOwnedByContext(nativeAudioBufferSourceNode, nativeOfflineAudioContext);\n            if (!nativeAudioBufferSourceNodeIsOwnedByContext) {\n                const options = {\n                    buffer: nativeAudioBufferSourceNode.buffer,\n                    channelCount: nativeAudioBufferSourceNode.channelCount,\n                    channelCountMode: nativeAudioBufferSourceNode.channelCountMode,\n                    channelInterpretation: nativeAudioBufferSourceNode.channelInterpretation,\n                    // Bug #149: Safari does not yet support the detune AudioParam.\n                    loop: nativeAudioBufferSourceNode.loop,\n                    loopEnd: nativeAudioBufferSourceNode.loopEnd,\n                    loopStart: nativeAudioBufferSourceNode.loopStart,\n                    playbackRate: nativeAudioBufferSourceNode.playbackRate.value\n                };\n                nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeOfflineAudioContext, options);\n                if (start !== null) {\n                    nativeAudioBufferSourceNode.start(...start);\n                }\n                if (stop !== null) {\n                    nativeAudioBufferSourceNode.stop(stop);\n                }\n            }\n            renderedNativeAudioBufferSourceNodes.set(nativeOfflineAudioContext, nativeAudioBufferSourceNode);\n            if (!nativeAudioBufferSourceNodeIsOwnedByContext) {\n                // Bug #149: Safari does not yet support the detune AudioParam.\n                await renderAutomation(nativeOfflineAudioContext, proxy.playbackRate, nativeAudioBufferSourceNode.playbackRate);\n            }\n            else {\n                // Bug #149: Safari does not yet support the detune AudioParam.\n                await connectAudioParam(nativeOfflineAudioContext, proxy.playbackRate, nativeAudioBufferSourceNode.playbackRate);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioBufferSourceNode);\n            return nativeAudioBufferSourceNode;\n        };\n        return {\n            set start(value) {\n                start = value;\n            },\n            set stop(value) {\n                stop = value;\n            },\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeAudioBufferSourceNode = renderedNativeAudioBufferSourceNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioBufferSourceNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioBufferSourceNode);\n                }\n                return createAudioBufferSourceNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=audio-buffer-source-node-renderer-factory.js.map","export const isAudioBufferSourceNode = (audioNode) => {\n    return 'playbackRate' in audioNode;\n};\n//# sourceMappingURL=audio-buffer-source-node.js.map","export const isBiquadFilterNode = (audioNode) => {\n    return 'frequency' in audioNode && 'gain' in audioNode;\n};\n//# sourceMappingURL=biquad-filter-node.js.map","export const isConstantSourceNode = (audioNode) => {\n    return 'offset' in audioNode;\n};\n//# sourceMappingURL=constant-source-node.js.map","export const isGainNode = (audioNode) => {\n    return !('frequency' in audioNode) && 'gain' in audioNode;\n};\n//# sourceMappingURL=gain-node.js.map","export const isOscillatorNode = (audioNode) => {\n    return 'detune' in audioNode && 'frequency' in audioNode && !('gain' in audioNode);\n};\n//# sourceMappingURL=oscillator-node.js.map","export const isStereoPannerNode = (audioNode) => {\n    return 'pan' in audioNode;\n};\n//# sourceMappingURL=stereo-panner-node.js.map","import { AUDIO_NODE_CONNECTIONS_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getAudioNodeConnections = (audioNode) => {\n    return getValueForKey(AUDIO_NODE_CONNECTIONS_STORE, audioNode);\n};\n//# sourceMappingURL=get-audio-node-connections.js.map","import { AUDIO_PARAM_CONNECTIONS_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getAudioParamConnections = (audioParam) => {\n    return getValueForKey(AUDIO_PARAM_CONNECTIONS_STORE, audioParam);\n};\n//# sourceMappingURL=get-audio-param-connections.js.map","import { isAudioBufferSourceNode } from '../guards/audio-buffer-source-node';\nimport { isAudioWorkletNode } from '../guards/audio-worklet-node';\nimport { isBiquadFilterNode } from '../guards/biquad-filter-node';\nimport { isConstantSourceNode } from '../guards/constant-source-node';\nimport { isGainNode } from '../guards/gain-node';\nimport { isOscillatorNode } from '../guards/oscillator-node';\nimport { isStereoPannerNode } from '../guards/stereo-panner-node';\nimport { getAudioNodeConnections } from './get-audio-node-connections';\nimport { getAudioParamConnections } from './get-audio-param-connections';\nimport { isActiveAudioNode } from './is-active-audio-node';\nimport { setInternalStateToPassive } from './set-internal-state-to-passive';\nexport const deactivateActiveAudioNodeInputConnections = (audioNode, trace) => {\n    const { activeInputs } = getAudioNodeConnections(audioNode);\n    activeInputs.forEach((connections) => connections.forEach(([source]) => {\n        if (!trace.includes(audioNode)) {\n            deactivateActiveAudioNodeInputConnections(source, [...trace, audioNode]);\n        }\n    }));\n    const audioParams = isAudioBufferSourceNode(audioNode)\n        ? [\n            // Bug #149: Safari does not yet support the detune AudioParam.\n            audioNode.playbackRate\n        ]\n        : isAudioWorkletNode(audioNode)\n            ? Array.from(audioNode.parameters.values())\n            : isBiquadFilterNode(audioNode)\n                ? [audioNode.Q, audioNode.detune, audioNode.frequency, audioNode.gain]\n                : isConstantSourceNode(audioNode)\n                    ? [audioNode.offset]\n                    : isGainNode(audioNode)\n                        ? [audioNode.gain]\n                        : isOscillatorNode(audioNode)\n                            ? [audioNode.detune, audioNode.frequency]\n                            : isStereoPannerNode(audioNode)\n                                ? [audioNode.pan]\n                                : [];\n    for (const audioParam of audioParams) {\n        const audioParamConnections = getAudioParamConnections(audioParam);\n        if (audioParamConnections !== undefined) {\n            audioParamConnections.activeInputs.forEach(([source]) => deactivateActiveAudioNodeInputConnections(source, trace));\n        }\n    }\n    if (isActiveAudioNode(audioNode)) {\n        setInternalStateToPassive(audioNode);\n    }\n};\n//# sourceMappingURL=deactivate-active-audio-node-input-connections.js.map","import { deactivateActiveAudioNodeInputConnections } from './deactivate-active-audio-node-input-connections';\nexport const deactivateAudioGraph = (context) => {\n    deactivateActiveAudioNodeInputConnections(context.destination, []);\n};\n//# sourceMappingURL=deactivate-audio-graph.js.map","export const isValidLatencyHint = (latencyHint) => {\n    return (latencyHint === undefined ||\n        typeof latencyHint === 'number' ||\n        (typeof latencyHint === 'string' && (latencyHint === 'balanced' || latencyHint === 'interactive' || latencyHint === 'playback')));\n};\n//# sourceMappingURL=is-valid-latency-hint.js.map","import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { isValidLatencyHint } from '../helpers/is-valid-latency-hint';\nexport const createAudioContextConstructor = (baseAudioContextConstructor, createInvalidStateError, createNotSupportedError, createUnknownError, mediaElementAudioSourceNodeConstructor, mediaStreamAudioDestinationNodeConstructor, mediaStreamAudioSourceNodeConstructor, mediaStreamTrackAudioSourceNodeConstructor, nativeAudioContextConstructor) => {\n    return class AudioContext extends baseAudioContextConstructor {\n        constructor(options = {}) {\n            if (nativeAudioContextConstructor === null) {\n                throw new Error('Missing the native AudioContext constructor.');\n            }\n            let nativeAudioContext;\n            try {\n                nativeAudioContext = new nativeAudioContextConstructor(options);\n            }\n            catch (err) {\n                // Bug #192 Safari does throw a SyntaxError if the sampleRate is not supported.\n                if (err.code === 12 && err.message === 'sampleRate is not in range') {\n                    throw createNotSupportedError();\n                }\n                throw err;\n            }\n            // Bug #131 Safari returns null when there are four other AudioContexts running already.\n            if (nativeAudioContext === null) {\n                throw createUnknownError();\n            }\n            // Bug #51 Only Chrome and Edge throw an error if the given latencyHint is invalid.\n            if (!isValidLatencyHint(options.latencyHint)) {\n                throw new TypeError(`The provided value '${options.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);\n            }\n            // Bug #150 Safari does not support setting the sampleRate.\n            if (options.sampleRate !== undefined && nativeAudioContext.sampleRate !== options.sampleRate) {\n                throw createNotSupportedError();\n            }\n            super(nativeAudioContext, 2);\n            const { latencyHint } = options;\n            const { sampleRate } = nativeAudioContext;\n            // @todo The values for 'balanced', 'interactive' and 'playback' are just copied from Chrome's implementation.\n            this._baseLatency =\n                typeof nativeAudioContext.baseLatency === 'number'\n                    ? nativeAudioContext.baseLatency\n                    : latencyHint === 'balanced'\n                        ? 512 / sampleRate\n                        : latencyHint === 'interactive' || latencyHint === undefined\n                            ? 256 / sampleRate\n                            : latencyHint === 'playback'\n                                ? 1024 / sampleRate\n                                : /*\n                                   * @todo The min (256) and max (16384) values are taken from the allowed bufferSize values of a\n                                   * ScriptProcessorNode.\n                                   */\n                                    (Math.max(2, Math.min(128, Math.round((latencyHint * sampleRate) / 128))) * 128) / sampleRate;\n            this._nativeAudioContext = nativeAudioContext;\n            // Bug #188: Safari will set the context's state to 'interrupted' in case the user switches tabs.\n            if (nativeAudioContextConstructor.name === 'webkitAudioContext') {\n                this._nativeGainNode = nativeAudioContext.createGain();\n                this._nativeOscillatorNode = nativeAudioContext.createOscillator();\n                this._nativeGainNode.gain.value = 1e-37;\n                this._nativeOscillatorNode.connect(this._nativeGainNode).connect(nativeAudioContext.destination);\n                this._nativeOscillatorNode.start();\n            }\n            else {\n                this._nativeGainNode = null;\n                this._nativeOscillatorNode = null;\n            }\n            this._state = null;\n            /*\n             * Bug #34: Chrome and Edge pretend to be running right away, but fire an onstatechange event when the state actually changes\n             * to 'running'.\n             */\n            if (nativeAudioContext.state === 'running') {\n                this._state = 'suspended';\n                const revokeState = () => {\n                    if (this._state === 'suspended') {\n                        this._state = null;\n                    }\n                    nativeAudioContext.removeEventListener('statechange', revokeState);\n                };\n                nativeAudioContext.addEventListener('statechange', revokeState);\n            }\n        }\n        get baseLatency() {\n            return this._baseLatency;\n        }\n        get state() {\n            return this._state !== null ? this._state : this._nativeAudioContext.state;\n        }\n        close() {\n            // Bug #35: Firefox does not throw an error if the AudioContext was closed before.\n            if (this.state === 'closed') {\n                return this._nativeAudioContext.close().then(() => {\n                    throw createInvalidStateError();\n                });\n            }\n            // Bug #34: If the state was set to suspended before it should be revoked now.\n            if (this._state === 'suspended') {\n                this._state = null;\n            }\n            return this._nativeAudioContext.close().then(() => {\n                if (this._nativeGainNode !== null && this._nativeOscillatorNode !== null) {\n                    this._nativeOscillatorNode.stop();\n                    this._nativeGainNode.disconnect();\n                    this._nativeOscillatorNode.disconnect();\n                }\n                deactivateAudioGraph(this);\n            });\n        }\n        createMediaElementSource(mediaElement) {\n            return new mediaElementAudioSourceNodeConstructor(this, { mediaElement });\n        }\n        createMediaStreamDestination() {\n            return new mediaStreamAudioDestinationNodeConstructor(this);\n        }\n        createMediaStreamSource(mediaStream) {\n            return new mediaStreamAudioSourceNodeConstructor(this, { mediaStream });\n        }\n        createMediaStreamTrackSource(mediaStreamTrack) {\n            return new mediaStreamTrackAudioSourceNodeConstructor(this, { mediaStreamTrack });\n        }\n        resume() {\n            if (this._state === 'suspended') {\n                return new Promise((resolve, reject) => {\n                    const resolvePromise = () => {\n                        this._nativeAudioContext.removeEventListener('statechange', resolvePromise);\n                        if (this._nativeAudioContext.state === 'running') {\n                            resolve();\n                        }\n                        else {\n                            this.resume().then(resolve, reject);\n                        }\n                    };\n                    this._nativeAudioContext.addEventListener('statechange', resolvePromise);\n                });\n            }\n            return this._nativeAudioContext.resume().catch((err) => {\n                // Bug #55: Chrome and Edge do throw an InvalidAccessError instead of an InvalidStateError.\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined || err.code === 15) {\n                    throw createInvalidStateError();\n                }\n                throw err;\n            });\n        }\n        suspend() {\n            return this._nativeAudioContext.suspend().catch((err) => {\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined) {\n                    throw createInvalidStateError();\n                }\n                throw err;\n            });\n        }\n    };\n};\n//# sourceMappingURL=audio-context-constructor.js.map","export const createAudioDestinationNodeConstructor = (audioNodeConstructor, createAudioDestinationNodeRenderer, createIndexSizeError, createInvalidStateError, createNativeAudioDestinationNode, getNativeContext, isNativeOfflineAudioContext, renderInputsOfAudioNode) => {\n    return class AudioDestinationNode extends audioNodeConstructor {\n        constructor(context, channelCount) {\n            const nativeContext = getNativeContext(context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const nativeAudioDestinationNode = createNativeAudioDestinationNode(nativeContext, channelCount, isOffline);\n            const audioDestinationNodeRenderer = ((isOffline ? createAudioDestinationNodeRenderer(renderInputsOfAudioNode) : null));\n            super(context, false, nativeAudioDestinationNode, audioDestinationNodeRenderer);\n            this._isNodeOfNativeOfflineAudioContext = isOffline;\n            this._nativeAudioDestinationNode = nativeAudioDestinationNode;\n        }\n        get channelCount() {\n            return this._nativeAudioDestinationNode.channelCount;\n        }\n        set channelCount(value) {\n            // Bug #52: Chrome, Edge & Safari do not throw an exception at all.\n            // Bug #54: Firefox does throw an IndexSizeError.\n            if (this._isNodeOfNativeOfflineAudioContext) {\n                throw createInvalidStateError();\n            }\n            // Bug #47: The AudioDestinationNode in Safari does not initialize the maxChannelCount property correctly.\n            if (value > this._nativeAudioDestinationNode.maxChannelCount) {\n                throw createIndexSizeError();\n            }\n            this._nativeAudioDestinationNode.channelCount = value;\n        }\n        get channelCountMode() {\n            return this._nativeAudioDestinationNode.channelCountMode;\n        }\n        set channelCountMode(value) {\n            // Bug #53: No browser does throw an exception yet.\n            if (this._isNodeOfNativeOfflineAudioContext) {\n                throw createInvalidStateError();\n            }\n            this._nativeAudioDestinationNode.channelCountMode = value;\n        }\n        get maxChannelCount() {\n            return this._nativeAudioDestinationNode.maxChannelCount;\n        }\n    };\n};\n//# sourceMappingURL=audio-destination-node-constructor.js.map","export const createAudioDestinationNodeRenderer = (renderInputsOfAudioNode) => {\n    const renderedNativeAudioDestinationNodes = new WeakMap();\n    const createAudioDestinationNode = async (proxy, nativeOfflineAudioContext) => {\n        const nativeAudioDestinationNode = nativeOfflineAudioContext.destination;\n        renderedNativeAudioDestinationNodes.set(nativeOfflineAudioContext, nativeAudioDestinationNode);\n        await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioDestinationNode);\n        return nativeAudioDestinationNode;\n    };\n    return {\n        render(proxy, nativeOfflineAudioContext) {\n            const renderedNativeAudioDestinationNode = renderedNativeAudioDestinationNodes.get(nativeOfflineAudioContext);\n            if (renderedNativeAudioDestinationNode !== undefined) {\n                return Promise.resolve(renderedNativeAudioDestinationNode);\n            }\n            return createAudioDestinationNode(proxy, nativeOfflineAudioContext);\n        }\n    };\n};\n//# sourceMappingURL=audio-destination-node-renderer-factory.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nexport const createAudioListenerFactory = (createAudioParam, createNativeChannelMergerNode, createNativeConstantSourceNode, createNativeScriptProcessorNode, createNotSupportedError, getFirstSample, isNativeOfflineAudioContext, overwriteAccessors) => {\n    return (context, nativeContext) => {\n        const nativeListener = nativeContext.listener;\n        // Bug #117: Only Chrome & Edge support the new interface already.\n        const createFakeAudioParams = () => {\n            const buffer = new Float32Array(1);\n            const channelMergerNode = createNativeChannelMergerNode(nativeContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'speakers',\n                numberOfInputs: 9\n            });\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            let isScriptProcessorNodeCreated = false;\n            let lastOrientation = [0, 0, -1, 0, 1, 0];\n            let lastPosition = [0, 0, 0];\n            const createScriptProcessorNode = () => {\n                if (isScriptProcessorNodeCreated) {\n                    return;\n                }\n                isScriptProcessorNodeCreated = true;\n                const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, 256, 9, 0);\n                // tslint:disable-next-line:deprecation\n                scriptProcessorNode.onaudioprocess = ({ inputBuffer }) => {\n                    const orientation = [\n                        getFirstSample(inputBuffer, buffer, 0),\n                        getFirstSample(inputBuffer, buffer, 1),\n                        getFirstSample(inputBuffer, buffer, 2),\n                        getFirstSample(inputBuffer, buffer, 3),\n                        getFirstSample(inputBuffer, buffer, 4),\n                        getFirstSample(inputBuffer, buffer, 5)\n                    ];\n                    if (orientation.some((value, index) => value !== lastOrientation[index])) {\n                        nativeListener.setOrientation(...orientation); // tslint:disable-line:deprecation\n                        lastOrientation = orientation;\n                    }\n                    const positon = [\n                        getFirstSample(inputBuffer, buffer, 6),\n                        getFirstSample(inputBuffer, buffer, 7),\n                        getFirstSample(inputBuffer, buffer, 8)\n                    ];\n                    if (positon.some((value, index) => value !== lastPosition[index])) {\n                        nativeListener.setPosition(...positon); // tslint:disable-line:deprecation\n                        lastPosition = positon;\n                    }\n                };\n                channelMergerNode.connect(scriptProcessorNode);\n            };\n            const createSetOrientation = (index) => (value) => {\n                if (value !== lastOrientation[index]) {\n                    lastOrientation[index] = value;\n                    nativeListener.setOrientation(...lastOrientation); // tslint:disable-line:deprecation\n                }\n            };\n            const createSetPosition = (index) => (value) => {\n                if (value !== lastPosition[index]) {\n                    lastPosition[index] = value;\n                    nativeListener.setPosition(...lastPosition); // tslint:disable-line:deprecation\n                }\n            };\n            const createFakeAudioParam = (input, initialValue, setValue) => {\n                const constantSourceNode = createNativeConstantSourceNode(nativeContext, {\n                    channelCount: 1,\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    offset: initialValue\n                });\n                constantSourceNode.connect(channelMergerNode, 0, input);\n                // @todo This should be stopped when the context is closed.\n                constantSourceNode.start();\n                Object.defineProperty(constantSourceNode.offset, 'defaultValue', {\n                    get() {\n                        return initialValue;\n                    }\n                });\n                /*\n                 * Bug #62 & #74: Safari does not support ConstantSourceNodes and does not export the correct values for maxValue and\n                 * minValue for GainNodes.\n                 */\n                const audioParam = createAudioParam({ context }, isOffline, constantSourceNode.offset, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n                overwriteAccessors(audioParam, 'value', (get) => () => get.call(audioParam), (set) => (value) => {\n                    try {\n                        set.call(audioParam, value);\n                    }\n                    catch (err) {\n                        if (err.code !== 9) {\n                            throw err;\n                        }\n                    }\n                    createScriptProcessorNode();\n                    if (isOffline) {\n                        // Bug #117: Using setOrientation() and setPosition() doesn't work with an OfflineAudioContext.\n                        setValue(value);\n                    }\n                });\n                audioParam.cancelAndHoldAtTime = ((cancelAndHoldAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = cancelAndHoldAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.cancelAndHoldAtTime);\n                audioParam.cancelScheduledValues = ((cancelScheduledValues) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = cancelScheduledValues.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.cancelScheduledValues);\n                audioParam.exponentialRampToValueAtTime = ((exponentialRampToValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = exponentialRampToValueAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.exponentialRampToValueAtTime);\n                audioParam.linearRampToValueAtTime = ((linearRampToValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = linearRampToValueAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.linearRampToValueAtTime);\n                audioParam.setTargetAtTime = ((setTargetAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = setTargetAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.setTargetAtTime);\n                audioParam.setValueAtTime = ((setValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = setValueAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.setValueAtTime);\n                audioParam.setValueCurveAtTime = ((setValueCurveAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = setValueCurveAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.setValueCurveAtTime);\n                return audioParam;\n            };\n            return {\n                forwardX: createFakeAudioParam(0, 0, createSetOrientation(0)),\n                forwardY: createFakeAudioParam(1, 0, createSetOrientation(1)),\n                forwardZ: createFakeAudioParam(2, -1, createSetOrientation(2)),\n                positionX: createFakeAudioParam(6, 0, createSetPosition(0)),\n                positionY: createFakeAudioParam(7, 0, createSetPosition(1)),\n                positionZ: createFakeAudioParam(8, 0, createSetPosition(2)),\n                upX: createFakeAudioParam(3, 0, createSetOrientation(3)),\n                upY: createFakeAudioParam(4, 1, createSetOrientation(4)),\n                upZ: createFakeAudioParam(5, 0, createSetOrientation(5))\n            };\n        };\n        const { forwardX, forwardY, forwardZ, positionX, positionY, positionZ, upX, upY, upZ } = nativeListener.forwardX === undefined ? createFakeAudioParams() : nativeListener;\n        return {\n            get forwardX() {\n                return forwardX;\n            },\n            get forwardY() {\n                return forwardY;\n            },\n            get forwardZ() {\n                return forwardZ;\n            },\n            get positionX() {\n                return positionX;\n            },\n            get positionY() {\n                return positionY;\n            },\n            get positionZ() {\n                return positionZ;\n            },\n            get upX() {\n                return upX;\n            },\n            get upY() {\n                return upY;\n            },\n            get upZ() {\n                return upZ;\n            }\n        };\n    };\n};\n//# sourceMappingURL=audio-listener-factory.js.map","export const isAudioNode = (audioNodeOrAudioParam) => {\n    return 'context' in audioNodeOrAudioParam;\n};\n//# sourceMappingURL=audio-node.js.map","import { isAudioNode } from './audio-node';\nexport const isAudioNodeOutputConnection = (outputConnection) => {\n    return isAudioNode(outputConnection[0]);\n};\n//# sourceMappingURL=audio-node-output-connection.js.map","export const insertElementInSet = (set, element, predicate, ignoreDuplicates) => {\n    for (const lmnt of set) {\n        if (predicate(lmnt)) {\n            if (ignoreDuplicates) {\n                return false;\n            }\n            throw Error('The set contains at least one similar element.');\n        }\n    }\n    set.add(element);\n    return true;\n};\n//# sourceMappingURL=insert-element-in-set.js.map","import { insertElementInSet } from './insert-element-in-set';\nexport const addActiveInputConnectionToAudioParam = (activeInputs, source, [output, eventListener], ignoreDuplicates) => {\n    insertElementInSet(activeInputs, [source, output, eventListener], (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output, ignoreDuplicates);\n};\n//# sourceMappingURL=add-active-input-connection-to-audio-param.js.map","import { insertElementInSet } from './insert-element-in-set';\nexport const addPassiveInputConnectionToAudioParam = (passiveInputs, [source, output, eventListener], ignoreDuplicates) => {\n    const passiveInputConnections = passiveInputs.get(source);\n    if (passiveInputConnections === undefined) {\n        passiveInputs.set(source, new Set([[output, eventListener]]));\n    }\n    else {\n        insertElementInSet(passiveInputConnections, [output, eventListener], (passiveInputConnection) => passiveInputConnection[0] === output, ignoreDuplicates);\n    }\n};\n//# sourceMappingURL=add-passive-input-connection-to-audio-param.js.map","export const isNativeAudioNodeFaker = (nativeAudioNodeOrNativeAudioNodeFaker) => {\n    return 'inputs' in nativeAudioNodeOrNativeAudioNodeFaker;\n};\n//# sourceMappingURL=native-audio-node-faker.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nexport const connectNativeAudioNodeToNativeAudioNode = (nativeSourceAudioNode, nativeDestinationAudioNode, output, input) => {\n    if (isNativeAudioNodeFaker(nativeDestinationAudioNode)) {\n        const fakeNativeDestinationAudioNode = nativeDestinationAudioNode.inputs[input];\n        nativeSourceAudioNode.connect(fakeNativeDestinationAudioNode, output, 0);\n        return [fakeNativeDestinationAudioNode, output, 0];\n    }\n    nativeSourceAudioNode.connect(nativeDestinationAudioNode, output, input);\n    return [nativeDestinationAudioNode, output, input];\n};\n//# sourceMappingURL=connect-native-audio-node-to-native-audio-node.js.map","export const deleteActiveInputConnection = (activeInputConnections, source, output) => {\n    for (const activeInputConnection of activeInputConnections) {\n        if (activeInputConnection[0] === source && activeInputConnection[1] === output) {\n            activeInputConnections.delete(activeInputConnection);\n            return activeInputConnection;\n        }\n    }\n    return null;\n};\n//# sourceMappingURL=delete-active-input-connection.js.map","import { pickElementFromSet } from './pick-element-from-set';\nexport const deleteActiveInputConnectionToAudioParam = (activeInputs, source, output) => {\n    return pickElementFromSet(activeInputs, (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output);\n};\n//# sourceMappingURL=delete-active-input-connection-to-audio-param.js.map","import { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\nexport const deleteEventListenerOfAudioNode = (audioNode, eventListener) => {\n    const eventListeners = getEventListenersOfAudioNode(audioNode);\n    if (!eventListeners.delete(eventListener)) {\n        throw new Error('Missing the expected event listener.');\n    }\n};\n//# sourceMappingURL=delete-event-listeners-of-audio-node.js.map","import { getValueForKey } from './get-value-for-key';\nimport { pickElementFromSet } from './pick-element-from-set';\nexport const deletePassiveInputConnectionToAudioParam = (passiveInputs, source, output) => {\n    const passiveInputConnections = getValueForKey(passiveInputs, source);\n    const matchingConnection = pickElementFromSet(passiveInputConnections, (passiveInputConnection) => passiveInputConnection[0] === output);\n    if (passiveInputConnections.size === 0) {\n        passiveInputs.delete(source);\n    }\n    return matchingConnection;\n};\n//# sourceMappingURL=delete-passive-input-connection-to-audio-param.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nexport const disconnectNativeAudioNodeFromNativeAudioNode = (nativeSourceAudioNode, nativeDestinationAudioNode, output, input) => {\n    if (isNativeAudioNodeFaker(nativeDestinationAudioNode)) {\n        nativeSourceAudioNode.disconnect(nativeDestinationAudioNode.inputs[input], output, 0);\n    }\n    else {\n        nativeSourceAudioNode.disconnect(nativeDestinationAudioNode, output, input);\n    }\n};\n//# sourceMappingURL=disconnect-native-audio-node-from-native-audio-node.js.map","import { AUDIO_NODE_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getNativeAudioNode = (audioNode) => {\n    return getValueForKey(AUDIO_NODE_STORE, audioNode);\n};\n//# sourceMappingURL=get-native-audio-node.js.map","import { AUDIO_PARAM_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getNativeAudioParam = (audioParam) => {\n    return getValueForKey(AUDIO_PARAM_STORE, audioParam);\n};\n//# sourceMappingURL=get-native-audio-param.js.map","import { CYCLE_COUNTERS } from '../globals';\nexport const isPartOfACycle = (audioNode) => {\n    return CYCLE_COUNTERS.has(audioNode);\n};\n//# sourceMappingURL=is-part-of-a-cycle.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nexport const isPassiveAudioNode = (audioNode) => {\n    return !ACTIVE_AUDIO_NODE_STORE.has(audioNode);\n};\n//# sourceMappingURL=is-passive-audio-node.js.map","export const testAudioNodeDisconnectMethodSupport = (nativeAudioContext, nativeAudioWorkletNodeConstructor) => {\n    return new Promise((resolve) => {\n        /*\n         * This bug existed in Safari up until v14.0.2. Since AudioWorklets were not supported in Safari until v14.1 the presence of the\n         * constructor for an AudioWorkletNode can be used here to skip the test.\n         */\n        if (nativeAudioWorkletNodeConstructor !== null) {\n            resolve(true);\n        }\n        else {\n            const analyzer = nativeAudioContext.createScriptProcessor(256, 1, 1); // tslint:disable-line deprecation\n            const dummy = nativeAudioContext.createGain();\n            // Bug #95: Safari does not play one sample buffers.\n            const ones = nativeAudioContext.createBuffer(1, 2, 44100);\n            const channelData = ones.getChannelData(0);\n            channelData[0] = 1;\n            channelData[1] = 1;\n            const source = nativeAudioContext.createBufferSource();\n            source.buffer = ones;\n            source.loop = true;\n            source.connect(analyzer).connect(nativeAudioContext.destination);\n            source.connect(dummy);\n            source.disconnect(dummy);\n            // tslint:disable-next-line:deprecation\n            analyzer.onaudioprocess = (event) => {\n                const chnnlDt = event.inputBuffer.getChannelData(0); // tslint:disable-line deprecation\n                if (Array.prototype.some.call(chnnlDt, (sample) => sample === 1)) {\n                    resolve(true);\n                }\n                else {\n                    resolve(false);\n                }\n                source.stop();\n                analyzer.onaudioprocess = null; // tslint:disable-line:deprecation\n                source.disconnect(analyzer);\n                analyzer.disconnect(nativeAudioContext.destination);\n            };\n            source.start();\n        }\n    });\n};\n//# sourceMappingURL=test-audio-node-disconnect-method-support.js.map","export const visitEachAudioNodeOnce = (cycles, visitor) => {\n    const counts = new Map();\n    for (const cycle of cycles) {\n        for (const audioNode of cycle) {\n            const count = counts.get(audioNode);\n            counts.set(audioNode, count === undefined ? 1 : count + 1);\n        }\n    }\n    counts.forEach((count, audioNode) => visitor(audioNode, count));\n};\n//# sourceMappingURL=visit-each-audio-node-once.js.map","export const isNativeAudioNode = (nativeAudioNodeOrAudioParam) => {\n    return 'context' in nativeAudioNodeOrAudioParam;\n};\n//# sourceMappingURL=native-audio-node.js.map","import { isNativeAudioNode } from '../guards/native-audio-node';\nexport const wrapAudioNodeDisconnectMethod = (nativeAudioNode) => {\n    const connections = new Map();\n    nativeAudioNode.connect = ((connect) => {\n        // tslint:disable-next-line:invalid-void no-inferrable-types\n        return (destination, output = 0, input = 0) => {\n            const returnValue = isNativeAudioNode(destination) ? connect(destination, output, input) : connect(destination, output);\n            // Save the new connection only if the calls to connect above didn't throw an error.\n            const connectionsToDestination = connections.get(destination);\n            if (connectionsToDestination === undefined) {\n                connections.set(destination, [{ input, output }]);\n            }\n            else {\n                if (connectionsToDestination.every((connection) => connection.input !== input || connection.output !== output)) {\n                    connectionsToDestination.push({ input, output });\n                }\n            }\n            return returnValue;\n        };\n    })(nativeAudioNode.connect.bind(nativeAudioNode));\n    nativeAudioNode.disconnect = ((disconnect) => {\n        return (destinationOrOutput, output, input) => {\n            disconnect.apply(nativeAudioNode);\n            if (destinationOrOutput === undefined) {\n                connections.clear();\n            }\n            else if (typeof destinationOrOutput === 'number') {\n                for (const [destination, connectionsToDestination] of connections) {\n                    const filteredConnections = connectionsToDestination.filter((connection) => connection.output !== destinationOrOutput);\n                    if (filteredConnections.length === 0) {\n                        connections.delete(destination);\n                    }\n                    else {\n                        connections.set(destination, filteredConnections);\n                    }\n                }\n            }\n            else if (connections.has(destinationOrOutput)) {\n                if (output === undefined) {\n                    connections.delete(destinationOrOutput);\n                }\n                else {\n                    const connectionsToDestination = connections.get(destinationOrOutput);\n                    if (connectionsToDestination !== undefined) {\n                        const filteredConnections = connectionsToDestination.filter((connection) => connection.output !== output && (connection.input !== input || input === undefined));\n                        if (filteredConnections.length === 0) {\n                            connections.delete(destinationOrOutput);\n                        }\n                        else {\n                            connections.set(destinationOrOutput, filteredConnections);\n                        }\n                    }\n                }\n            }\n            for (const [destination, connectionsToDestination] of connections) {\n                connectionsToDestination.forEach((connection) => {\n                    if (isNativeAudioNode(destination)) {\n                        nativeAudioNode.connect(destination, connection.output, connection.input);\n                    }\n                    else {\n                        nativeAudioNode.connect(destination, connection.output);\n                    }\n                });\n            }\n        };\n    })(nativeAudioNode.disconnect);\n};\n//# sourceMappingURL=wrap-audio-node-disconnect-method.js.map","import { AUDIO_NODE_STORE, EVENT_LISTENERS } from '../globals';\nimport { isAudioNode } from '../guards/audio-node';\nimport { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nimport { addActiveInputConnectionToAudioParam } from '../helpers/add-active-input-connection-to-audio-param';\nimport { addPassiveInputConnectionToAudioParam } from '../helpers/add-passive-input-connection-to-audio-param';\nimport { connectNativeAudioNodeToNativeAudioNode } from '../helpers/connect-native-audio-node-to-native-audio-node';\nimport { deleteActiveInputConnection } from '../helpers/delete-active-input-connection';\nimport { deleteActiveInputConnectionToAudioParam } from '../helpers/delete-active-input-connection-to-audio-param';\nimport { deleteEventListenerOfAudioNode } from '../helpers/delete-event-listeners-of-audio-node';\nimport { deletePassiveInputConnectionToAudioNode } from '../helpers/delete-passive-input-connection-to-audio-node';\nimport { deletePassiveInputConnectionToAudioParam } from '../helpers/delete-passive-input-connection-to-audio-param';\nimport { disconnectNativeAudioNodeFromNativeAudioNode } from '../helpers/disconnect-native-audio-node-from-native-audio-node';\nimport { getAudioNodeConnections } from '../helpers/get-audio-node-connections';\nimport { getAudioParamConnections } from '../helpers/get-audio-param-connections';\nimport { getEventListenersOfAudioNode } from '../helpers/get-event-listeners-of-audio-node';\nimport { getNativeAudioNode } from '../helpers/get-native-audio-node';\nimport { getNativeAudioParam } from '../helpers/get-native-audio-param';\nimport { insertElementInSet } from '../helpers/insert-element-in-set';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { isPartOfACycle } from '../helpers/is-part-of-a-cycle';\nimport { isPassiveAudioNode } from '../helpers/is-passive-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassiveWhenNecessary } from '../helpers/set-internal-state-to-passive-when-necessary';\nimport { testAudioNodeDisconnectMethodSupport } from '../helpers/test-audio-node-disconnect-method-support';\nimport { visitEachAudioNodeOnce } from '../helpers/visit-each-audio-node-once';\nimport { wrapAudioNodeDisconnectMethod } from '../helpers/wrap-audio-node-disconnect-method';\nconst addConnectionToAudioParamOfAudioContext = (source, destination, output, isOffline) => {\n    const { activeInputs, passiveInputs } = getAudioParamConnections(destination);\n    const { outputs } = getAudioNodeConnections(source);\n    const eventListeners = getEventListenersOfAudioNode(source);\n    const eventListener = (isActive) => {\n        const nativeAudioNode = getNativeAudioNode(source);\n        const nativeAudioParam = getNativeAudioParam(destination);\n        if (isActive) {\n            const partialConnection = deletePassiveInputConnectionToAudioParam(passiveInputs, source, output);\n            addActiveInputConnectionToAudioParam(activeInputs, source, partialConnection, false);\n            if (!isOffline && !isPartOfACycle(source)) {\n                nativeAudioNode.connect(nativeAudioParam, output);\n            }\n        }\n        else {\n            const partialConnection = deleteActiveInputConnectionToAudioParam(activeInputs, source, output);\n            addPassiveInputConnectionToAudioParam(passiveInputs, partialConnection, false);\n            if (!isOffline && !isPartOfACycle(source)) {\n                nativeAudioNode.disconnect(nativeAudioParam, output);\n            }\n        }\n    };\n    if (insertElementInSet(outputs, [destination, output], (outputConnection) => outputConnection[0] === destination && outputConnection[1] === output, true)) {\n        eventListeners.add(eventListener);\n        if (isActiveAudioNode(source)) {\n            addActiveInputConnectionToAudioParam(activeInputs, source, [output, eventListener], true);\n        }\n        else {\n            addPassiveInputConnectionToAudioParam(passiveInputs, [source, output, eventListener], true);\n        }\n        return true;\n    }\n    return false;\n};\nconst deleteInputConnectionOfAudioNode = (source, destination, output, input) => {\n    const { activeInputs, passiveInputs } = getAudioNodeConnections(destination);\n    const activeInputConnection = deleteActiveInputConnection(activeInputs[input], source, output);\n    if (activeInputConnection === null) {\n        const passiveInputConnection = deletePassiveInputConnectionToAudioNode(passiveInputs, source, output, input);\n        return [passiveInputConnection[2], false];\n    }\n    return [activeInputConnection[2], true];\n};\nconst deleteInputConnectionOfAudioParam = (source, destination, output) => {\n    const { activeInputs, passiveInputs } = getAudioParamConnections(destination);\n    const activeInputConnection = deleteActiveInputConnection(activeInputs, source, output);\n    if (activeInputConnection === null) {\n        const passiveInputConnection = deletePassiveInputConnectionToAudioParam(passiveInputs, source, output);\n        return [passiveInputConnection[1], false];\n    }\n    return [activeInputConnection[2], true];\n};\nconst deleteInputsOfAudioNode = (source, isOffline, destination, output, input) => {\n    const [listener, isActive] = deleteInputConnectionOfAudioNode(source, destination, output, input);\n    if (listener !== null) {\n        deleteEventListenerOfAudioNode(source, listener);\n        if (isActive && !isOffline && !isPartOfACycle(source)) {\n            disconnectNativeAudioNodeFromNativeAudioNode(getNativeAudioNode(source), getNativeAudioNode(destination), output, input);\n        }\n    }\n    if (isActiveAudioNode(destination)) {\n        const { activeInputs } = getAudioNodeConnections(destination);\n        setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n    }\n};\nconst deleteInputsOfAudioParam = (source, isOffline, destination, output) => {\n    const [listener, isActive] = deleteInputConnectionOfAudioParam(source, destination, output);\n    if (listener !== null) {\n        deleteEventListenerOfAudioNode(source, listener);\n        if (isActive && !isOffline && !isPartOfACycle(source)) {\n            getNativeAudioNode(source).disconnect(getNativeAudioParam(destination), output);\n        }\n    }\n};\nconst deleteAnyConnection = (source, isOffline) => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n    const destinations = [];\n    for (const outputConnection of audioNodeConnectionsOfSource.outputs) {\n        if (isAudioNodeOutputConnection(outputConnection)) {\n            deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n        }\n        else {\n            deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n        }\n        destinations.push(outputConnection[0]);\n    }\n    audioNodeConnectionsOfSource.outputs.clear();\n    return destinations;\n};\nconst deleteConnectionAtOutput = (source, isOffline, output) => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n    const destinations = [];\n    for (const outputConnection of audioNodeConnectionsOfSource.outputs) {\n        if (outputConnection[1] === output) {\n            if (isAudioNodeOutputConnection(outputConnection)) {\n                deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n            }\n            else {\n                deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n            }\n            destinations.push(outputConnection[0]);\n            audioNodeConnectionsOfSource.outputs.delete(outputConnection);\n        }\n    }\n    return destinations;\n};\nconst deleteConnectionToDestination = (source, isOffline, destination, output, input) => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n    return Array.from(audioNodeConnectionsOfSource.outputs)\n        .filter((outputConnection) => outputConnection[0] === destination &&\n        (output === undefined || outputConnection[1] === output) &&\n        (input === undefined || outputConnection[2] === input))\n        .map((outputConnection) => {\n        if (isAudioNodeOutputConnection(outputConnection)) {\n            deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n        }\n        else {\n            deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n        }\n        audioNodeConnectionsOfSource.outputs.delete(outputConnection);\n        return outputConnection[0];\n    });\n};\nexport const createAudioNodeConstructor = (addAudioNodeConnections, addConnectionToAudioNode, cacheTestResult, createIncrementCycleCounter, createIndexSizeError, createInvalidAccessError, createNotSupportedError, decrementCycleCounter, detectCycles, eventTargetConstructor, getNativeContext, isNativeAudioContext, isNativeAudioNode, isNativeAudioParam, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor) => {\n    return class AudioNode extends eventTargetConstructor {\n        constructor(context, isActive, nativeAudioNode, audioNodeRenderer) {\n            super(nativeAudioNode);\n            this._context = context;\n            this._nativeAudioNode = nativeAudioNode;\n            const nativeContext = getNativeContext(context);\n            // Bug #12: Safari does not support to disconnect a specific destination.\n            if (isNativeAudioContext(nativeContext) &&\n                true !==\n                    cacheTestResult(testAudioNodeDisconnectMethodSupport, () => {\n                        return testAudioNodeDisconnectMethodSupport(nativeContext, nativeAudioWorkletNodeConstructor);\n                    })) {\n                wrapAudioNodeDisconnectMethod(nativeAudioNode);\n            }\n            AUDIO_NODE_STORE.set(this, nativeAudioNode);\n            EVENT_LISTENERS.set(this, new Set());\n            if (context.state !== 'closed' && isActive) {\n                setInternalStateToActive(this);\n            }\n            addAudioNodeConnections(this, audioNodeRenderer, nativeAudioNode);\n        }\n        get channelCount() {\n            return this._nativeAudioNode.channelCount;\n        }\n        set channelCount(value) {\n            this._nativeAudioNode.channelCount = value;\n        }\n        get channelCountMode() {\n            return this._nativeAudioNode.channelCountMode;\n        }\n        set channelCountMode(value) {\n            this._nativeAudioNode.channelCountMode = value;\n        }\n        get channelInterpretation() {\n            return this._nativeAudioNode.channelInterpretation;\n        }\n        set channelInterpretation(value) {\n            this._nativeAudioNode.channelInterpretation = value;\n        }\n        get context() {\n            return this._context;\n        }\n        get numberOfInputs() {\n            return this._nativeAudioNode.numberOfInputs;\n        }\n        get numberOfOutputs() {\n            return this._nativeAudioNode.numberOfOutputs;\n        }\n        // tslint:disable-next-line:invalid-void\n        connect(destination, output = 0, input = 0) {\n            // Bug #174: Safari does expose a wrong numberOfOutputs for MediaStreamAudioDestinationNodes.\n            if (output < 0 || output >= this._nativeAudioNode.numberOfOutputs) {\n                throw createIndexSizeError();\n            }\n            const nativeContext = getNativeContext(this._context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            if (isNativeAudioNode(destination) || isNativeAudioParam(destination)) {\n                throw createInvalidAccessError();\n            }\n            if (isAudioNode(destination)) {\n                const nativeDestinationAudioNode = getNativeAudioNode(destination);\n                try {\n                    const connection = connectNativeAudioNodeToNativeAudioNode(this._nativeAudioNode, nativeDestinationAudioNode, output, input);\n                    const isPassive = isPassiveAudioNode(this);\n                    if (isOffline || isPassive) {\n                        this._nativeAudioNode.disconnect(...connection);\n                    }\n                    if (this.context.state !== 'closed' && !isPassive && isPassiveAudioNode(destination)) {\n                        setInternalStateToActive(destination);\n                    }\n                }\n                catch (err) {\n                    // Bug #41: Safari does not throw the correct exception so far.\n                    if (err.code === 12) {\n                        throw createInvalidAccessError();\n                    }\n                    throw err;\n                }\n                const isNewConnectionToAudioNode = addConnectionToAudioNode(this, destination, output, input, isOffline);\n                // Bug #164: Only Firefox detects cycles so far.\n                if (isNewConnectionToAudioNode) {\n                    const cycles = detectCycles([this], destination);\n                    visitEachAudioNodeOnce(cycles, createIncrementCycleCounter(isOffline));\n                }\n                return destination;\n            }\n            const nativeAudioParam = getNativeAudioParam(destination);\n            /*\n             * Bug #73, #147 & #153: Safari does not support to connect an input signal to the playbackRate AudioParam of an\n             * AudioBufferSourceNode. This can't be easily detected and that's why the outdated name property is used here to identify\n             * Safari. In addition to that the maxValue property is used to only detect the affected versions below v14.0.2.\n             */\n            if (nativeAudioParam.name === 'playbackRate' && nativeAudioParam.maxValue === 1024) {\n                throw createNotSupportedError();\n            }\n            try {\n                this._nativeAudioNode.connect(nativeAudioParam, output);\n                if (isOffline || isPassiveAudioNode(this)) {\n                    this._nativeAudioNode.disconnect(nativeAudioParam, output);\n                }\n            }\n            catch (err) {\n                // Bug #58: Safari doesn't throw an InvalidAccessError yet.\n                if (err.code === 12) {\n                    throw createInvalidAccessError();\n                }\n                throw err;\n            }\n            const isNewConnectionToAudioParam = addConnectionToAudioParamOfAudioContext(this, destination, output, isOffline);\n            // Bug #164: Only Firefox detects cycles so far.\n            if (isNewConnectionToAudioParam) {\n                const cycles = detectCycles([this], destination);\n                visitEachAudioNodeOnce(cycles, createIncrementCycleCounter(isOffline));\n            }\n        }\n        disconnect(destinationOrOutput, output, input) {\n            let destinations;\n            const nativeContext = getNativeContext(this._context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            if (destinationOrOutput === undefined) {\n                destinations = deleteAnyConnection(this, isOffline);\n            }\n            else if (typeof destinationOrOutput === 'number') {\n                if (destinationOrOutput < 0 || destinationOrOutput >= this.numberOfOutputs) {\n                    throw createIndexSizeError();\n                }\n                destinations = deleteConnectionAtOutput(this, isOffline, destinationOrOutput);\n            }\n            else {\n                if (output !== undefined && (output < 0 || output >= this.numberOfOutputs)) {\n                    throw createIndexSizeError();\n                }\n                if (isAudioNode(destinationOrOutput) && input !== undefined && (input < 0 || input >= destinationOrOutput.numberOfInputs)) {\n                    throw createIndexSizeError();\n                }\n                destinations = deleteConnectionToDestination(this, isOffline, destinationOrOutput, output, input);\n                if (destinations.length === 0) {\n                    throw createInvalidAccessError();\n                }\n            }\n            // Bug #164: Only Firefox detects cycles so far.\n            for (const destination of destinations) {\n                const cycles = detectCycles([this], destination);\n                visitEachAudioNodeOnce(cycles, decrementCycleCounter);\n            }\n        }\n    };\n};\n//# sourceMappingURL=audio-node-constructor.js.map","import { AutomationEventList } from 'automation-events';\nexport const createAudioParamFactory = (addAudioParamConnections, audioParamAudioNodeStore, audioParamStore, createAudioParamRenderer, createCancelAndHoldAutomationEvent, createCancelScheduledValuesAutomationEvent, createExponentialRampToValueAutomationEvent, createLinearRampToValueAutomationEvent, createSetTargetAutomationEvent, createSetValueAutomationEvent, createSetValueCurveAutomationEvent, nativeAudioContextConstructor, setValueAtTimeUntilPossible) => {\n    return (audioNode, isAudioParamOfOfflineAudioContext, nativeAudioParam, maxValue = null, minValue = null) => {\n        // Bug #196 Only Safari sets the defaultValue to the initial value.\n        const defaultValue = nativeAudioParam.value;\n        const automationEventList = new AutomationEventList(defaultValue);\n        const audioParamRenderer = isAudioParamOfOfflineAudioContext ? createAudioParamRenderer(automationEventList) : null;\n        const audioParam = {\n            get defaultValue() {\n                return defaultValue;\n            },\n            get maxValue() {\n                return maxValue === null ? nativeAudioParam.maxValue : maxValue;\n            },\n            get minValue() {\n                return minValue === null ? nativeAudioParam.minValue : minValue;\n            },\n            get value() {\n                return nativeAudioParam.value;\n            },\n            set value(value) {\n                nativeAudioParam.value = value;\n                // Bug #98: Firefox & Safari do not yet treat the value setter like a call to setValueAtTime().\n                audioParam.setValueAtTime(value, audioNode.context.currentTime);\n            },\n            cancelAndHoldAtTime(cancelTime) {\n                // Bug #28: Firefox & Safari do not yet implement cancelAndHoldAtTime().\n                if (typeof nativeAudioParam.cancelAndHoldAtTime === 'function') {\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createCancelAndHoldAutomationEvent(cancelTime));\n                    nativeAudioParam.cancelAndHoldAtTime(cancelTime);\n                }\n                else {\n                    const previousLastEvent = Array.from(automationEventList).pop();\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createCancelAndHoldAutomationEvent(cancelTime));\n                    const currentLastEvent = Array.from(automationEventList).pop();\n                    nativeAudioParam.cancelScheduledValues(cancelTime);\n                    if (previousLastEvent !== currentLastEvent && currentLastEvent !== undefined) {\n                        if (currentLastEvent.type === 'exponentialRampToValue') {\n                            nativeAudioParam.exponentialRampToValueAtTime(currentLastEvent.value, currentLastEvent.endTime);\n                        }\n                        else if (currentLastEvent.type === 'linearRampToValue') {\n                            nativeAudioParam.linearRampToValueAtTime(currentLastEvent.value, currentLastEvent.endTime);\n                        }\n                        else if (currentLastEvent.type === 'setValue') {\n                            nativeAudioParam.setValueAtTime(currentLastEvent.value, currentLastEvent.startTime);\n                        }\n                        else if (currentLastEvent.type === 'setValueCurve') {\n                            nativeAudioParam.setValueCurveAtTime(currentLastEvent.values, currentLastEvent.startTime, currentLastEvent.duration);\n                        }\n                    }\n                }\n                return audioParam;\n            },\n            cancelScheduledValues(cancelTime) {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n                automationEventList.add(createCancelScheduledValuesAutomationEvent(cancelTime));\n                nativeAudioParam.cancelScheduledValues(cancelTime);\n                return audioParam;\n            },\n            exponentialRampToValueAtTime(value, endTime) {\n                // Bug #45: Safari does not throw an error yet.\n                if (value === 0) {\n                    throw new RangeError();\n                }\n                // Bug #187: Safari does not throw an error yet.\n                if (!Number.isFinite(endTime) || endTime < 0) {\n                    throw new RangeError();\n                }\n                const currentTime = audioNode.context.currentTime;\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(currentTime);\n                }\n                // Bug #194: Firefox does not implicitly call setValueAtTime() if there is no previous event.\n                if (Array.from(automationEventList).length === 0) {\n                    automationEventList.add(createSetValueAutomationEvent(defaultValue, currentTime));\n                    nativeAudioParam.setValueAtTime(defaultValue, currentTime);\n                }\n                automationEventList.add(createExponentialRampToValueAutomationEvent(value, endTime));\n                nativeAudioParam.exponentialRampToValueAtTime(value, endTime);\n                return audioParam;\n            },\n            linearRampToValueAtTime(value, endTime) {\n                const currentTime = audioNode.context.currentTime;\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(currentTime);\n                }\n                // Bug #195: Firefox does not implicitly call setValueAtTime() if there is no previous event.\n                if (Array.from(automationEventList).length === 0) {\n                    automationEventList.add(createSetValueAutomationEvent(defaultValue, currentTime));\n                    nativeAudioParam.setValueAtTime(defaultValue, currentTime);\n                }\n                automationEventList.add(createLinearRampToValueAutomationEvent(value, endTime));\n                nativeAudioParam.linearRampToValueAtTime(value, endTime);\n                return audioParam;\n            },\n            setTargetAtTime(target, startTime, timeConstant) {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n                automationEventList.add(createSetTargetAutomationEvent(target, startTime, timeConstant));\n                nativeAudioParam.setTargetAtTime(target, startTime, timeConstant);\n                return audioParam;\n            },\n            setValueAtTime(value, startTime) {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n                automationEventList.add(createSetValueAutomationEvent(value, startTime));\n                nativeAudioParam.setValueAtTime(value, startTime);\n                return audioParam;\n            },\n            setValueCurveAtTime(values, startTime, duration) {\n                // Bug 183: Safari only accepts a Float32Array.\n                const convertedValues = values instanceof Float32Array ? values : new Float32Array(values);\n                /*\n                 * Bug #152: Safari does not correctly interpolate the values of the curve.\n                 * @todo Unfortunately there is no way to test for this behavior in a synchronous fashion which is why testing for the\n                 * existence of the webkitAudioContext is used as a workaround here.\n                 */\n                if (nativeAudioContextConstructor !== null && nativeAudioContextConstructor.name === 'webkitAudioContext') {\n                    const endTime = startTime + duration;\n                    const sampleRate = audioNode.context.sampleRate;\n                    const firstSample = Math.ceil(startTime * sampleRate);\n                    const lastSample = Math.floor(endTime * sampleRate);\n                    const numberOfInterpolatedValues = lastSample - firstSample;\n                    const interpolatedValues = new Float32Array(numberOfInterpolatedValues);\n                    for (let i = 0; i < numberOfInterpolatedValues; i += 1) {\n                        const theoreticIndex = ((convertedValues.length - 1) / duration) * ((firstSample + i) / sampleRate - startTime);\n                        const lowerIndex = Math.floor(theoreticIndex);\n                        const upperIndex = Math.ceil(theoreticIndex);\n                        interpolatedValues[i] =\n                            lowerIndex === upperIndex\n                                ? convertedValues[lowerIndex]\n                                : (1 - (theoreticIndex - lowerIndex)) * convertedValues[lowerIndex] +\n                                    (1 - (upperIndex - theoreticIndex)) * convertedValues[upperIndex];\n                    }\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createSetValueCurveAutomationEvent(interpolatedValues, startTime, duration));\n                    nativeAudioParam.setValueCurveAtTime(interpolatedValues, startTime, duration);\n                    const timeOfLastSample = lastSample / sampleRate;\n                    if (timeOfLastSample < endTime) {\n                        setValueAtTimeUntilPossible(audioParam, interpolatedValues[interpolatedValues.length - 1], timeOfLastSample);\n                    }\n                    setValueAtTimeUntilPossible(audioParam, convertedValues[convertedValues.length - 1], endTime);\n                }\n                else {\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createSetValueCurveAutomationEvent(convertedValues, startTime, duration));\n                    nativeAudioParam.setValueCurveAtTime(convertedValues, startTime, duration);\n                }\n                return audioParam;\n            }\n        };\n        audioParamStore.set(audioParam, nativeAudioParam);\n        audioParamAudioNodeStore.set(audioParam, audioNode);\n        addAudioParamConnections(audioParam, audioParamRenderer);\n        return audioParam;\n    };\n};\n//# sourceMappingURL=audio-param-factory.js.map","export const createAudioParamRenderer = (automationEventList) => {\n    return {\n        replay(audioParam) {\n            for (const automationEvent of automationEventList) {\n                if (automationEvent.type === 'exponentialRampToValue') {\n                    const { endTime, value } = automationEvent;\n                    audioParam.exponentialRampToValueAtTime(value, endTime);\n                }\n                else if (automationEvent.type === 'linearRampToValue') {\n                    const { endTime, value } = automationEvent;\n                    audioParam.linearRampToValueAtTime(value, endTime);\n                }\n                else if (automationEvent.type === 'setTarget') {\n                    const { startTime, target, timeConstant } = automationEvent;\n                    audioParam.setTargetAtTime(target, startTime, timeConstant);\n                }\n                else if (automationEvent.type === 'setValue') {\n                    const { startTime, value } = automationEvent;\n                    audioParam.setValueAtTime(value, startTime);\n                }\n                else if (automationEvent.type === 'setValueCurve') {\n                    const { duration, startTime, values } = automationEvent;\n                    audioParam.setValueCurveAtTime(values, startTime, duration);\n                }\n                else {\n                    throw new Error(\"Can't apply an unknown automation.\");\n                }\n            }\n        }\n    };\n};\n//# sourceMappingURL=audio-param-renderer.js.map","export class ReadOnlyMap {\n    constructor(parameters) {\n        this._map = new Map(parameters);\n    }\n    get size() {\n        return this._map.size;\n    }\n    entries() {\n        return this._map.entries();\n    }\n    forEach(callback, thisArg = null) {\n        return this._map.forEach((value, key) => callback.call(thisArg, value, key, this));\n    }\n    get(name) {\n        return this._map.get(name);\n    }\n    has(name) {\n        return this._map.has(name);\n    }\n    keys() {\n        return this._map.keys();\n    }\n    values() {\n        return this._map.values();\n    }\n}\n//# sourceMappingURL=read-only-map.js.map","import { NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS } from '../globals';\nimport { ReadOnlyMap } from '../read-only-map';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    // Bug #61: The channelCountMode should be 'max' according to the spec but is set to 'explicit' to achieve consistent behavior.\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers',\n    numberOfInputs: 1,\n    numberOfOutputs: 1,\n    parameterData: {},\n    processorOptions: {}\n};\nexport const createAudioWorkletNodeConstructor = (addUnrenderedAudioWorkletNode, audioNodeConstructor, createAudioParam, createAudioWorkletNodeRenderer, createNativeAudioWorkletNode, getAudioNodeConnections, getBackupOfflineAudioContext, getNativeContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, sanitizeAudioWorkletNodeOptions, setActiveAudioWorkletNodeInputs, testAudioWorkletNodeOptionsClonability, wrapEventListener) => {\n    return class AudioWorkletNode extends audioNodeConstructor {\n        constructor(context, name, options) {\n            var _a;\n            const nativeContext = getNativeContext(context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const mergedOptions = sanitizeAudioWorkletNodeOptions({ ...DEFAULT_OPTIONS, ...options });\n            // Bug #191: Safari doesn't throw an error if the options aren't clonable.\n            testAudioWorkletNodeOptionsClonability(mergedOptions);\n            const nodeNameToProcessorConstructorMap = NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(nativeContext);\n            const processorConstructor = nodeNameToProcessorConstructorMap === null || nodeNameToProcessorConstructorMap === void 0 ? void 0 : nodeNameToProcessorConstructorMap.get(name);\n            // Bug #186: Chrome and Edge do not allow to create an AudioWorkletNode on a closed AudioContext.\n            const nativeContextOrBackupOfflineAudioContext = isOffline || nativeContext.state !== 'closed'\n                ? nativeContext\n                : (_a = getBackupOfflineAudioContext(nativeContext)) !== null && _a !== void 0 ? _a : nativeContext;\n            const nativeAudioWorkletNode = createNativeAudioWorkletNode(nativeContextOrBackupOfflineAudioContext, isOffline ? null : context.baseLatency, nativeAudioWorkletNodeConstructor, name, processorConstructor, mergedOptions);\n            const audioWorkletNodeRenderer = ((isOffline ? createAudioWorkletNodeRenderer(name, mergedOptions, processorConstructor) : null));\n            /*\n             * @todo Add a mechanism to switch an AudioWorkletNode to passive once the process() function of the AudioWorkletProcessor\n             * returns false.\n             */\n            super(context, true, nativeAudioWorkletNode, audioWorkletNodeRenderer);\n            const parameters = [];\n            nativeAudioWorkletNode.parameters.forEach((nativeAudioParam, nm) => {\n                const audioParam = createAudioParam(this, isOffline, nativeAudioParam);\n                parameters.push([nm, audioParam]);\n            });\n            this._nativeAudioWorkletNode = nativeAudioWorkletNode;\n            this._onprocessorerror = null;\n            this._parameters = new ReadOnlyMap(parameters);\n            /*\n             * Bug #86 & #87: Invoking the renderer of an AudioWorkletNode might be necessary if it has no direct or indirect connection to\n             * the destination.\n             */\n            if (isOffline) {\n                addUnrenderedAudioWorkletNode(nativeContext, this);\n            }\n            const { activeInputs } = getAudioNodeConnections(this);\n            setActiveAudioWorkletNodeInputs(nativeAudioWorkletNode, activeInputs);\n        }\n        get onprocessorerror() {\n            return this._onprocessorerror;\n        }\n        set onprocessorerror(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeAudioWorkletNode.onprocessorerror = wrappedListener;\n            const nativeOnProcessorError = this._nativeAudioWorkletNode.onprocessorerror;\n            this._onprocessorerror =\n                nativeOnProcessorError !== null && nativeOnProcessorError === wrappedListener\n                    ? value\n                    : nativeOnProcessorError;\n        }\n        get parameters() {\n            if (this._parameters === null) {\n                // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                return this._nativeAudioWorkletNode.parameters;\n            }\n            return this._parameters;\n        }\n        get port() {\n            return this._nativeAudioWorkletNode.port;\n        }\n    };\n};\n//# sourceMappingURL=audio-worklet-node-constructor.js.map","export function copyFromChannel(audioBuffer, \n// @todo There is currently no way to define something like { [ key: number | string ]: Float32Array }\nparent, key, channelNumber, bufferOffset) {\n    if (typeof audioBuffer.copyFromChannel === 'function') {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength === 0) {\n            parent[key] = new Float32Array(128);\n        }\n        audioBuffer.copyFromChannel(parent[key], channelNumber, bufferOffset);\n        // Bug #5: Safari does not support copyFromChannel().\n    }\n    else {\n        const channelData = audioBuffer.getChannelData(channelNumber);\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength === 0) {\n            parent[key] = channelData.slice(bufferOffset, bufferOffset + 128);\n        }\n        else {\n            const slicedInput = new Float32Array(channelData.buffer, bufferOffset * Float32Array.BYTES_PER_ELEMENT, 128);\n            parent[key].set(slicedInput);\n        }\n    }\n}\n//# sourceMappingURL=copy-from-channel.js.map","export const copyToChannel = (audioBuffer, parent, key, channelNumber, bufferOffset) => {\n    if (typeof audioBuffer.copyToChannel === 'function') {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength !== 0) {\n            audioBuffer.copyToChannel(parent[key], channelNumber, bufferOffset);\n        }\n        // Bug #5: Safari does not support copyToChannel().\n    }\n    else {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength !== 0) {\n            audioBuffer.getChannelData(channelNumber).set(parent[key], bufferOffset);\n        }\n    }\n};\n//# sourceMappingURL=copy-to-channel.js.map","export const createNestedArrays = (x, y) => {\n    const arrays = [];\n    for (let i = 0; i < x; i += 1) {\n        const array = [];\n        const length = typeof y === 'number' ? y : y[i];\n        for (let j = 0; j < length; j += 1) {\n            array.push(new Float32Array(128));\n        }\n        arrays.push(array);\n    }\n    return arrays;\n};\n//# sourceMappingURL=create-nested-arrays.js.map","import { NODE_TO_PROCESSOR_MAPS } from '../globals';\nimport { getNativeAudioNode } from './get-native-audio-node';\nimport { getValueForKey } from './get-value-for-key';\nexport const getAudioWorkletProcessor = (nativeOfflineAudioContext, proxy) => {\n    const nodeToProcessorMap = getValueForKey(NODE_TO_PROCESSOR_MAPS, nativeOfflineAudioContext);\n    const nativeAudioWorkletNode = getNativeAudioNode(proxy);\n    return getValueForKey(nodeToProcessorMap, nativeAudioWorkletNode);\n};\n//# sourceMappingURL=get-audio-worklet-processor.js.map","import { copyFromChannel } from '../helpers/copy-from-channel';\nimport { copyToChannel } from '../helpers/copy-to-channel';\nimport { createNestedArrays } from '../helpers/create-nested-arrays';\nimport { getAudioNodeConnections } from '../helpers/get-audio-node-connections';\nimport { getAudioWorkletProcessor } from '../helpers/get-audio-worklet-processor';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nconst processBuffer = async (proxy, renderedBuffer, nativeOfflineAudioContext, options, outputChannelCount, processorConstructor, exposeCurrentFrameAndCurrentTime) => {\n    // Ceil the length to the next full render quantum.\n    // Bug #17: Safari does not yet expose the length.\n    const length = renderedBuffer === null ? Math.ceil(proxy.context.length / 128) * 128 : renderedBuffer.length;\n    const numberOfInputChannels = options.channelCount * options.numberOfInputs;\n    const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n    const processedBuffer = numberOfOutputChannels === 0\n        ? null\n        : nativeOfflineAudioContext.createBuffer(numberOfOutputChannels, length, nativeOfflineAudioContext.sampleRate);\n    if (processorConstructor === undefined) {\n        throw new Error('Missing the processor constructor.');\n    }\n    const audioNodeConnections = getAudioNodeConnections(proxy);\n    const audioWorkletProcessor = await getAudioWorkletProcessor(nativeOfflineAudioContext, proxy);\n    const inputs = createNestedArrays(options.numberOfInputs, options.channelCount);\n    const outputs = createNestedArrays(options.numberOfOutputs, outputChannelCount);\n    const parameters = Array.from(proxy.parameters.keys()).reduce((prmtrs, name) => ({ ...prmtrs, [name]: new Float32Array(128) }), {});\n    for (let i = 0; i < length; i += 128) {\n        if (options.numberOfInputs > 0 && renderedBuffer !== null) {\n            for (let j = 0; j < options.numberOfInputs; j += 1) {\n                for (let k = 0; k < options.channelCount; k += 1) {\n                    copyFromChannel(renderedBuffer, inputs[j], k, k, i);\n                }\n            }\n        }\n        if (processorConstructor.parameterDescriptors !== undefined && renderedBuffer !== null) {\n            processorConstructor.parameterDescriptors.forEach(({ name }, index) => {\n                copyFromChannel(renderedBuffer, parameters, name, numberOfInputChannels + index, i);\n            });\n        }\n        for (let j = 0; j < options.numberOfInputs; j += 1) {\n            for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                // The byteLength will be 0 when the ArrayBuffer was transferred.\n                if (outputs[j][k].byteLength === 0) {\n                    outputs[j][k] = new Float32Array(128);\n                }\n            }\n        }\n        try {\n            const potentiallyEmptyInputs = inputs.map((input, index) => {\n                if (audioNodeConnections.activeInputs[index].size === 0) {\n                    return [];\n                }\n                return input;\n            });\n            const activeSourceFlag = exposeCurrentFrameAndCurrentTime(i / nativeOfflineAudioContext.sampleRate, nativeOfflineAudioContext.sampleRate, () => audioWorkletProcessor.process(potentiallyEmptyInputs, outputs, parameters));\n            if (processedBuffer !== null) {\n                for (let j = 0, outputChannelSplitterNodeOutput = 0; j < options.numberOfOutputs; j += 1) {\n                    for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                        copyToChannel(processedBuffer, outputs[j], k, outputChannelSplitterNodeOutput + k, i);\n                    }\n                    outputChannelSplitterNodeOutput += outputChannelCount[j];\n                }\n            }\n            if (!activeSourceFlag) {\n                break;\n            }\n        }\n        catch (error) {\n            proxy.dispatchEvent(new ErrorEvent('processorerror', {\n                colno: error.colno,\n                filename: error.filename,\n                lineno: error.lineno,\n                message: error.message\n            }));\n            break;\n        }\n    }\n    return processedBuffer;\n};\nexport const createAudioWorkletNodeRendererFactory = (connectAudioParam, connectMultipleOutputs, createNativeAudioBufferSourceNode, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, deleteUnrenderedAudioWorkletNode, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getNativeAudioNode, nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor, renderAutomation, renderInputsOfAudioNode, renderNativeOfflineAudioContext) => {\n    return (name, options, processorConstructor) => {\n        const renderedNativeAudioNodes = new WeakMap();\n        let processedBufferPromise = null;\n        const createAudioNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioWorkletNode = getNativeAudioNode(proxy);\n            let nativeOutputNodes = null;\n            const nativeAudioWorkletNodeIsOwnedByContext = isOwnedByContext(nativeAudioWorkletNode, nativeOfflineAudioContext);\n            const outputChannelCount = Array.isArray(options.outputChannelCount)\n                ? options.outputChannelCount\n                : Array.from(options.outputChannelCount);\n            // Bug #61: Only Chrome, Edge & Firefox have an implementation of the AudioWorkletNode yet.\n            if (nativeAudioWorkletNodeConstructor === null) {\n                const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n                const outputChannelSplitterNode = createNativeChannelSplitterNode(nativeOfflineAudioContext, {\n                    channelCount: Math.max(1, numberOfOutputChannels),\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    numberOfOutputs: Math.max(1, numberOfOutputChannels)\n                });\n                const outputChannelMergerNodes = [];\n                for (let i = 0; i < proxy.numberOfOutputs; i += 1) {\n                    outputChannelMergerNodes.push(createNativeChannelMergerNode(nativeOfflineAudioContext, {\n                        channelCount: 1,\n                        channelCountMode: 'explicit',\n                        channelInterpretation: 'speakers',\n                        numberOfInputs: outputChannelCount[i]\n                    }));\n                }\n                const outputGainNode = createNativeGainNode(nativeOfflineAudioContext, {\n                    channelCount: options.channelCount,\n                    channelCountMode: options.channelCountMode,\n                    channelInterpretation: options.channelInterpretation,\n                    gain: 1\n                });\n                outputGainNode.connect = connectMultipleOutputs.bind(null, outputChannelMergerNodes);\n                outputGainNode.disconnect = disconnectMultipleOutputs.bind(null, outputChannelMergerNodes);\n                nativeOutputNodes = [outputChannelSplitterNode, outputChannelMergerNodes, outputGainNode];\n            }\n            else if (!nativeAudioWorkletNodeIsOwnedByContext) {\n                nativeAudioWorkletNode = new nativeAudioWorkletNodeConstructor(nativeOfflineAudioContext, name);\n            }\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeOutputNodes === null ? nativeAudioWorkletNode : nativeOutputNodes[2]);\n            if (nativeOutputNodes !== null) {\n                if (processedBufferPromise === null) {\n                    if (processorConstructor === undefined) {\n                        throw new Error('Missing the processor constructor.');\n                    }\n                    if (nativeOfflineAudioContextConstructor === null) {\n                        throw new Error('Missing the native OfflineAudioContext constructor.');\n                    }\n                    // Bug #47: The AudioDestinationNode in Safari gets not initialized correctly.\n                    const numberOfInputChannels = proxy.channelCount * proxy.numberOfInputs;\n                    const numberOfParameters = processorConstructor.parameterDescriptors === undefined ? 0 : processorConstructor.parameterDescriptors.length;\n                    const numberOfChannels = numberOfInputChannels + numberOfParameters;\n                    const renderBuffer = async () => {\n                        const partialOfflineAudioContext = new nativeOfflineAudioContextConstructor(numberOfChannels, \n                        // Ceil the length to the next full render quantum.\n                        // Bug #17: Safari does not yet expose the length.\n                        Math.ceil(proxy.context.length / 128) * 128, nativeOfflineAudioContext.sampleRate);\n                        const gainNodes = [];\n                        const inputChannelSplitterNodes = [];\n                        for (let i = 0; i < options.numberOfInputs; i += 1) {\n                            gainNodes.push(createNativeGainNode(partialOfflineAudioContext, {\n                                channelCount: options.channelCount,\n                                channelCountMode: options.channelCountMode,\n                                channelInterpretation: options.channelInterpretation,\n                                gain: 1\n                            }));\n                            inputChannelSplitterNodes.push(createNativeChannelSplitterNode(partialOfflineAudioContext, {\n                                channelCount: options.channelCount,\n                                channelCountMode: 'explicit',\n                                channelInterpretation: 'discrete',\n                                numberOfOutputs: options.channelCount\n                            }));\n                        }\n                        const constantSourceNodes = await Promise.all(Array.from(proxy.parameters.values()).map(async (audioParam) => {\n                            const constantSourceNode = createNativeConstantSourceNode(partialOfflineAudioContext, {\n                                channelCount: 1,\n                                channelCountMode: 'explicit',\n                                channelInterpretation: 'discrete',\n                                offset: audioParam.value\n                            });\n                            await renderAutomation(partialOfflineAudioContext, audioParam, constantSourceNode.offset);\n                            return constantSourceNode;\n                        }));\n                        const inputChannelMergerNode = createNativeChannelMergerNode(partialOfflineAudioContext, {\n                            channelCount: 1,\n                            channelCountMode: 'explicit',\n                            channelInterpretation: 'speakers',\n                            numberOfInputs: Math.max(1, numberOfInputChannels + numberOfParameters)\n                        });\n                        for (let i = 0; i < options.numberOfInputs; i += 1) {\n                            gainNodes[i].connect(inputChannelSplitterNodes[i]);\n                            for (let j = 0; j < options.channelCount; j += 1) {\n                                inputChannelSplitterNodes[i].connect(inputChannelMergerNode, j, i * options.channelCount + j);\n                            }\n                        }\n                        for (const [index, constantSourceNode] of constantSourceNodes.entries()) {\n                            constantSourceNode.connect(inputChannelMergerNode, 0, numberOfInputChannels + index);\n                            constantSourceNode.start(0);\n                        }\n                        inputChannelMergerNode.connect(partialOfflineAudioContext.destination);\n                        await Promise.all(gainNodes.map((gainNode) => renderInputsOfAudioNode(proxy, partialOfflineAudioContext, gainNode)));\n                        return renderNativeOfflineAudioContext(partialOfflineAudioContext);\n                    };\n                    processedBufferPromise = processBuffer(proxy, numberOfChannels === 0 ? null : await renderBuffer(), nativeOfflineAudioContext, options, outputChannelCount, processorConstructor, exposeCurrentFrameAndCurrentTime);\n                }\n                const processedBuffer = await processedBufferPromise;\n                const audioBufferSourceNode = createNativeAudioBufferSourceNode(nativeOfflineAudioContext, {\n                    buffer: null,\n                    channelCount: 2,\n                    channelCountMode: 'max',\n                    channelInterpretation: 'speakers',\n                    loop: false,\n                    loopEnd: 0,\n                    loopStart: 0,\n                    playbackRate: 1\n                });\n                const [outputChannelSplitterNode, outputChannelMergerNodes, outputGainNode] = nativeOutputNodes;\n                if (processedBuffer !== null) {\n                    audioBufferSourceNode.buffer = processedBuffer;\n                    audioBufferSourceNode.start(0);\n                }\n                audioBufferSourceNode.connect(outputChannelSplitterNode);\n                for (let i = 0, outputChannelSplitterNodeOutput = 0; i < proxy.numberOfOutputs; i += 1) {\n                    const outputChannelMergerNode = outputChannelMergerNodes[i];\n                    for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                        outputChannelSplitterNode.connect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                    }\n                    outputChannelSplitterNodeOutput += outputChannelCount[i];\n                }\n                return outputGainNode;\n            }\n            if (!nativeAudioWorkletNodeIsOwnedByContext) {\n                for (const [nm, audioParam] of proxy.parameters.entries()) {\n                    await renderAutomation(nativeOfflineAudioContext, audioParam, \n                    // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                    nativeAudioWorkletNode.parameters.get(nm));\n                }\n            }\n            else {\n                for (const [nm, audioParam] of proxy.parameters.entries()) {\n                    await connectAudioParam(nativeOfflineAudioContext, audioParam, \n                    // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                    nativeAudioWorkletNode.parameters.get(nm));\n                }\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioWorkletNode);\n            return nativeAudioWorkletNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                deleteUnrenderedAudioWorkletNode(nativeOfflineAudioContext, proxy);\n                const renderedNativeAudioWorkletNodeOrGainNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioWorkletNodeOrGainNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioWorkletNodeOrGainNode);\n                }\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=audio-worklet-node-renderer-factory.js.map","export const createBaseAudioContextConstructor = (addAudioWorkletModule, analyserNodeConstructor, audioBufferConstructor, audioBufferSourceNodeConstructor, biquadFilterNodeConstructor, channelMergerNodeConstructor, channelSplitterNodeConstructor, constantSourceNodeConstructor, convolverNodeConstructor, decodeAudioData, delayNodeConstructor, dynamicsCompressorNodeConstructor, gainNodeConstructor, iIRFilterNodeConstructor, minimalBaseAudioContextConstructor, oscillatorNodeConstructor, pannerNodeConstructor, periodicWaveConstructor, stereoPannerNodeConstructor, waveShaperNodeConstructor) => {\n    return class BaseAudioContext extends minimalBaseAudioContextConstructor {\n        constructor(_nativeContext, numberOfChannels) {\n            super(_nativeContext, numberOfChannels);\n            this._nativeContext = _nativeContext;\n            this._audioWorklet =\n                addAudioWorkletModule === undefined\n                    ? undefined\n                    : {\n                        addModule: (moduleURL, options) => {\n                            return addAudioWorkletModule(this, moduleURL, options);\n                        }\n                    };\n        }\n        get audioWorklet() {\n            return this._audioWorklet;\n        }\n        createAnalyser() {\n            return new analyserNodeConstructor(this);\n        }\n        createBiquadFilter() {\n            return new biquadFilterNodeConstructor(this);\n        }\n        createBuffer(numberOfChannels, length, sampleRate) {\n            return new audioBufferConstructor({ length, numberOfChannels, sampleRate });\n        }\n        createBufferSource() {\n            return new audioBufferSourceNodeConstructor(this);\n        }\n        createChannelMerger(numberOfInputs = 6) {\n            return new channelMergerNodeConstructor(this, { numberOfInputs });\n        }\n        createChannelSplitter(numberOfOutputs = 6) {\n            return new channelSplitterNodeConstructor(this, { numberOfOutputs });\n        }\n        createConstantSource() {\n            return new constantSourceNodeConstructor(this);\n        }\n        createConvolver() {\n            return new convolverNodeConstructor(this);\n        }\n        createDelay(maxDelayTime = 1) {\n            return new delayNodeConstructor(this, { maxDelayTime });\n        }\n        createDynamicsCompressor() {\n            return new dynamicsCompressorNodeConstructor(this);\n        }\n        createGain() {\n            return new gainNodeConstructor(this);\n        }\n        createIIRFilter(feedforward, feedback) {\n            return new iIRFilterNodeConstructor(this, { feedback, feedforward });\n        }\n        createOscillator() {\n            return new oscillatorNodeConstructor(this);\n        }\n        createPanner() {\n            return new pannerNodeConstructor(this);\n        }\n        createPeriodicWave(real, imag, constraints = { disableNormalization: false }) {\n            return new periodicWaveConstructor(this, { ...constraints, imag, real });\n        }\n        createStereoPanner() {\n            return new stereoPannerNodeConstructor(this);\n        }\n        createWaveShaper() {\n            return new waveShaperNodeConstructor(this);\n        }\n        decodeAudioData(audioData, successCallback, errorCallback) {\n            return decodeAudioData(this._nativeContext, audioData).then((audioBuffer) => {\n                if (typeof successCallback === 'function') {\n                    successCallback(audioBuffer);\n                }\n                return audioBuffer;\n            }, (err) => {\n                if (typeof errorCallback === 'function') {\n                    errorCallback(err);\n                }\n                throw err;\n            });\n        }\n    };\n};\n//# sourceMappingURL=base-audio-context-constructor.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nconst DEFAULT_OPTIONS = {\n    Q: 1,\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    detune: 0,\n    frequency: 350,\n    gain: 0,\n    type: 'lowpass'\n};\nexport const createBiquadFilterNodeConstructor = (audioNodeConstructor, createAudioParam, createBiquadFilterNodeRenderer, createInvalidAccessError, createNativeBiquadFilterNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class BiquadFilterNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeBiquadFilterNode = createNativeBiquadFilterNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const biquadFilterNodeRenderer = (isOffline ? createBiquadFilterNodeRenderer() : null);\n            super(context, false, nativeBiquadFilterNode, biquadFilterNodeRenderer);\n            // Bug #80: Safari does not export the correct values for maxValue and minValue.\n            this._Q = createAudioParam(this, isOffline, nativeBiquadFilterNode.Q, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            // Bug #78: Firefox & Safari do not export the correct values for maxValue and minValue.\n            this._detune = createAudioParam(this, isOffline, nativeBiquadFilterNode.detune, 1200 * Math.log2(MOST_POSITIVE_SINGLE_FLOAT), -1200 * Math.log2(MOST_POSITIVE_SINGLE_FLOAT));\n            // Bug #77: Firefox & Safari do not export the correct value for minValue.\n            this._frequency = createAudioParam(this, isOffline, nativeBiquadFilterNode.frequency, context.sampleRate / 2, 0);\n            // Bug #79: Firefox & Safari do not export the correct values for maxValue and minValue.\n            this._gain = createAudioParam(this, isOffline, nativeBiquadFilterNode.gain, 40 * Math.log10(MOST_POSITIVE_SINGLE_FLOAT), MOST_NEGATIVE_SINGLE_FLOAT);\n            this._nativeBiquadFilterNode = nativeBiquadFilterNode;\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n        get detune() {\n            return this._detune;\n        }\n        get frequency() {\n            return this._frequency;\n        }\n        get gain() {\n            return this._gain;\n        }\n        get Q() {\n            return this._Q;\n        }\n        get type() {\n            return this._nativeBiquadFilterNode.type;\n        }\n        set type(value) {\n            this._nativeBiquadFilterNode.type = value;\n        }\n        getFrequencyResponse(frequencyHz, magResponse, phaseResponse) {\n            // Bug #189: Safari does throw an InvalidStateError.\n            try {\n                this._nativeBiquadFilterNode.getFrequencyResponse(frequencyHz, magResponse, phaseResponse);\n            }\n            catch (err) {\n                if (err.code === 11) {\n                    throw createInvalidAccessError();\n                }\n                throw err;\n            }\n            // Bug #68: Safari does not throw an error if the parameters differ in their length.\n            if (frequencyHz.length !== magResponse.length || magResponse.length !== phaseResponse.length) {\n                throw createInvalidAccessError();\n            }\n        }\n    };\n};\n//# sourceMappingURL=biquad-filter-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createBiquadFilterNodeRendererFactory = (connectAudioParam, createNativeBiquadFilterNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeBiquadFilterNodes = new WeakMap();\n        const createBiquadFilterNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeBiquadFilterNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeBiquadFilterNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeBiquadFilterNodeIsOwnedByContext = isOwnedByContext(nativeBiquadFilterNode, nativeOfflineAudioContext);\n            if (!nativeBiquadFilterNodeIsOwnedByContext) {\n                const options = {\n                    Q: nativeBiquadFilterNode.Q.value,\n                    channelCount: nativeBiquadFilterNode.channelCount,\n                    channelCountMode: nativeBiquadFilterNode.channelCountMode,\n                    channelInterpretation: nativeBiquadFilterNode.channelInterpretation,\n                    detune: nativeBiquadFilterNode.detune.value,\n                    frequency: nativeBiquadFilterNode.frequency.value,\n                    gain: nativeBiquadFilterNode.gain.value,\n                    type: nativeBiquadFilterNode.type\n                };\n                nativeBiquadFilterNode = createNativeBiquadFilterNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeBiquadFilterNodes.set(nativeOfflineAudioContext, nativeBiquadFilterNode);\n            if (!nativeBiquadFilterNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.Q, nativeBiquadFilterNode.Q);\n                await renderAutomation(nativeOfflineAudioContext, proxy.detune, nativeBiquadFilterNode.detune);\n                await renderAutomation(nativeOfflineAudioContext, proxy.frequency, nativeBiquadFilterNode.frequency);\n                await renderAutomation(nativeOfflineAudioContext, proxy.gain, nativeBiquadFilterNode.gain);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.Q, nativeBiquadFilterNode.Q);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.detune, nativeBiquadFilterNode.detune);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.frequency, nativeBiquadFilterNode.frequency);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.gain, nativeBiquadFilterNode.gain);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeBiquadFilterNode);\n            return nativeBiquadFilterNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeBiquadFilterNode = renderedNativeBiquadFilterNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeBiquadFilterNode !== undefined) {\n                    return Promise.resolve(renderedNativeBiquadFilterNode);\n                }\n                return createBiquadFilterNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=biquad-filter-node-renderer-factory.js.map","export const createCacheTestResult = (ongoingTests, testResults) => {\n    return (tester, test) => {\n        const cachedTestResult = testResults.get(tester);\n        if (cachedTestResult !== undefined) {\n            return cachedTestResult;\n        }\n        const ongoingTest = ongoingTests.get(tester);\n        if (ongoingTest !== undefined) {\n            return ongoingTest;\n        }\n        try {\n            const synchronousTestResult = test();\n            if (synchronousTestResult instanceof Promise) {\n                ongoingTests.set(tester, synchronousTestResult);\n                return synchronousTestResult\n                    .catch(() => false)\n                    .then((finalTestResult) => {\n                    ongoingTests.delete(tester);\n                    testResults.set(tester, finalTestResult);\n                    return finalTestResult;\n                });\n            }\n            testResults.set(tester, synchronousTestResult);\n            return synchronousTestResult;\n        }\n        catch {\n            testResults.set(tester, false);\n            return false;\n        }\n    };\n};\n//# sourceMappingURL=cache-test-result.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 1,\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers',\n    numberOfInputs: 6\n};\nexport const createChannelMergerNodeConstructor = (audioNodeConstructor, createChannelMergerNodeRenderer, createNativeChannelMergerNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class ChannelMergerNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeChannelMergerNode = createNativeChannelMergerNode(nativeContext, mergedOptions);\n            const channelMergerNodeRenderer = ((isNativeOfflineAudioContext(nativeContext) ? createChannelMergerNodeRenderer() : null));\n            super(context, false, nativeChannelMergerNode, channelMergerNodeRenderer);\n        }\n    };\n};\n//# sourceMappingURL=channel-merger-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createChannelMergerNodeRendererFactory = (createNativeChannelMergerNode, getNativeAudioNode, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeAudioNodes = new WeakMap();\n        const createAudioNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioNode = getNativeAudioNode(proxy);\n            // If the initially used nativeAudioNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeAudioNodeIsOwnedByContext = isOwnedByContext(nativeAudioNode, nativeOfflineAudioContext);\n            if (!nativeAudioNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeAudioNode.channelCount,\n                    channelCountMode: nativeAudioNode.channelCountMode,\n                    channelInterpretation: nativeAudioNode.channelInterpretation,\n                    numberOfInputs: nativeAudioNode.numberOfInputs\n                };\n                nativeAudioNode = createNativeChannelMergerNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeAudioNode);\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioNode);\n            return nativeAudioNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeAudioNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioNode);\n                }\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=channel-merger-node-renderer-factory.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 6,\n    channelCountMode: 'explicit',\n    channelInterpretation: 'discrete',\n    numberOfOutputs: 6\n};\nexport const createChannelSplitterNodeConstructor = (audioNodeConstructor, createChannelSplitterNodeRenderer, createNativeChannelSplitterNode, getNativeContext, isNativeOfflineAudioContext, sanitizeChannelSplitterOptions) => {\n    return class ChannelSplitterNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = sanitizeChannelSplitterOptions({ ...DEFAULT_OPTIONS, ...options });\n            const nativeChannelSplitterNode = createNativeChannelSplitterNode(nativeContext, mergedOptions);\n            const channelSplitterNodeRenderer = ((isNativeOfflineAudioContext(nativeContext) ? createChannelSplitterNodeRenderer() : null));\n            super(context, false, nativeChannelSplitterNode, channelSplitterNodeRenderer);\n        }\n    };\n};\n//# sourceMappingURL=channel-splitter-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createChannelSplitterNodeRendererFactory = (createNativeChannelSplitterNode, getNativeAudioNode, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeAudioNodes = new WeakMap();\n        const createAudioNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioNode = getNativeAudioNode(proxy);\n            // If the initially used nativeAudioNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeAudioNodeIsOwnedByContext = isOwnedByContext(nativeAudioNode, nativeOfflineAudioContext);\n            if (!nativeAudioNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeAudioNode.channelCount,\n                    channelCountMode: nativeAudioNode.channelCountMode,\n                    channelInterpretation: nativeAudioNode.channelInterpretation,\n                    numberOfOutputs: nativeAudioNode.numberOfOutputs\n                };\n                nativeAudioNode = createNativeChannelSplitterNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeAudioNode);\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioNode);\n            return nativeAudioNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeAudioNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioNode);\n                }\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=channel-splitter-node-renderer-factory.js.map","export const createConnectAudioParam = (renderInputsOfAudioParam) => {\n    return (nativeOfflineAudioContext, audioParam, nativeAudioParam) => {\n        return renderInputsOfAudioParam(audioParam, nativeOfflineAudioContext, nativeAudioParam);\n    };\n};\n//# sourceMappingURL=connect-audio-param.js.map","import { isNativeAudioNode } from '../guards/native-audio-node';\nexport const createConnectMultipleOutputs = (createIndexSizeError) => {\n    return (outputAudioNodes, destination, output = 0, input = 0) => {\n        const outputAudioNode = outputAudioNodes[output];\n        if (outputAudioNode === undefined) {\n            throw createIndexSizeError();\n        }\n        if (isNativeAudioNode(destination)) {\n            return outputAudioNode.connect(destination, 0, input);\n        }\n        return outputAudioNode.connect(destination, 0);\n    };\n};\n//# sourceMappingURL=connect-multiple-outputs.js.map","export const createConnectedNativeAudioBufferSourceNodeFactory = (createNativeAudioBufferSourceNode) => {\n    return (nativeContext, nativeAudioNode) => {\n        const nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeContext, {\n            buffer: null,\n            channelCount: 2,\n            channelCountMode: 'max',\n            channelInterpretation: 'speakers',\n            loop: false,\n            loopEnd: 0,\n            loopStart: 0,\n            playbackRate: 1\n        });\n        const nativeAudioBuffer = nativeContext.createBuffer(1, 2, 44100);\n        nativeAudioBufferSourceNode.buffer = nativeAudioBuffer;\n        nativeAudioBufferSourceNode.loop = true;\n        nativeAudioBufferSourceNode.connect(nativeAudioNode);\n        nativeAudioBufferSourceNode.start();\n        return () => {\n            nativeAudioBufferSourceNode.stop();\n            nativeAudioBufferSourceNode.disconnect(nativeAudioNode);\n        };\n    };\n};\n//# sourceMappingURL=connected-native-audio-buffer-source-node-factory.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassive } from '../helpers/set-internal-state-to-passive';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    offset: 1\n};\nexport const createConstantSourceNodeConstructor = (audioNodeConstructor, createAudioParam, createConstantSourceNodeRendererFactory, createNativeConstantSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener) => {\n    return class ConstantSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeConstantSourceNode = createNativeConstantSourceNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const constantSourceNodeRenderer = ((isOffline ? createConstantSourceNodeRendererFactory() : null));\n            super(context, false, nativeConstantSourceNode, constantSourceNodeRenderer);\n            this._constantSourceNodeRenderer = constantSourceNodeRenderer;\n            this._nativeConstantSourceNode = nativeConstantSourceNode;\n            /*\n             * Bug #62 & #74: Safari does not support ConstantSourceNodes and does not export the correct values for maxValue and minValue\n             * for GainNodes.\n             */\n            this._offset = createAudioParam(this, isOffline, nativeConstantSourceNode.offset, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._onended = null;\n        }\n        get offset() {\n            return this._offset;\n        }\n        get onended() {\n            return this._onended;\n        }\n        set onended(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeConstantSourceNode.onended = wrappedListener;\n            const nativeOnEnded = this._nativeConstantSourceNode.onended;\n            this._onended = nativeOnEnded !== null && nativeOnEnded === wrappedListener ? value : nativeOnEnded;\n        }\n        start(when = 0) {\n            this._nativeConstantSourceNode.start(when);\n            if (this._constantSourceNodeRenderer !== null) {\n                this._constantSourceNodeRenderer.start = when;\n            }\n            if (this.context.state !== 'closed') {\n                setInternalStateToActive(this);\n                const resetInternalStateToPassive = () => {\n                    this._nativeConstantSourceNode.removeEventListener('ended', resetInternalStateToPassive);\n                    if (isActiveAudioNode(this)) {\n                        setInternalStateToPassive(this);\n                    }\n                };\n                this._nativeConstantSourceNode.addEventListener('ended', resetInternalStateToPassive);\n            }\n        }\n        stop(when = 0) {\n            this._nativeConstantSourceNode.stop(when);\n            if (this._constantSourceNodeRenderer !== null) {\n                this._constantSourceNodeRenderer.stop = when;\n            }\n        }\n    };\n};\n//# sourceMappingURL=constant-source-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createConstantSourceNodeRendererFactory = (connectAudioParam, createNativeConstantSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeConstantSourceNodes = new WeakMap();\n        let start = null;\n        let stop = null;\n        const createConstantSourceNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeConstantSourceNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeConstantSourceNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeConstantSourceNodeIsOwnedByContext = isOwnedByContext(nativeConstantSourceNode, nativeOfflineAudioContext);\n            if (!nativeConstantSourceNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeConstantSourceNode.channelCount,\n                    channelCountMode: nativeConstantSourceNode.channelCountMode,\n                    channelInterpretation: nativeConstantSourceNode.channelInterpretation,\n                    offset: nativeConstantSourceNode.offset.value\n                };\n                nativeConstantSourceNode = createNativeConstantSourceNode(nativeOfflineAudioContext, options);\n                if (start !== null) {\n                    nativeConstantSourceNode.start(start);\n                }\n                if (stop !== null) {\n                    nativeConstantSourceNode.stop(stop);\n                }\n            }\n            renderedNativeConstantSourceNodes.set(nativeOfflineAudioContext, nativeConstantSourceNode);\n            if (!nativeConstantSourceNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.offset, nativeConstantSourceNode.offset);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.offset, nativeConstantSourceNode.offset);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeConstantSourceNode);\n            return nativeConstantSourceNode;\n        };\n        return {\n            set start(value) {\n                start = value;\n            },\n            set stop(value) {\n                stop = value;\n            },\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeConstantSourceNode = renderedNativeConstantSourceNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeConstantSourceNode !== undefined) {\n                    return Promise.resolve(renderedNativeConstantSourceNode);\n                }\n                return createConstantSourceNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=constant-source-node-renderer-factory.js.map","export const createConvertNumberToUnsignedLong = (unit32Array) => {\n    return (value) => {\n        unit32Array[0] = value;\n        return unit32Array[0];\n    };\n};\n//# sourceMappingURL=convert-number-to-unsigned-long.js.map","const DEFAULT_OPTIONS = {\n    buffer: null,\n    channelCount: 2,\n    channelCountMode: 'clamped-max',\n    channelInterpretation: 'speakers',\n    disableNormalization: false\n};\nexport const createConvolverNodeConstructor = (audioNodeConstructor, createConvolverNodeRenderer, createNativeConvolverNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class ConvolverNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeConvolverNode = createNativeConvolverNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const convolverNodeRenderer = (isOffline ? createConvolverNodeRenderer() : null);\n            super(context, false, nativeConvolverNode, convolverNodeRenderer);\n            this._isBufferNullified = false;\n            this._nativeConvolverNode = nativeConvolverNode;\n            if (mergedOptions.buffer !== null) {\n                setAudioNodeTailTime(this, mergedOptions.buffer.duration);\n            }\n        }\n        get buffer() {\n            if (this._isBufferNullified) {\n                return null;\n            }\n            return this._nativeConvolverNode.buffer;\n        }\n        set buffer(value) {\n            this._nativeConvolverNode.buffer = value;\n            // Bug #115: Safari does not allow to set the buffer to null.\n            if (value === null && this._nativeConvolverNode.buffer !== null) {\n                const nativeContext = this._nativeConvolverNode.context;\n                this._nativeConvolverNode.buffer = nativeContext.createBuffer(1, 1, nativeContext.sampleRate);\n                this._isBufferNullified = true;\n                setAudioNodeTailTime(this, 0);\n            }\n            else {\n                this._isBufferNullified = false;\n                setAudioNodeTailTime(this, this._nativeConvolverNode.buffer === null ? 0 : this._nativeConvolverNode.buffer.duration);\n            }\n        }\n        get normalize() {\n            return this._nativeConvolverNode.normalize;\n        }\n        set normalize(value) {\n            this._nativeConvolverNode.normalize = value;\n        }\n    };\n};\n//# sourceMappingURL=convolver-node-constructor.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createConvolverNodeRendererFactory = (createNativeConvolverNode, getNativeAudioNode, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeConvolverNodes = new WeakMap();\n        const createConvolverNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeConvolverNode = getNativeAudioNode(proxy);\n            // If the initially used nativeConvolverNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeConvolverNodeIsOwnedByContext = isOwnedByContext(nativeConvolverNode, nativeOfflineAudioContext);\n            if (!nativeConvolverNodeIsOwnedByContext) {\n                const options = {\n                    buffer: nativeConvolverNode.buffer,\n                    channelCount: nativeConvolverNode.channelCount,\n                    channelCountMode: nativeConvolverNode.channelCountMode,\n                    channelInterpretation: nativeConvolverNode.channelInterpretation,\n                    disableNormalization: !nativeConvolverNode.normalize\n                };\n                nativeConvolverNode = createNativeConvolverNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeConvolverNodes.set(nativeOfflineAudioContext, nativeConvolverNode);\n            if (isNativeAudioNodeFaker(nativeConvolverNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeConvolverNode.inputs[0]);\n            }\n            else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeConvolverNode);\n            }\n            return nativeConvolverNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeConvolverNode = renderedNativeConvolverNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeConvolverNode !== undefined) {\n                    return Promise.resolve(renderedNativeConvolverNode);\n                }\n                return createConvolverNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=convolver-node-renderer-factory.js.map","export const createCreateNativeOfflineAudioContext = (createNotSupportedError, nativeOfflineAudioContextConstructor) => {\n    return (numberOfChannels, length, sampleRate) => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            throw new Error('Missing the native OfflineAudioContext constructor.');\n        }\n        try {\n            return new nativeOfflineAudioContextConstructor(numberOfChannels, length, sampleRate);\n        }\n        catch (err) {\n            // Bug #143, #144 & #146: Safari throws a SyntaxError when numberOfChannels, length or sampleRate are invalid.\n            if (err.name === 'SyntaxError') {\n                throw createNotSupportedError();\n            }\n            throw err;\n        }\n    };\n};\n//# sourceMappingURL=create-native-offline-audio-context.js.map","export const createDataCloneError = () => new DOMException('', 'DataCloneError');\n//# sourceMappingURL=data-clone-error.js.map","export const detachArrayBuffer = (arrayBuffer) => {\n    const { port1, port2 } = new MessageChannel();\n    return new Promise((resolve) => {\n        const closeAndResolve = () => {\n            port2.onmessage = null;\n            port1.close();\n            port2.close();\n            resolve();\n        };\n        port2.onmessage = () => closeAndResolve();\n        try {\n            port1.postMessage(arrayBuffer, [arrayBuffer]);\n        }\n        catch {\n            // Ignore errors.\n        }\n        finally {\n            closeAndResolve();\n        }\n    });\n};\n//# sourceMappingURL=detach-array-buffer.js.map","import { detachArrayBuffer } from '../helpers/detach-array-buffer';\nimport { wrapAudioBufferGetChannelDataMethod } from '../helpers/wrap-audio-buffer-get-channel-data-method';\nexport const createDecodeAudioData = (audioBufferStore, cacheTestResult, createDataCloneError, createEncodingError, detachedArrayBuffers, getNativeContext, isNativeContext, testAudioBufferCopyChannelMethodsOutOfBoundsSupport, testPromiseSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds) => {\n    return (anyContext, audioData) => {\n        const nativeContext = isNativeContext(anyContext) ? anyContext : getNativeContext(anyContext);\n        // Bug #43: Only Chrome and Edge do throw a DataCloneError.\n        if (detachedArrayBuffers.has(audioData)) {\n            const err = createDataCloneError();\n            return Promise.reject(err);\n        }\n        // The audioData parameter maybe of a type which can't be added to a WeakSet.\n        try {\n            detachedArrayBuffers.add(audioData);\n        }\n        catch {\n            // Ignore errors.\n        }\n        // Bug #21: Safari does not support promises yet.\n        if (cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeContext))) {\n            return nativeContext.decodeAudioData(audioData).then((audioBuffer) => {\n                // Bug #133: Safari does neuter the ArrayBuffer.\n                detachArrayBuffer(audioData).catch(() => {\n                    // Ignore errors.\n                });\n                // Bug #157: Firefox does not allow the bufferOffset to be out-of-bounds.\n                if (!cacheTestResult(testAudioBufferCopyChannelMethodsOutOfBoundsSupport, () => testAudioBufferCopyChannelMethodsOutOfBoundsSupport(audioBuffer))) {\n                    wrapAudioBufferCopyChannelMethodsOutOfBounds(audioBuffer);\n                }\n                audioBufferStore.add(audioBuffer);\n                return audioBuffer;\n            });\n        }\n        // Bug #21: Safari does not return a Promise yet.\n        return new Promise((resolve, reject) => {\n            const complete = async () => {\n                // Bug #133: Safari does neuter the ArrayBuffer.\n                try {\n                    await detachArrayBuffer(audioData);\n                }\n                catch {\n                    // Ignore errors.\n                }\n            };\n            const fail = (err) => {\n                reject(err);\n                complete();\n            };\n            // Bug #26: Safari throws a synchronous error.\n            try {\n                // Bug #1: Safari requires a successCallback.\n                nativeContext.decodeAudioData(audioData, (audioBuffer) => {\n                    // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n                    // Bug #100: Safari does throw a wrong error when calling getChannelData() with an out-of-bounds value.\n                    if (typeof audioBuffer.copyFromChannel !== 'function') {\n                        wrapAudioBufferCopyChannelMethods(audioBuffer);\n                        wrapAudioBufferGetChannelDataMethod(audioBuffer);\n                    }\n                    audioBufferStore.add(audioBuffer);\n                    complete().then(() => resolve(audioBuffer));\n                }, (err) => {\n                    // Bug #4: Safari returns null instead of an error.\n                    if (err === null) {\n                        fail(createEncodingError());\n                    }\n                    else {\n                        fail(err);\n                    }\n                });\n            }\n            catch (err) {\n                fail(err);\n            }\n        });\n    };\n};\n//# sourceMappingURL=decode-audio-data.js.map","import { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nexport const createDecrementCycleCounter = (connectNativeAudioNodeToNativeAudioNode, cycleCounters, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, getNativeContext, isActiveAudioNode, isNativeOfflineAudioContext) => {\n    return (audioNode, count) => {\n        const cycleCounter = cycleCounters.get(audioNode);\n        if (cycleCounter === undefined) {\n            throw new Error('Missing the expected cycle count.');\n        }\n        const nativeContext = getNativeContext(audioNode.context);\n        const isOffline = isNativeOfflineAudioContext(nativeContext);\n        if (cycleCounter === count) {\n            cycleCounters.delete(audioNode);\n            if (!isOffline && isActiveAudioNode(audioNode)) {\n                const nativeSourceAudioNode = getNativeAudioNode(audioNode);\n                const { outputs } = getAudioNodeConnections(audioNode);\n                for (const output of outputs) {\n                    if (isAudioNodeOutputConnection(output)) {\n                        const nativeDestinationAudioNode = getNativeAudioNode(output[0]);\n                        connectNativeAudioNodeToNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output[1], output[2]);\n                    }\n                    else {\n                        const nativeDestinationAudioParam = getNativeAudioParam(output[0]);\n                        nativeSourceAudioNode.connect(nativeDestinationAudioParam, output[1]);\n                    }\n                }\n            }\n        }\n        else {\n            cycleCounters.set(audioNode, cycleCounter - count);\n        }\n    };\n};\n//# sourceMappingURL=decrement-cycle-counter.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    delayTime: 0,\n    maxDelayTime: 1\n};\nexport const createDelayNodeConstructor = (audioNodeConstructor, createAudioParam, createDelayNodeRenderer, createNativeDelayNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class DelayNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeDelayNode = createNativeDelayNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const delayNodeRenderer = (isOffline ? createDelayNodeRenderer(mergedOptions.maxDelayTime) : null);\n            super(context, false, nativeDelayNode, delayNodeRenderer);\n            this._delayTime = createAudioParam(this, isOffline, nativeDelayNode.delayTime);\n            setAudioNodeTailTime(this, mergedOptions.maxDelayTime);\n        }\n        get delayTime() {\n            return this._delayTime;\n        }\n    };\n};\n//# sourceMappingURL=delay-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createDelayNodeRendererFactory = (connectAudioParam, createNativeDelayNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return (maxDelayTime) => {\n        const renderedNativeDelayNodes = new WeakMap();\n        const createDelayNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeDelayNode = getNativeAudioNode(proxy);\n            // If the initially used nativeDelayNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeDelayNodeIsOwnedByContext = isOwnedByContext(nativeDelayNode, nativeOfflineAudioContext);\n            if (!nativeDelayNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeDelayNode.channelCount,\n                    channelCountMode: nativeDelayNode.channelCountMode,\n                    channelInterpretation: nativeDelayNode.channelInterpretation,\n                    delayTime: nativeDelayNode.delayTime.value,\n                    maxDelayTime\n                };\n                nativeDelayNode = createNativeDelayNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeDelayNodes.set(nativeOfflineAudioContext, nativeDelayNode);\n            if (!nativeDelayNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.delayTime, nativeDelayNode.delayTime);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.delayTime, nativeDelayNode.delayTime);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeDelayNode);\n            return nativeDelayNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeDelayNode = renderedNativeDelayNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeDelayNode !== undefined) {\n                    return Promise.resolve(renderedNativeDelayNode);\n                }\n                return createDelayNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=delay-node-renderer-factory.js.map","export const createDeleteActiveInputConnectionToAudioNode = (pickElementFromSet) => {\n    return (activeInputs, source, output, input) => {\n        return pickElementFromSet(activeInputs[input], (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output);\n    };\n};\n//# sourceMappingURL=delete-active-input-connection-to-audio-node.js.map","export const createDeleteUnrenderedAudioWorkletNode = (getUnrenderedAudioWorkletNodes) => {\n    return (nativeContext, audioWorkletNode) => {\n        getUnrenderedAudioWorkletNodes(nativeContext).delete(audioWorkletNode);\n    };\n};\n//# sourceMappingURL=delete-unrendered-audio-worklet-node.js.map","export const isDelayNode = (audioNode) => {\n    return 'delayTime' in audioNode;\n};\n//# sourceMappingURL=delay-node.js.map","import { isAudioNode } from '../guards/audio-node';\nimport { isDelayNode } from '../guards/delay-node';\nexport const createDetectCycles = (audioParamAudioNodeStore, getAudioNodeConnections, getValueForKey) => {\n    return function detectCycles(chain, nextLink) {\n        const audioNode = isAudioNode(nextLink) ? nextLink : getValueForKey(audioParamAudioNodeStore, nextLink);\n        if (isDelayNode(audioNode)) {\n            return [];\n        }\n        if (chain[0] === audioNode) {\n            return [chain];\n        }\n        if (chain.includes(audioNode)) {\n            return [];\n        }\n        const { outputs } = getAudioNodeConnections(audioNode);\n        return Array.from(outputs)\n            .map((outputConnection) => detectCycles([...chain, audioNode], outputConnection[0]))\n            .reduce((mergedCycles, nestedCycles) => mergedCycles.concat(nestedCycles), []);\n    };\n};\n//# sourceMappingURL=detect-cycles.js.map","import { isNativeAudioNode } from '../guards/native-audio-node';\nconst getOutputAudioNodeAtIndex = (createIndexSizeError, outputAudioNodes, output) => {\n    const outputAudioNode = outputAudioNodes[output];\n    if (outputAudioNode === undefined) {\n        throw createIndexSizeError();\n    }\n    return outputAudioNode;\n};\nexport const createDisconnectMultipleOutputs = (createIndexSizeError) => {\n    return (outputAudioNodes, destinationOrOutput = undefined, output = undefined, input = 0) => {\n        if (destinationOrOutput === undefined) {\n            return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect());\n        }\n        if (typeof destinationOrOutput === 'number') {\n            return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, destinationOrOutput).disconnect();\n        }\n        if (isNativeAudioNode(destinationOrOutput)) {\n            if (output === undefined) {\n                return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect(destinationOrOutput));\n            }\n            if (input === undefined) {\n                return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0);\n            }\n            return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0, input);\n        }\n        if (output === undefined) {\n            return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect(destinationOrOutput));\n        }\n        return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0);\n    };\n};\n//# sourceMappingURL=disconnect-multiple-outputs.js.map","const DEFAULT_OPTIONS = {\n    attack: 0.003,\n    channelCount: 2,\n    channelCountMode: 'clamped-max',\n    channelInterpretation: 'speakers',\n    knee: 30,\n    ratio: 12,\n    release: 0.25,\n    threshold: -24\n};\nexport const createDynamicsCompressorNodeConstructor = (audioNodeConstructor, createAudioParam, createDynamicsCompressorNodeRenderer, createNativeDynamicsCompressorNode, createNotSupportedError, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class DynamicsCompressorNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeDynamicsCompressorNode = createNativeDynamicsCompressorNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const dynamicsCompressorNodeRenderer = (isOffline ? createDynamicsCompressorNodeRenderer() : null);\n            super(context, false, nativeDynamicsCompressorNode, dynamicsCompressorNodeRenderer);\n            this._attack = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.attack);\n            this._knee = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.knee);\n            this._nativeDynamicsCompressorNode = nativeDynamicsCompressorNode;\n            this._ratio = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.ratio);\n            this._release = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.release);\n            this._threshold = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.threshold);\n            setAudioNodeTailTime(this, 0.006);\n        }\n        get attack() {\n            return this._attack;\n        }\n        // Bug #108: Safari allows a channelCount of three and above which is why the getter and setter needs to be overwritten here.\n        get channelCount() {\n            return this._nativeDynamicsCompressorNode.channelCount;\n        }\n        set channelCount(value) {\n            const previousChannelCount = this._nativeDynamicsCompressorNode.channelCount;\n            this._nativeDynamicsCompressorNode.channelCount = value;\n            if (value > 2) {\n                this._nativeDynamicsCompressorNode.channelCount = previousChannelCount;\n                throw createNotSupportedError();\n            }\n        }\n        /*\n         * Bug #109: Only Chrome and Firefox disallow a channelCountMode of 'max' yet which is why the getter and setter needs to be\n         * overwritten here.\n         */\n        get channelCountMode() {\n            return this._nativeDynamicsCompressorNode.channelCountMode;\n        }\n        set channelCountMode(value) {\n            const previousChannelCount = this._nativeDynamicsCompressorNode.channelCountMode;\n            this._nativeDynamicsCompressorNode.channelCountMode = value;\n            if (value === 'max') {\n                this._nativeDynamicsCompressorNode.channelCountMode = previousChannelCount;\n                throw createNotSupportedError();\n            }\n        }\n        get knee() {\n            return this._knee;\n        }\n        get ratio() {\n            return this._ratio;\n        }\n        get reduction() {\n            // Bug #111: Safari returns an AudioParam instead of a number.\n            if (typeof this._nativeDynamicsCompressorNode.reduction.value === 'number') {\n                return this._nativeDynamicsCompressorNode.reduction.value;\n            }\n            return this._nativeDynamicsCompressorNode.reduction;\n        }\n        get release() {\n            return this._release;\n        }\n        get threshold() {\n            return this._threshold;\n        }\n    };\n};\n//# sourceMappingURL=dynamics-compressor-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createDynamicsCompressorNodeRendererFactory = (connectAudioParam, createNativeDynamicsCompressorNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeDynamicsCompressorNodes = new WeakMap();\n        const createDynamicsCompressorNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeDynamicsCompressorNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeDynamicsCompressorNode was not constructed on the same OfflineAudioContext it needs to be\n             * created again.\n             */\n            const nativeDynamicsCompressorNodeIsOwnedByContext = isOwnedByContext(nativeDynamicsCompressorNode, nativeOfflineAudioContext);\n            if (!nativeDynamicsCompressorNodeIsOwnedByContext) {\n                const options = {\n                    attack: nativeDynamicsCompressorNode.attack.value,\n                    channelCount: nativeDynamicsCompressorNode.channelCount,\n                    channelCountMode: nativeDynamicsCompressorNode.channelCountMode,\n                    channelInterpretation: nativeDynamicsCompressorNode.channelInterpretation,\n                    knee: nativeDynamicsCompressorNode.knee.value,\n                    ratio: nativeDynamicsCompressorNode.ratio.value,\n                    release: nativeDynamicsCompressorNode.release.value,\n                    threshold: nativeDynamicsCompressorNode.threshold.value\n                };\n                nativeDynamicsCompressorNode = createNativeDynamicsCompressorNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeDynamicsCompressorNodes.set(nativeOfflineAudioContext, nativeDynamicsCompressorNode);\n            if (!nativeDynamicsCompressorNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.attack, nativeDynamicsCompressorNode.attack);\n                await renderAutomation(nativeOfflineAudioContext, proxy.knee, nativeDynamicsCompressorNode.knee);\n                await renderAutomation(nativeOfflineAudioContext, proxy.ratio, nativeDynamicsCompressorNode.ratio);\n                await renderAutomation(nativeOfflineAudioContext, proxy.release, nativeDynamicsCompressorNode.release);\n                await renderAutomation(nativeOfflineAudioContext, proxy.threshold, nativeDynamicsCompressorNode.threshold);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.attack, nativeDynamicsCompressorNode.attack);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.knee, nativeDynamicsCompressorNode.knee);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.ratio, nativeDynamicsCompressorNode.ratio);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.release, nativeDynamicsCompressorNode.release);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.threshold, nativeDynamicsCompressorNode.threshold);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeDynamicsCompressorNode);\n            return nativeDynamicsCompressorNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeDynamicsCompressorNode = renderedNativeDynamicsCompressorNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeDynamicsCompressorNode !== undefined) {\n                    return Promise.resolve(renderedNativeDynamicsCompressorNode);\n                }\n                return createDynamicsCompressorNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=dynamics-compressor-node-renderer-factory.js.map","export const createEncodingError = () => new DOMException('', 'EncodingError');\n//# sourceMappingURL=encoding-error.js.map","export const createEvaluateSource = (window) => {\n    return (source) => new Promise((resolve, reject) => {\n        if (window === null) {\n            // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n            reject(new SyntaxError());\n            return;\n        }\n        const head = window.document.head;\n        if (head === null) {\n            // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n            reject(new SyntaxError());\n        }\n        else {\n            const script = window.document.createElement('script');\n            // @todo Safari doesn't like URLs with a type of 'application/javascript; charset=utf-8'.\n            const blob = new Blob([source], { type: 'application/javascript' });\n            const url = URL.createObjectURL(blob);\n            const originalOnErrorHandler = window.onerror;\n            const removeErrorEventListenerAndRevokeUrl = () => {\n                window.onerror = originalOnErrorHandler;\n                URL.revokeObjectURL(url);\n            };\n            window.onerror = (message, src, lineno, colno, error) => {\n                // @todo Edge thinks the source is the one of the html document.\n                if (src === url || (src === window.location.href && lineno === 1 && colno === 1)) {\n                    removeErrorEventListenerAndRevokeUrl();\n                    reject(error);\n                    return false;\n                }\n                if (originalOnErrorHandler !== null) {\n                    return originalOnErrorHandler(message, src, lineno, colno, error);\n                }\n            };\n            script.onerror = () => {\n                removeErrorEventListenerAndRevokeUrl();\n                // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n                reject(new SyntaxError());\n            };\n            script.onload = () => {\n                removeErrorEventListenerAndRevokeUrl();\n                resolve();\n            };\n            script.src = url;\n            script.type = 'module';\n            head.appendChild(script);\n        }\n    });\n};\n//# sourceMappingURL=evaluate-source.js.map","export const createEventTargetConstructor = (wrapEventListener) => {\n    return class EventTarget {\n        constructor(_nativeEventTarget) {\n            this._nativeEventTarget = _nativeEventTarget;\n            this._listeners = new WeakMap();\n        }\n        addEventListener(type, listener, options) {\n            if (listener !== null) {\n                let wrappedEventListener = this._listeners.get(listener);\n                if (wrappedEventListener === undefined) {\n                    wrappedEventListener = wrapEventListener(this, listener);\n                    if (typeof listener === 'function') {\n                        this._listeners.set(listener, wrappedEventListener);\n                    }\n                }\n                this._nativeEventTarget.addEventListener(type, wrappedEventListener, options);\n            }\n        }\n        dispatchEvent(event) {\n            return this._nativeEventTarget.dispatchEvent(event);\n        }\n        removeEventListener(type, listener, options) {\n            const wrappedEventListener = listener === null ? undefined : this._listeners.get(listener);\n            this._nativeEventTarget.removeEventListener(type, wrappedEventListener === undefined ? null : wrappedEventListener, options);\n        }\n    };\n};\n//# sourceMappingURL=event-target-constructor.js.map","export const createExposeCurrentFrameAndCurrentTime = (window) => {\n    return (currentTime, sampleRate, fn) => {\n        Object.defineProperties(window, {\n            currentFrame: {\n                configurable: true,\n                get() {\n                    return Math.round(currentTime * sampleRate);\n                }\n            },\n            currentTime: {\n                configurable: true,\n                get() {\n                    return currentTime;\n                }\n            }\n        });\n        try {\n            return fn();\n        }\n        finally {\n            if (window !== null) {\n                delete window.currentFrame;\n                delete window.currentTime;\n            }\n        }\n    };\n};\n//# sourceMappingURL=expose-current-frame-and-current-time.js.map","export const createFetchSource = (createAbortError) => {\n    return async (url) => {\n        try {\n            const response = await fetch(url);\n            if (response.ok) {\n                return [await response.text(), response.url];\n            }\n        }\n        catch {\n            // Ignore errors.\n        } // tslint:disable-line:no-empty\n        throw createAbortError();\n    };\n};\n//# sourceMappingURL=fetch-source.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    gain: 1\n};\nexport const createGainNodeConstructor = (audioNodeConstructor, createAudioParam, createGainNodeRenderer, createNativeGainNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class GainNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeGainNode = createNativeGainNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const gainNodeRenderer = (isOffline ? createGainNodeRenderer() : null);\n            super(context, false, nativeGainNode, gainNodeRenderer);\n            // Bug #74: Safari does not export the correct values for maxValue and minValue.\n            this._gain = createAudioParam(this, isOffline, nativeGainNode.gain, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n        }\n        get gain() {\n            return this._gain;\n        }\n    };\n};\n//# sourceMappingURL=gain-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createGainNodeRendererFactory = (connectAudioParam, createNativeGainNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeGainNodes = new WeakMap();\n        const createGainNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeGainNode = getNativeAudioNode(proxy);\n            // If the initially used nativeGainNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeGainNodeIsOwnedByContext = isOwnedByContext(nativeGainNode, nativeOfflineAudioContext);\n            if (!nativeGainNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeGainNode.channelCount,\n                    channelCountMode: nativeGainNode.channelCountMode,\n                    channelInterpretation: nativeGainNode.channelInterpretation,\n                    gain: nativeGainNode.gain.value\n                };\n                nativeGainNode = createNativeGainNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeGainNodes.set(nativeOfflineAudioContext, nativeGainNode);\n            if (!nativeGainNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.gain, nativeGainNode.gain);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.gain, nativeGainNode.gain);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeGainNode);\n            return nativeGainNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeGainNode = renderedNativeGainNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeGainNode !== undefined) {\n                    return Promise.resolve(renderedNativeGainNode);\n                }\n                return createGainNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=gain-node-renderer-factory.js.map","export const createGetActiveAudioWorkletNodeInputs = (activeAudioWorkletNodeInputsStore, getValueForKey) => {\n    return (nativeAudioWorkletNode) => getValueForKey(activeAudioWorkletNodeInputsStore, nativeAudioWorkletNode);\n};\n//# sourceMappingURL=get-active-audio-worklet-node-inputs.js.map","export const createGetAudioNodeRenderer = (getAudioNodeConnections) => {\n    return (audioNode) => {\n        const audioNodeConnections = getAudioNodeConnections(audioNode);\n        if (audioNodeConnections.renderer === null) {\n            throw new Error('Missing the renderer of the given AudioNode in the audio graph.');\n        }\n        return audioNodeConnections.renderer;\n    };\n};\n//# sourceMappingURL=get-audio-node-renderer.js.map","export const createGetAudioNodeTailTime = (audioNodeTailTimeStore) => {\n    return (audioNode) => { var _a; return (_a = audioNodeTailTimeStore.get(audioNode)) !== null && _a !== void 0 ? _a : 0; };\n};\n//# sourceMappingURL=get-audio-node-tail-time.js.map","export const createGetAudioParamRenderer = (getAudioParamConnections) => {\n    return (audioParam) => {\n        const audioParamConnections = getAudioParamConnections(audioParam);\n        if (audioParamConnections.renderer === null) {\n            throw new Error('Missing the renderer of the given AudioParam in the audio graph.');\n        }\n        return audioParamConnections.renderer;\n    };\n};\n//# sourceMappingURL=get-audio-param-renderer.js.map","export const createGetBackupOfflineAudioContext = (backupOfflineAudioContextStore) => {\n    return (nativeContext) => {\n        return backupOfflineAudioContextStore.get(nativeContext);\n    };\n};\n//# sourceMappingURL=get-backup-offline-audio-context.js.map","export const createInvalidStateError = () => new DOMException('', 'InvalidStateError');\n//# sourceMappingURL=invalid-state-error.js.map","import { createInvalidStateError } from './invalid-state-error';\nexport const createGetNativeContext = (contextStore) => {\n    return (context) => {\n        const nativeContext = contextStore.get(context);\n        if (nativeContext === undefined) {\n            throw createInvalidStateError();\n        }\n        return (nativeContext);\n    };\n};\n//# sourceMappingURL=get-native-context.js.map","export const createGetOrCreateBackupOfflineAudioContext = (backupOfflineAudioContextStore, nativeOfflineAudioContextConstructor) => {\n    return (nativeContext) => {\n        let backupOfflineAudioContext = backupOfflineAudioContextStore.get(nativeContext);\n        if (backupOfflineAudioContext !== undefined) {\n            return backupOfflineAudioContext;\n        }\n        if (nativeOfflineAudioContextConstructor === null) {\n            throw new Error('Missing the native OfflineAudioContext constructor.');\n        }\n        // Bug #141: Safari does not support creating an OfflineAudioContext with less than 44100 Hz.\n        backupOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        backupOfflineAudioContextStore.set(nativeContext, backupOfflineAudioContext);\n        return backupOfflineAudioContext;\n    };\n};\n//# sourceMappingURL=get-or-create-backup-offline-audio-context.js.map","export const createGetUnrenderedAudioWorkletNodes = (unrenderedAudioWorkletNodeStore) => {\n    return (nativeContext) => {\n        const unrenderedAudioWorkletNodes = unrenderedAudioWorkletNodeStore.get(nativeContext);\n        if (unrenderedAudioWorkletNodes === undefined) {\n            throw new Error('The context has no set of AudioWorkletNodes.');\n        }\n        return unrenderedAudioWorkletNodes;\n    };\n};\n//# sourceMappingURL=get-unrendered-audio-worklet-nodes.js.map","export const createInvalidAccessError = () => new DOMException('', 'InvalidAccessError');\n//# sourceMappingURL=invalid-access-error.js.map","import { createInvalidAccessError } from '../factories/invalid-access-error';\nexport const wrapIIRFilterNodeGetFrequencyResponseMethod = (nativeIIRFilterNode) => {\n    nativeIIRFilterNode.getFrequencyResponse = ((getFrequencyResponse) => {\n        return (frequencyHz, magResponse, phaseResponse) => {\n            if (frequencyHz.length !== magResponse.length || magResponse.length !== phaseResponse.length) {\n                throw createInvalidAccessError();\n            }\n            return getFrequencyResponse.call(nativeIIRFilterNode, frequencyHz, magResponse, phaseResponse);\n        };\n    })(nativeIIRFilterNode.getFrequencyResponse);\n};\n//# sourceMappingURL=wrap-iir-filter-node-get-frequency-response-method.js.map","import { wrapIIRFilterNodeGetFrequencyResponseMethod } from '../helpers/wrap-iir-filter-node-get-frequency-response-method';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers'\n};\nexport const createIIRFilterNodeConstructor = (audioNodeConstructor, createNativeIIRFilterNode, createIIRFilterNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class IIRFilterNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeIIRFilterNode = createNativeIIRFilterNode(nativeContext, isOffline ? null : context.baseLatency, mergedOptions);\n            const iirFilterNodeRenderer = ((isOffline ? createIIRFilterNodeRenderer(mergedOptions.feedback, mergedOptions.feedforward) : null));\n            super(context, false, nativeIIRFilterNode, iirFilterNodeRenderer);\n            // Bug #23 & #24: FirefoxDeveloper does not throw an InvalidAccessError.\n            // @todo Write a test which allows other browsers to remain unpatched.\n            wrapIIRFilterNodeGetFrequencyResponseMethod(nativeIIRFilterNode);\n            this._nativeIIRFilterNode = nativeIIRFilterNode;\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n        getFrequencyResponse(frequencyHz, magResponse, phaseResponse) {\n            return this._nativeIIRFilterNode.getFrequencyResponse(frequencyHz, magResponse, phaseResponse);\n        }\n    };\n};\n//# sourceMappingURL=iir-filter-node-constructor.js.map","// This implementation as shamelessly inspired by source code of\n// tslint:disable-next-line:max-line-length\n// {@link https://chromium.googlesource.com/chromium/src.git/+/master/third_party/WebKit/Source/platform/audio/IIRFilter.cpp|Chromium's IIRFilter}.\nexport const filterBuffer = (feedback, feedbackLength, feedforward, feedforwardLength, minLength, xBuffer, yBuffer, bufferIndex, bufferLength, input, output) => {\n    const inputLength = input.length;\n    let i = bufferIndex;\n    for (let j = 0; j < inputLength; j += 1) {\n        let y = feedforward[0] * input[j];\n        for (let k = 1; k < minLength; k += 1) {\n            const x = (i - k) & (bufferLength - 1); // tslint:disable-line:no-bitwise\n            y += feedforward[k] * xBuffer[x];\n            y -= feedback[k] * yBuffer[x];\n        }\n        for (let k = minLength; k < feedforwardLength; k += 1) {\n            y += feedforward[k] * xBuffer[(i - k) & (bufferLength - 1)]; // tslint:disable-line:no-bitwise\n        }\n        for (let k = minLength; k < feedbackLength; k += 1) {\n            y -= feedback[k] * yBuffer[(i - k) & (bufferLength - 1)]; // tslint:disable-line:no-bitwise\n        }\n        xBuffer[i] = input[j];\n        yBuffer[i] = y;\n        i = (i + 1) & (bufferLength - 1); // tslint:disable-line:no-bitwise\n        output[j] = y;\n    }\n    return i;\n};\n//# sourceMappingURL=filter-buffer.js.map","import { filterBuffer } from '../helpers/filter-buffer';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nconst filterFullBuffer = (renderedBuffer, nativeOfflineAudioContext, feedback, feedforward) => {\n    const convertedFeedback = feedback instanceof Float64Array ? feedback : new Float64Array(feedback);\n    const convertedFeedforward = feedforward instanceof Float64Array ? feedforward : new Float64Array(feedforward);\n    const feedbackLength = convertedFeedback.length;\n    const feedforwardLength = convertedFeedforward.length;\n    const minLength = Math.min(feedbackLength, feedforwardLength);\n    if (convertedFeedback[0] !== 1) {\n        for (let i = 0; i < feedbackLength; i += 1) {\n            convertedFeedforward[i] /= convertedFeedback[0];\n        }\n        for (let i = 1; i < feedforwardLength; i += 1) {\n            convertedFeedback[i] /= convertedFeedback[0];\n        }\n    }\n    const bufferLength = 32;\n    const xBuffer = new Float32Array(bufferLength);\n    const yBuffer = new Float32Array(bufferLength);\n    const filteredBuffer = nativeOfflineAudioContext.createBuffer(renderedBuffer.numberOfChannels, renderedBuffer.length, renderedBuffer.sampleRate);\n    const numberOfChannels = renderedBuffer.numberOfChannels;\n    for (let i = 0; i < numberOfChannels; i += 1) {\n        const input = renderedBuffer.getChannelData(i);\n        const output = filteredBuffer.getChannelData(i);\n        xBuffer.fill(0);\n        yBuffer.fill(0);\n        filterBuffer(convertedFeedback, feedbackLength, convertedFeedforward, feedforwardLength, minLength, xBuffer, yBuffer, 0, bufferLength, input, output);\n    }\n    return filteredBuffer;\n};\nexport const createIIRFilterNodeRendererFactory = (createNativeAudioBufferSourceNode, getNativeAudioNode, nativeOfflineAudioContextConstructor, renderInputsOfAudioNode, renderNativeOfflineAudioContext) => {\n    return (feedback, feedforward) => {\n        const renderedNativeAudioNodes = new WeakMap();\n        let filteredBufferPromise = null;\n        const createAudioNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioBufferSourceNode = null;\n            let nativeIIRFilterNode = getNativeAudioNode(proxy);\n            // If the initially used nativeIIRFilterNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeIIRFilterNodeIsOwnedByContext = isOwnedByContext(nativeIIRFilterNode, nativeOfflineAudioContext);\n            // Bug #9: Safari does not support IIRFilterNodes.\n            if (nativeOfflineAudioContext.createIIRFilter === undefined) {\n                nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeOfflineAudioContext, {\n                    buffer: null,\n                    channelCount: 2,\n                    channelCountMode: 'max',\n                    channelInterpretation: 'speakers',\n                    loop: false,\n                    loopEnd: 0,\n                    loopStart: 0,\n                    playbackRate: 1\n                });\n            }\n            else if (!nativeIIRFilterNodeIsOwnedByContext) {\n                // @todo TypeScript defines the parameters of createIIRFilter() as arrays of numbers.\n                nativeIIRFilterNode = nativeOfflineAudioContext.createIIRFilter(feedforward, feedback);\n            }\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeAudioBufferSourceNode === null ? nativeIIRFilterNode : nativeAudioBufferSourceNode);\n            if (nativeAudioBufferSourceNode !== null) {\n                if (filteredBufferPromise === null) {\n                    if (nativeOfflineAudioContextConstructor === null) {\n                        throw new Error('Missing the native OfflineAudioContext constructor.');\n                    }\n                    const partialOfflineAudioContext = new nativeOfflineAudioContextConstructor(\n                    // Bug #47: The AudioDestinationNode in Safari gets not initialized correctly.\n                    proxy.context.destination.channelCount, \n                    // Bug #17: Safari does not yet expose the length.\n                    proxy.context.length, nativeOfflineAudioContext.sampleRate);\n                    filteredBufferPromise = (async () => {\n                        await renderInputsOfAudioNode(proxy, partialOfflineAudioContext, partialOfflineAudioContext.destination);\n                        const renderedBuffer = await renderNativeOfflineAudioContext(partialOfflineAudioContext);\n                        return filterFullBuffer(renderedBuffer, nativeOfflineAudioContext, feedback, feedforward);\n                    })();\n                }\n                const filteredBuffer = await filteredBufferPromise;\n                nativeAudioBufferSourceNode.buffer = filteredBuffer;\n                nativeAudioBufferSourceNode.start(0);\n                return nativeAudioBufferSourceNode;\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeIIRFilterNode);\n            return nativeIIRFilterNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeAudioNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioNode);\n                }\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=iir-filter-node-renderer-factory.js.map","import { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nexport const createIncrementCycleCounterFactory = (cycleCounters, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, isActiveAudioNode) => {\n    return (isOffline) => {\n        return (audioNode, count) => {\n            const cycleCounter = cycleCounters.get(audioNode);\n            if (cycleCounter === undefined) {\n                if (!isOffline && isActiveAudioNode(audioNode)) {\n                    const nativeSourceAudioNode = getNativeAudioNode(audioNode);\n                    const { outputs } = getAudioNodeConnections(audioNode);\n                    for (const output of outputs) {\n                        if (isAudioNodeOutputConnection(output)) {\n                            const nativeDestinationAudioNode = getNativeAudioNode(output[0]);\n                            disconnectNativeAudioNodeFromNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output[1], output[2]);\n                        }\n                        else {\n                            const nativeDestinationAudioParam = getNativeAudioParam(output[0]);\n                            nativeSourceAudioNode.disconnect(nativeDestinationAudioParam, output[1]);\n                        }\n                    }\n                }\n                cycleCounters.set(audioNode, count);\n            }\n            else {\n                cycleCounters.set(audioNode, cycleCounter + count);\n            }\n        };\n    };\n};\n//# sourceMappingURL=increment-cycle-counter-factory.js.map","export const createIsAnyAudioContext = (contextStore, isNativeAudioContext) => {\n    return (anything) => {\n        const nativeContext = contextStore.get(anything);\n        return isNativeAudioContext(nativeContext) || isNativeAudioContext(anything);\n    };\n};\n//# sourceMappingURL=is-any-audio-context.js.map","export const createIsAnyAudioNode = (audioNodeStore, isNativeAudioNode) => {\n    return (anything) => audioNodeStore.has(anything) || isNativeAudioNode(anything);\n};\n//# sourceMappingURL=is-any-audio-node.js.map","export const createIsAnyAudioParam = (audioParamStore, isNativeAudioParam) => {\n    return (anything) => audioParamStore.has(anything) || isNativeAudioParam(anything);\n};\n//# sourceMappingURL=is-any-audio-param.js.map","export const createIsAnyOfflineAudioContext = (contextStore, isNativeOfflineAudioContext) => {\n    return (anything) => {\n        const nativeContext = contextStore.get(anything);\n        return isNativeOfflineAudioContext(nativeContext) || isNativeOfflineAudioContext(anything);\n    };\n};\n//# sourceMappingURL=is-any-offline-audio-context.js.map","export const createIsNativeAudioContext = (nativeAudioContextConstructor) => {\n    return (anything) => {\n        return nativeAudioContextConstructor !== null && anything instanceof nativeAudioContextConstructor;\n    };\n};\n//# sourceMappingURL=is-native-audio-context.js.map","export const createIsNativeAudioNode = (window) => {\n    return (anything) => {\n        return window !== null && typeof window.AudioNode === 'function' && anything instanceof window.AudioNode;\n    };\n};\n//# sourceMappingURL=is-native-audio-node.js.map","export const createIsNativeAudioParam = (window) => {\n    return (anything) => {\n        return window !== null && typeof window.AudioParam === 'function' && anything instanceof window.AudioParam;\n    };\n};\n//# sourceMappingURL=is-native-audio-param.js.map","export const createIsNativeContext = (isNativeAudioContext, isNativeOfflineAudioContext) => {\n    return (anything) => {\n        return isNativeAudioContext(anything) || isNativeOfflineAudioContext(anything);\n    };\n};\n//# sourceMappingURL=is-native-context.js.map","export const createIsNativeOfflineAudioContext = (nativeOfflineAudioContextConstructor) => {\n    return (anything) => {\n        return nativeOfflineAudioContextConstructor !== null && anything instanceof nativeOfflineAudioContextConstructor;\n    };\n};\n//# sourceMappingURL=is-native-offline-audio-context.js.map","export const createIsSecureContext = (window) => window !== null && window.isSecureContext;\n//# sourceMappingURL=is-secure-context.js.map","export const createMediaElementAudioSourceNodeConstructor = (audioNodeConstructor, createNativeMediaElementAudioSourceNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class MediaElementAudioSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const nativeMediaElementAudioSourceNode = createNativeMediaElementAudioSourceNode(nativeContext, options);\n            // Bug #171: Safari allows to create a MediaElementAudioSourceNode with an OfflineAudioContext.\n            if (isNativeOfflineAudioContext(nativeContext)) {\n                throw TypeError();\n            }\n            super(context, true, nativeMediaElementAudioSourceNode, null);\n            this._nativeMediaElementAudioSourceNode = nativeMediaElementAudioSourceNode;\n        }\n        get mediaElement() {\n            return this._nativeMediaElementAudioSourceNode.mediaElement;\n        }\n    };\n};\n//# sourceMappingURL=media-element-audio-source-node-constructor.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers'\n};\nexport const createMediaStreamAudioDestinationNodeConstructor = (audioNodeConstructor, createNativeMediaStreamAudioDestinationNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class MediaStreamAudioDestinationNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            // Bug #173: Safari allows to create a MediaStreamAudioDestinationNode with an OfflineAudioContext.\n            if (isNativeOfflineAudioContext(nativeContext)) {\n                throw new TypeError();\n            }\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeMediaStreamAudioDestinationNode = createNativeMediaStreamAudioDestinationNode(nativeContext, mergedOptions);\n            super(context, false, nativeMediaStreamAudioDestinationNode, null);\n            this._nativeMediaStreamAudioDestinationNode = nativeMediaStreamAudioDestinationNode;\n        }\n        get stream() {\n            return this._nativeMediaStreamAudioDestinationNode.stream;\n        }\n    };\n};\n//# sourceMappingURL=media-stream-audio-destination-node-constructor.js.map","export const createMediaStreamAudioSourceNodeConstructor = (audioNodeConstructor, createNativeMediaStreamAudioSourceNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class MediaStreamAudioSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const nativeMediaStreamAudioSourceNode = createNativeMediaStreamAudioSourceNode(nativeContext, options);\n            // Bug #172: Safari allows to create a MediaStreamAudioSourceNode with an OfflineAudioContext.\n            if (isNativeOfflineAudioContext(nativeContext)) {\n                throw new TypeError();\n            }\n            super(context, true, nativeMediaStreamAudioSourceNode, null);\n            this._nativeMediaStreamAudioSourceNode = nativeMediaStreamAudioSourceNode;\n        }\n        get mediaStream() {\n            return this._nativeMediaStreamAudioSourceNode.mediaStream;\n        }\n    };\n};\n//# sourceMappingURL=media-stream-audio-source-node-constructor.js.map","export const createMediaStreamTrackAudioSourceNodeConstructor = (audioNodeConstructor, createNativeMediaStreamTrackAudioSourceNode, getNativeContext) => {\n    return class MediaStreamTrackAudioSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const nativeMediaStreamTrackAudioSourceNode = createNativeMediaStreamTrackAudioSourceNode(nativeContext, options);\n            super(context, true, nativeMediaStreamTrackAudioSourceNode, null);\n        }\n    };\n};\n//# sourceMappingURL=media-stream-track-audio-source-node-constructor.js.map","import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { isValidLatencyHint } from '../helpers/is-valid-latency-hint';\nexport const createMinimalAudioContextConstructor = (createInvalidStateError, createNotSupportedError, createUnknownError, minimalBaseAudioContextConstructor, nativeAudioContextConstructor) => {\n    return class MinimalAudioContext extends minimalBaseAudioContextConstructor {\n        constructor(options = {}) {\n            if (nativeAudioContextConstructor === null) {\n                throw new Error('Missing the native AudioContext constructor.');\n            }\n            let nativeAudioContext;\n            try {\n                nativeAudioContext = new nativeAudioContextConstructor(options);\n            }\n            catch (err) {\n                // Bug #192 Safari does throw a SyntaxError if the sampleRate is not supported.\n                if (err.code === 12 && err.message === 'sampleRate is not in range') {\n                    throw createNotSupportedError();\n                }\n                throw err;\n            }\n            // Bug #131 Safari returns null when there are four other AudioContexts running already.\n            if (nativeAudioContext === null) {\n                throw createUnknownError();\n            }\n            // Bug #51 Only Chrome and Edge throw an error if the given latencyHint is invalid.\n            if (!isValidLatencyHint(options.latencyHint)) {\n                throw new TypeError(`The provided value '${options.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);\n            }\n            // Bug #150 Safari does not support setting the sampleRate.\n            if (options.sampleRate !== undefined && nativeAudioContext.sampleRate !== options.sampleRate) {\n                throw createNotSupportedError();\n            }\n            super(nativeAudioContext, 2);\n            const { latencyHint } = options;\n            const { sampleRate } = nativeAudioContext;\n            // @todo The values for 'balanced', 'interactive' and 'playback' are just copied from Chrome's implementation.\n            this._baseLatency =\n                typeof nativeAudioContext.baseLatency === 'number'\n                    ? nativeAudioContext.baseLatency\n                    : latencyHint === 'balanced'\n                        ? 512 / sampleRate\n                        : latencyHint === 'interactive' || latencyHint === undefined\n                            ? 256 / sampleRate\n                            : latencyHint === 'playback'\n                                ? 1024 / sampleRate\n                                : /*\n                                   * @todo The min (256) and max (16384) values are taken from the allowed bufferSize values of a\n                                   * ScriptProcessorNode.\n                                   */\n                                    (Math.max(2, Math.min(128, Math.round((latencyHint * sampleRate) / 128))) * 128) / sampleRate;\n            this._nativeAudioContext = nativeAudioContext;\n            // Bug #188: Safari will set the context's state to 'interrupted' in case the user switches tabs.\n            if (nativeAudioContextConstructor.name === 'webkitAudioContext') {\n                this._nativeGainNode = nativeAudioContext.createGain();\n                this._nativeOscillatorNode = nativeAudioContext.createOscillator();\n                this._nativeGainNode.gain.value = 1e-37;\n                this._nativeOscillatorNode.connect(this._nativeGainNode).connect(nativeAudioContext.destination);\n                this._nativeOscillatorNode.start();\n            }\n            else {\n                this._nativeGainNode = null;\n                this._nativeOscillatorNode = null;\n            }\n            this._state = null;\n            /*\n             * Bug #34: Chrome and Edge pretend to be running right away, but fire an onstatechange event when the state actually changes\n             * to 'running'.\n             */\n            if (nativeAudioContext.state === 'running') {\n                this._state = 'suspended';\n                const revokeState = () => {\n                    if (this._state === 'suspended') {\n                        this._state = null;\n                    }\n                    nativeAudioContext.removeEventListener('statechange', revokeState);\n                };\n                nativeAudioContext.addEventListener('statechange', revokeState);\n            }\n        }\n        get baseLatency() {\n            return this._baseLatency;\n        }\n        get state() {\n            return this._state !== null ? this._state : this._nativeAudioContext.state;\n        }\n        close() {\n            // Bug #35: Firefox does not throw an error if the AudioContext was closed before.\n            if (this.state === 'closed') {\n                return this._nativeAudioContext.close().then(() => {\n                    throw createInvalidStateError();\n                });\n            }\n            // Bug #34: If the state was set to suspended before it should be revoked now.\n            if (this._state === 'suspended') {\n                this._state = null;\n            }\n            return this._nativeAudioContext.close().then(() => {\n                if (this._nativeGainNode !== null && this._nativeOscillatorNode !== null) {\n                    this._nativeOscillatorNode.stop();\n                    this._nativeGainNode.disconnect();\n                    this._nativeOscillatorNode.disconnect();\n                }\n                deactivateAudioGraph(this);\n            });\n        }\n        resume() {\n            if (this._state === 'suspended') {\n                return new Promise((resolve, reject) => {\n                    const resolvePromise = () => {\n                        this._nativeAudioContext.removeEventListener('statechange', resolvePromise);\n                        if (this._nativeAudioContext.state === 'running') {\n                            resolve();\n                        }\n                        else {\n                            this.resume().then(resolve, reject);\n                        }\n                    };\n                    this._nativeAudioContext.addEventListener('statechange', resolvePromise);\n                });\n            }\n            return this._nativeAudioContext.resume().catch((err) => {\n                // Bug #55: Chrome and Edge do throw an InvalidAccessError instead of an InvalidStateError.\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined || err.code === 15) {\n                    throw createInvalidStateError();\n                }\n                throw err;\n            });\n        }\n        suspend() {\n            return this._nativeAudioContext.suspend().catch((err) => {\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined) {\n                    throw createInvalidStateError();\n                }\n                throw err;\n            });\n        }\n    };\n};\n//# sourceMappingURL=minimal-audio-context-constructor.js.map","import { CONTEXT_STORE } from '../globals';\nexport const createMinimalBaseAudioContextConstructor = (audioDestinationNodeConstructor, createAudioListener, eventTargetConstructor, isNativeOfflineAudioContext, unrenderedAudioWorkletNodeStore, wrapEventListener) => {\n    return class MinimalBaseAudioContext extends eventTargetConstructor {\n        constructor(_nativeContext, numberOfChannels) {\n            super(_nativeContext);\n            this._nativeContext = _nativeContext;\n            CONTEXT_STORE.set(this, _nativeContext);\n            if (isNativeOfflineAudioContext(_nativeContext)) {\n                unrenderedAudioWorkletNodeStore.set(_nativeContext, new Set());\n            }\n            this._destination = new audioDestinationNodeConstructor(this, numberOfChannels);\n            this._listener = createAudioListener(this, _nativeContext);\n            this._onstatechange = null;\n        }\n        get currentTime() {\n            return this._nativeContext.currentTime;\n        }\n        get destination() {\n            return this._destination;\n        }\n        get listener() {\n            return this._listener;\n        }\n        get onstatechange() {\n            return this._onstatechange;\n        }\n        set onstatechange(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeContext.onstatechange = wrappedListener;\n            const nativeOnStateChange = this._nativeContext.onstatechange;\n            this._onstatechange = nativeOnStateChange !== null && nativeOnStateChange === wrappedListener ? value : nativeOnStateChange;\n        }\n        get sampleRate() {\n            return this._nativeContext.sampleRate;\n        }\n        get state() {\n            return this._nativeContext.state;\n        }\n    };\n};\n//# sourceMappingURL=minimal-base-audio-context-constructor.js.map","export const testPromiseSupport = (nativeContext) => {\n    // This 12 numbers represent the 48 bytes of an empty WAVE file with a single sample.\n    const uint32Array = new Uint32Array([1179011410, 40, 1163280727, 544501094, 16, 131073, 44100, 176400, 1048580, 1635017060, 4, 0]);\n    try {\n        // Bug #1: Safari requires a successCallback.\n        const promise = nativeContext.decodeAudioData(uint32Array.buffer, () => {\n            // Ignore the success callback.\n        });\n        if (promise === undefined) {\n            return false;\n        }\n        promise.catch(() => {\n            // Ignore rejected errors.\n        });\n        return true;\n    }\n    catch {\n        // Ignore errors.\n    }\n    return false;\n};\n//# sourceMappingURL=test-promise-support.js.map","import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { testPromiseSupport } from '../helpers/test-promise-support';\nconst DEFAULT_OPTIONS = {\n    numberOfChannels: 1\n};\nexport const createMinimalOfflineAudioContextConstructor = (cacheTestResult, createInvalidStateError, createNativeOfflineAudioContext, minimalBaseAudioContextConstructor, startRendering) => {\n    return class MinimalOfflineAudioContext extends minimalBaseAudioContextConstructor {\n        constructor(options) {\n            const { length, numberOfChannels, sampleRate } = { ...DEFAULT_OPTIONS, ...options };\n            const nativeOfflineAudioContext = createNativeOfflineAudioContext(numberOfChannels, length, sampleRate);\n            // #21 Safari does not support promises and therefore would fire the statechange event before the promise can be resolved.\n            if (!cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n                nativeOfflineAudioContext.addEventListener('statechange', (() => {\n                    let i = 0;\n                    const delayStateChangeEvent = (event) => {\n                        if (this._state === 'running') {\n                            if (i > 0) {\n                                nativeOfflineAudioContext.removeEventListener('statechange', delayStateChangeEvent);\n                                event.stopImmediatePropagation();\n                                this._waitForThePromiseToSettle(event);\n                            }\n                            else {\n                                i += 1;\n                            }\n                        }\n                    };\n                    return delayStateChangeEvent;\n                })());\n            }\n            super(nativeOfflineAudioContext, numberOfChannels);\n            this._length = length;\n            this._nativeOfflineAudioContext = nativeOfflineAudioContext;\n            this._state = null;\n        }\n        get length() {\n            // Bug #17: Safari does not yet expose the length.\n            if (this._nativeOfflineAudioContext.length === undefined) {\n                return this._length;\n            }\n            return this._nativeOfflineAudioContext.length;\n        }\n        get state() {\n            return this._state === null ? this._nativeOfflineAudioContext.state : this._state;\n        }\n        startRendering() {\n            /*\n             * Bug #9 & #59: It is theoretically possible that startRendering() will first render a partialOfflineAudioContext. Therefore\n             * the state of the nativeOfflineAudioContext might no transition to running immediately.\n             */\n            if (this._state === 'running') {\n                return Promise.reject(createInvalidStateError());\n            }\n            this._state = 'running';\n            return startRendering(this.destination, this._nativeOfflineAudioContext).finally(() => {\n                this._state = null;\n                deactivateAudioGraph(this);\n            });\n        }\n        _waitForThePromiseToSettle(event) {\n            if (this._state === null) {\n                this._nativeOfflineAudioContext.dispatchEvent(event);\n            }\n            else {\n                setTimeout(() => this._waitForThePromiseToSettle(event));\n            }\n        }\n    };\n};\n//# sourceMappingURL=minimal-offline-audio-context-constructor.js.map","export const createMonitorConnections = (insertElementInSet, isNativeAudioNode) => {\n    return (nativeAudioNode, whenConnected, whenDisconnected) => {\n        const connections = new Set();\n        nativeAudioNode.connect = ((connect) => {\n            // tslint:disable-next-line:invalid-void no-inferrable-types\n            return (destination, output = 0, input = 0) => {\n                const wasDisconnected = connections.size === 0;\n                if (isNativeAudioNode(destination)) {\n                    // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n                    connect.call(nativeAudioNode, destination, output, input);\n                    insertElementInSet(connections, [destination, output, input], (connection) => connection[0] === destination && connection[1] === output && connection[2] === input, true);\n                    if (wasDisconnected) {\n                        whenConnected();\n                    }\n                    return destination;\n                }\n                connect.call(nativeAudioNode, destination, output);\n                insertElementInSet(connections, [destination, output], (connection) => connection[0] === destination && connection[1] === output, true);\n                if (wasDisconnected) {\n                    whenConnected();\n                }\n                return;\n            };\n        })(nativeAudioNode.connect);\n        nativeAudioNode.disconnect = ((disconnect) => {\n            return (destinationOrOutput, output, input) => {\n                const wasConnected = connections.size > 0;\n                if (destinationOrOutput === undefined) {\n                    disconnect.apply(nativeAudioNode);\n                    connections.clear();\n                }\n                else if (typeof destinationOrOutput === 'number') {\n                    // @todo TypeScript cannot infer the overloaded signature with 1 argument yet.\n                    disconnect.call(nativeAudioNode, destinationOrOutput);\n                    for (const connection of connections) {\n                        if (connection[1] === destinationOrOutput) {\n                            connections.delete(connection);\n                        }\n                    }\n                }\n                else {\n                    if (isNativeAudioNode(destinationOrOutput)) {\n                        // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n                        disconnect.call(nativeAudioNode, destinationOrOutput, output, input);\n                    }\n                    else {\n                        // @todo TypeScript cannot infer the overloaded signature with 2 arguments yet.\n                        disconnect.call(nativeAudioNode, destinationOrOutput, output);\n                    }\n                    for (const connection of connections) {\n                        if (connection[0] === destinationOrOutput &&\n                            (output === undefined || connection[1] === output) &&\n                            (input === undefined || connection[2] === input)) {\n                            connections.delete(connection);\n                        }\n                    }\n                }\n                const isDisconnected = connections.size === 0;\n                if (wasConnected && isDisconnected) {\n                    whenDisconnected();\n                }\n            };\n        })(nativeAudioNode.disconnect);\n        return nativeAudioNode;\n    };\n};\n//# sourceMappingURL=monitor-connections.js.map","export const assignNativeAudioNodeOption = (nativeAudioNode, options, option) => {\n    const value = options[option];\n    if (value !== undefined && value !== nativeAudioNode[option]) {\n        nativeAudioNode[option] = value;\n    }\n};\n//# sourceMappingURL=assign-native-audio-node-option.js.map","import { assignNativeAudioNodeOption } from './assign-native-audio-node-option';\nexport const assignNativeAudioNodeOptions = (nativeAudioNode, options) => {\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelCount');\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelCountMode');\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelInterpretation');\n};\n//# sourceMappingURL=assign-native-audio-node-options.js.map","export const testAnalyserNodeGetFloatTimeDomainDataMethodSupport = (nativeAnalyserNode) => {\n    return typeof nativeAnalyserNode.getFloatTimeDomainData === 'function';\n};\n//# sourceMappingURL=test-analyser-node-get-float-time-domain-data-method-support.js.map","export const wrapAnalyserNodeGetFloatTimeDomainDataMethod = (nativeAnalyserNode) => {\n    nativeAnalyserNode.getFloatTimeDomainData = (array) => {\n        const byteTimeDomainData = new Uint8Array(array.length);\n        nativeAnalyserNode.getByteTimeDomainData(byteTimeDomainData);\n        const length = Math.max(byteTimeDomainData.length, nativeAnalyserNode.fftSize);\n        for (let i = 0; i < length; i += 1) {\n            array[i] = (byteTimeDomainData[i] - 128) * 0.0078125;\n        }\n        return array;\n    };\n};\n//# sourceMappingURL=wrap-analyser-node-get-float-time-domain-data-method.js.map","import { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { testAnalyserNodeGetFloatTimeDomainDataMethodSupport } from '../helpers/test-analyser-node-get-float-time-domain-data-method-support';\nimport { wrapAnalyserNodeGetFloatTimeDomainDataMethod } from '../helpers/wrap-analyser-node-get-float-time-domain-data-method';\nexport const createNativeAnalyserNodeFactory = (cacheTestResult, createIndexSizeError) => {\n    return (nativeContext, options) => {\n        const nativeAnalyserNode = nativeContext.createAnalyser();\n        // Bug #37: Firefox does not create an AnalyserNode with the default properties.\n        assignNativeAudioNodeOptions(nativeAnalyserNode, options);\n        // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n        if (!(options.maxDecibels > options.minDecibels)) {\n            throw createIndexSizeError();\n        }\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'fftSize');\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'maxDecibels');\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'minDecibels');\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'smoothingTimeConstant');\n        // Bug #36: Safari does not support getFloatTimeDomainData() yet.\n        if (!cacheTestResult(testAnalyserNodeGetFloatTimeDomainDataMethodSupport, () => testAnalyserNodeGetFloatTimeDomainDataMethodSupport(nativeAnalyserNode))) {\n            wrapAnalyserNodeGetFloatTimeDomainDataMethod(nativeAnalyserNode);\n        }\n        return nativeAnalyserNode;\n    };\n};\n//# sourceMappingURL=native-analyser-node-factory.js.map","export const createNativeAudioBufferConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    if (window.hasOwnProperty('AudioBuffer')) {\n        return window.AudioBuffer;\n    }\n    return null;\n};\n//# sourceMappingURL=native-audio-buffer-constructor.js.map","export const assignNativeAudioNodeAudioParamValue = (nativeAudioNode, options, audioParam) => {\n    const value = options[audioParam];\n    if (value !== undefined && value !== nativeAudioNode[audioParam].value) {\n        nativeAudioNode[audioParam].value = value;\n    }\n};\n//# sourceMappingURL=assign-native-audio-node-audio-param-value.js.map","import { createInvalidStateError } from '../factories/invalid-state-error';\nexport const wrapAudioBufferSourceNodeStartMethodConsecutiveCalls = (nativeAudioBufferSourceNode) => {\n    nativeAudioBufferSourceNode.start = ((start) => {\n        let isScheduled = false;\n        return (when = 0, offset = 0, duration) => {\n            if (isScheduled) {\n                throw createInvalidStateError();\n            }\n            start.call(nativeAudioBufferSourceNode, when, offset, duration);\n            isScheduled = true;\n        };\n    })(nativeAudioBufferSourceNode.start);\n};\n//# sourceMappingURL=wrap-audio-buffer-source-node-start-method-consecutive-calls.js.map","export const wrapAudioScheduledSourceNodeStartMethodNegativeParameters = (nativeAudioScheduledSourceNode) => {\n    nativeAudioScheduledSourceNode.start = ((start) => {\n        return (when = 0, offset = 0, duration) => {\n            if ((typeof duration === 'number' && duration < 0) || offset < 0 || when < 0) {\n                throw new RangeError(\"The parameters can't be negative.\");\n            }\n            // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n            start.call(nativeAudioScheduledSourceNode, when, offset, duration);\n        };\n    })(nativeAudioScheduledSourceNode.start);\n};\n//# sourceMappingURL=wrap-audio-scheduled-source-node-start-method-negative-parameters.js.map","export const wrapAudioScheduledSourceNodeStopMethodNegativeParameters = (nativeAudioScheduledSourceNode) => {\n    nativeAudioScheduledSourceNode.stop = ((stop) => {\n        return (when = 0) => {\n            if (when < 0) {\n                throw new RangeError(\"The parameter can't be negative.\");\n            }\n            stop.call(nativeAudioScheduledSourceNode, when);\n        };\n    })(nativeAudioScheduledSourceNode.stop);\n};\n//# sourceMappingURL=wrap-audio-scheduled-source-node-stop-method-negative-parameters.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapAudioBufferSourceNodeStartMethodConsecutiveCalls } from '../helpers/wrap-audio-buffer-source-node-start-method-consecutive-calls';\nimport { wrapAudioScheduledSourceNodeStartMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters';\nimport { wrapAudioScheduledSourceNodeStopMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters';\nexport const createNativeAudioBufferSourceNodeFactory = (addSilentConnection, cacheTestResult, testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport, testAudioBufferSourceNodeStartMethodOffsetClampingSupport, testAudioBufferSourceNodeStopMethodNullifiedBufferSupport, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, wrapAudioBufferSourceNodeStartMethodOffsetClampling, wrapAudioBufferSourceNodeStopMethodNullifiedBuffer, wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls) => {\n    return (nativeContext, options) => {\n        const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n        assignNativeAudioNodeOptions(nativeAudioBufferSourceNode, options);\n        assignNativeAudioNodeAudioParamValue(nativeAudioBufferSourceNode, options, 'playbackRate');\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'buffer');\n        // Bug #149: Safari does not yet support the detune AudioParam.\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loop');\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loopEnd');\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loopStart');\n        // Bug #69: Safari does allow calls to start() of an already scheduled AudioBufferSourceNode.\n        if (!cacheTestResult(testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport, () => testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport(nativeContext))) {\n            wrapAudioBufferSourceNodeStartMethodConsecutiveCalls(nativeAudioBufferSourceNode);\n        }\n        // Bug #154 & #155: Safari does not handle offsets which are equal to or greater than the duration of the buffer.\n        if (!cacheTestResult(testAudioBufferSourceNodeStartMethodOffsetClampingSupport, () => testAudioBufferSourceNodeStartMethodOffsetClampingSupport(nativeContext))) {\n            wrapAudioBufferSourceNodeStartMethodOffsetClampling(nativeAudioBufferSourceNode);\n        }\n        // Bug #162: Safari does throw an error when stop() is called on an AudioBufferSourceNode which has no buffer assigned to it.\n        if (!cacheTestResult(testAudioBufferSourceNodeStopMethodNullifiedBufferSupport, () => testAudioBufferSourceNodeStopMethodNullifiedBufferSupport(nativeContext))) {\n            wrapAudioBufferSourceNodeStopMethodNullifiedBuffer(nativeAudioBufferSourceNode, nativeContext);\n        }\n        // Bug #44: Safari does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStartMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStartMethodNegativeParameters(nativeAudioBufferSourceNode);\n        }\n        // Bug #19: Safari does not ignore calls to stop() of an already stopped AudioBufferSourceNode.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, () => testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls(nativeAudioBufferSourceNode, nativeContext);\n        }\n        // Bug #44: Only Firefox does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStopMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodNegativeParameters(nativeAudioBufferSourceNode);\n        }\n        // Bug #175: Safari will not fire an ended event if the AudioBufferSourceNode is unconnected.\n        addSilentConnection(nativeContext, nativeAudioBufferSourceNode);\n        return nativeAudioBufferSourceNode;\n    };\n};\n//# sourceMappingURL=native-audio-buffer-source-node-factory.js.map","export const createNativeAudioContextConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    if (window.hasOwnProperty('AudioContext')) {\n        return window.AudioContext;\n    }\n    return window.hasOwnProperty('webkitAudioContext') ? window.webkitAudioContext : null;\n};\n//# sourceMappingURL=native-audio-context-constructor.js.map","export const createNativeAudioDestinationNodeFactory = (createNativeGainNode, overwriteAccessors) => {\n    return (nativeContext, channelCount, isNodeOfNativeOfflineAudioContext) => {\n        const nativeAudioDestinationNode = nativeContext.destination;\n        // Bug #132: Safari does not have the correct channelCount.\n        if (nativeAudioDestinationNode.channelCount !== channelCount) {\n            try {\n                nativeAudioDestinationNode.channelCount = channelCount;\n            }\n            catch {\n                // Bug #169: Safari throws an error on each attempt to change the channelCount.\n            }\n        }\n        // Bug #83: Safari does not have the correct channelCountMode.\n        if (isNodeOfNativeOfflineAudioContext && nativeAudioDestinationNode.channelCountMode !== 'explicit') {\n            nativeAudioDestinationNode.channelCountMode = 'explicit';\n        }\n        // Bug #47: The AudioDestinationNode in Safari does not initialize the maxChannelCount property correctly.\n        if (nativeAudioDestinationNode.maxChannelCount === 0) {\n            Object.defineProperty(nativeAudioDestinationNode, 'maxChannelCount', {\n                value: channelCount\n            });\n        }\n        // Bug #168: No browser does yet have an AudioDestinationNode with an output.\n        const gainNode = createNativeGainNode(nativeContext, {\n            channelCount,\n            channelCountMode: nativeAudioDestinationNode.channelCountMode,\n            channelInterpretation: nativeAudioDestinationNode.channelInterpretation,\n            gain: 1\n        });\n        overwriteAccessors(gainNode, 'channelCount', (get) => () => get.call(gainNode), (set) => (value) => {\n            set.call(gainNode, value);\n            try {\n                nativeAudioDestinationNode.channelCount = value;\n            }\n            catch (err) {\n                // Bug #169: Safari throws an error on each attempt to change the channelCount.\n                if (value > nativeAudioDestinationNode.maxChannelCount) {\n                    throw err;\n                }\n            }\n        });\n        overwriteAccessors(gainNode, 'channelCountMode', (get) => () => get.call(gainNode), (set) => (value) => {\n            set.call(gainNode, value);\n            nativeAudioDestinationNode.channelCountMode = value;\n        });\n        overwriteAccessors(gainNode, 'channelInterpretation', (get) => () => get.call(gainNode), (set) => (value) => {\n            set.call(gainNode, value);\n            nativeAudioDestinationNode.channelInterpretation = value;\n        });\n        Object.defineProperty(gainNode, 'maxChannelCount', {\n            get: () => nativeAudioDestinationNode.maxChannelCount\n        });\n        // @todo This should be disconnected when the context is closed.\n        gainNode.connect(nativeAudioDestinationNode);\n        return gainNode;\n    };\n};\n//# sourceMappingURL=native-audio-destination-node.js.map","export const createNativeAudioWorkletNodeConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    return window.hasOwnProperty('AudioWorkletNode') ? window.AudioWorkletNode : null;\n};\n//# sourceMappingURL=native-audio-worklet-node-constructor.js.map","export const testClonabilityOfAudioWorkletNodeOptions = (audioWorkletNodeOptions) => {\n    const { port1 } = new MessageChannel();\n    try {\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port1.postMessage(audioWorkletNodeOptions);\n    }\n    finally {\n        port1.close();\n    }\n};\n//# sourceMappingURL=test-clonability-of-audio-worklet-node-options.js.map","import { testClonabilityOfAudioWorkletNodeOptions } from '../helpers/test-clonability-of-audio-worklet-node-options';\nexport const createNativeAudioWorkletNodeFactory = (createInvalidStateError, createNativeAudioWorkletNodeFaker, createNativeGainNode, createNotSupportedError, monitorConnections) => {\n    return (nativeContext, baseLatency, nativeAudioWorkletNodeConstructor, name, processorConstructor, options) => {\n        if (nativeAudioWorkletNodeConstructor !== null) {\n            try {\n                const nativeAudioWorkletNode = new nativeAudioWorkletNodeConstructor(nativeContext, name, options);\n                const patchedEventListeners = new Map();\n                let onprocessorerror = null;\n                Object.defineProperties(nativeAudioWorkletNode, {\n                    /*\n                     * Bug #61: Overwriting the property accessors for channelCount and channelCountMode is necessary as long as some\n                     * browsers have no native implementation to achieve a consistent behavior.\n                     */\n                    channelCount: {\n                        get: () => options.channelCount,\n                        set: () => {\n                            throw createInvalidStateError();\n                        }\n                    },\n                    channelCountMode: {\n                        get: () => 'explicit',\n                        set: () => {\n                            throw createInvalidStateError();\n                        }\n                    },\n                    // Bug #156: Chrome and Edge do not yet fire an ErrorEvent.\n                    onprocessorerror: {\n                        get: () => onprocessorerror,\n                        set: (value) => {\n                            if (typeof onprocessorerror === 'function') {\n                                nativeAudioWorkletNode.removeEventListener('processorerror', onprocessorerror);\n                            }\n                            onprocessorerror = typeof value === 'function' ? value : null;\n                            if (typeof onprocessorerror === 'function') {\n                                nativeAudioWorkletNode.addEventListener('processorerror', onprocessorerror);\n                            }\n                        }\n                    }\n                });\n                nativeAudioWorkletNode.addEventListener = ((addEventListener) => {\n                    return (...args) => {\n                        if (args[0] === 'processorerror') {\n                            const unpatchedEventListener = typeof args[1] === 'function'\n                                ? args[1]\n                                : typeof args[1] === 'object' && args[1] !== null && typeof args[1].handleEvent === 'function'\n                                    ? args[1].handleEvent\n                                    : null;\n                            if (unpatchedEventListener !== null) {\n                                const patchedEventListener = patchedEventListeners.get(args[1]);\n                                if (patchedEventListener !== undefined) {\n                                    args[1] = patchedEventListener;\n                                }\n                                else {\n                                    args[1] = (event) => {\n                                        // Bug #178: Chrome and Edge do fire an event of type error.\n                                        if (event.type === 'error') {\n                                            Object.defineProperties(event, {\n                                                type: { value: 'processorerror' }\n                                            });\n                                            unpatchedEventListener(event);\n                                        }\n                                        else {\n                                            unpatchedEventListener(new ErrorEvent(args[0], { ...event }));\n                                        }\n                                    };\n                                    patchedEventListeners.set(unpatchedEventListener, args[1]);\n                                }\n                            }\n                        }\n                        // Bug #178: Chrome and Edge do fire an event of type error.\n                        addEventListener.call(nativeAudioWorkletNode, 'error', args[1], args[2]);\n                        return addEventListener.call(nativeAudioWorkletNode, ...args);\n                    };\n                })(nativeAudioWorkletNode.addEventListener);\n                nativeAudioWorkletNode.removeEventListener = ((removeEventListener) => {\n                    return (...args) => {\n                        if (args[0] === 'processorerror') {\n                            const patchedEventListener = patchedEventListeners.get(args[1]);\n                            if (patchedEventListener !== undefined) {\n                                patchedEventListeners.delete(args[1]);\n                                args[1] = patchedEventListener;\n                            }\n                        }\n                        // Bug #178: Chrome and Edge do fire an event of type error.\n                        removeEventListener.call(nativeAudioWorkletNode, 'error', args[1], args[2]);\n                        return removeEventListener.call(nativeAudioWorkletNode, args[0], args[1], args[2]);\n                    };\n                })(nativeAudioWorkletNode.removeEventListener);\n                /*\n                 * Bug #86: Chrome and Edge do not invoke the process() function if the corresponding AudioWorkletNode is unconnected but\n                 * has an output.\n                 */\n                if (options.numberOfOutputs !== 0) {\n                    const nativeGainNode = createNativeGainNode(nativeContext, {\n                        channelCount: 1,\n                        channelCountMode: 'explicit',\n                        channelInterpretation: 'discrete',\n                        gain: 0\n                    });\n                    nativeAudioWorkletNode.connect(nativeGainNode).connect(nativeContext.destination);\n                    const whenConnected = () => nativeGainNode.disconnect();\n                    const whenDisconnected = () => nativeGainNode.connect(nativeContext.destination);\n                    // @todo Disconnect the connection when the process() function of the AudioWorkletNode returns false.\n                    return monitorConnections(nativeAudioWorkletNode, whenConnected, whenDisconnected);\n                }\n                return nativeAudioWorkletNode;\n            }\n            catch (err) {\n                // Bug #60: Chrome & Edge throw an InvalidStateError instead of a NotSupportedError.\n                if (err.code === 11) {\n                    throw createNotSupportedError();\n                }\n                throw err;\n            }\n        }\n        // Bug #61: Only Chrome & Edge have an implementation of the AudioWorkletNode yet.\n        if (processorConstructor === undefined) {\n            throw createNotSupportedError();\n        }\n        testClonabilityOfAudioWorkletNodeOptions(options);\n        return createNativeAudioWorkletNodeFaker(nativeContext, baseLatency, processorConstructor, options);\n    };\n};\n//# sourceMappingURL=native-audio-worklet-node-factory.js.map","export const computeBufferSize = (baseLatency, sampleRate) => {\n    if (baseLatency === null) {\n        return 512;\n    }\n    return Math.max(512, Math.min(16384, Math.pow(2, Math.round(Math.log2(baseLatency * sampleRate)))));\n};\n//# sourceMappingURL=compute-buffer-size.js.map","export const cloneAudioWorkletNodeOptions = (audioWorkletNodeOptions) => {\n    return new Promise((resolve, reject) => {\n        const { port1, port2 } = new MessageChannel();\n        port1.onmessage = ({ data }) => {\n            port1.close();\n            port2.close();\n            resolve(data);\n        };\n        port1.onmessageerror = ({ data }) => {\n            port1.close();\n            port2.close();\n            reject(data);\n        };\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port2.postMessage(audioWorkletNodeOptions);\n    });\n};\n//# sourceMappingURL=clone-audio-worklet-node-options.js.map","import { cloneAudioWorkletNodeOptions } from './clone-audio-worklet-node-options';\nexport const createAudioWorkletProcessorPromise = async (processorConstructor, audioWorkletNodeOptions) => {\n    const clonedAudioWorkletNodeOptions = await cloneAudioWorkletNodeOptions(audioWorkletNodeOptions);\n    return new processorConstructor(clonedAudioWorkletNodeOptions);\n};\n//# sourceMappingURL=create-audio-worklet-processor-promise.js.map","import { NODE_TO_PROCESSOR_MAPS } from '../globals';\nimport { createAudioWorkletProcessorPromise } from './create-audio-worklet-processor-promise';\nexport const createAudioWorkletProcessor = (nativeContext, nativeAudioWorkletNode, processorConstructor, audioWorkletNodeOptions) => {\n    let nodeToProcessorMap = NODE_TO_PROCESSOR_MAPS.get(nativeContext);\n    if (nodeToProcessorMap === undefined) {\n        nodeToProcessorMap = new WeakMap();\n        NODE_TO_PROCESSOR_MAPS.set(nativeContext, nodeToProcessorMap);\n    }\n    const audioWorkletProcessorPromise = createAudioWorkletProcessorPromise(processorConstructor, audioWorkletNodeOptions);\n    nodeToProcessorMap.set(nativeAudioWorkletNode, audioWorkletProcessorPromise);\n    return audioWorkletProcessorPromise;\n};\n//# sourceMappingURL=create-audio-worklet-processor.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { computeBufferSize } from '../helpers/compute-buffer-size';\nimport { copyFromChannel } from '../helpers/copy-from-channel';\nimport { copyToChannel } from '../helpers/copy-to-channel';\nimport { createAudioWorkletProcessor } from '../helpers/create-audio-worklet-processor';\nimport { createNestedArrays } from '../helpers/create-nested-arrays';\nimport { ReadOnlyMap } from '../read-only-map';\nexport const createNativeAudioWorkletNodeFakerFactory = (connectMultipleOutputs, createIndexSizeError, createInvalidStateError, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, createNativeScriptProcessorNode, createNotSupportedError, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getActiveAudioWorkletNodeInputs, monitorConnections) => {\n    return (nativeContext, baseLatency, processorConstructor, options) => {\n        if (options.numberOfInputs === 0 && options.numberOfOutputs === 0) {\n            throw createNotSupportedError();\n        }\n        const outputChannelCount = Array.isArray(options.outputChannelCount)\n            ? options.outputChannelCount\n            : Array.from(options.outputChannelCount);\n        // @todo Check if any of the channelCount values is greater than the implementation's maximum number of channels.\n        if (outputChannelCount.some((channelCount) => channelCount < 1)) {\n            throw createNotSupportedError();\n        }\n        if (outputChannelCount.length !== options.numberOfOutputs) {\n            throw createIndexSizeError();\n        }\n        // Bug #61: This is not part of the standard but required for the faker to work.\n        if (options.channelCountMode !== 'explicit') {\n            throw createNotSupportedError();\n        }\n        const numberOfInputChannels = options.channelCount * options.numberOfInputs;\n        const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n        const numberOfParameters = processorConstructor.parameterDescriptors === undefined ? 0 : processorConstructor.parameterDescriptors.length;\n        // Bug #61: This is not part of the standard but required for the faker to work.\n        if (numberOfInputChannels + numberOfParameters > 6 || numberOfOutputChannels > 6) {\n            throw createNotSupportedError();\n        }\n        const messageChannel = new MessageChannel();\n        const gainNodes = [];\n        const inputChannelSplitterNodes = [];\n        for (let i = 0; i < options.numberOfInputs; i += 1) {\n            gainNodes.push(createNativeGainNode(nativeContext, {\n                channelCount: options.channelCount,\n                channelCountMode: options.channelCountMode,\n                channelInterpretation: options.channelInterpretation,\n                gain: 1\n            }));\n            inputChannelSplitterNodes.push(createNativeChannelSplitterNode(nativeContext, {\n                channelCount: options.channelCount,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'discrete',\n                numberOfOutputs: options.channelCount\n            }));\n        }\n        const constantSourceNodes = [];\n        if (processorConstructor.parameterDescriptors !== undefined) {\n            for (const { defaultValue, maxValue, minValue, name } of processorConstructor.parameterDescriptors) {\n                const constantSourceNode = createNativeConstantSourceNode(nativeContext, {\n                    channelCount: 1,\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    offset: options.parameterData[name] !== undefined\n                        ? options.parameterData[name]\n                        : defaultValue === undefined\n                            ? 0\n                            : defaultValue\n                });\n                Object.defineProperties(constantSourceNode.offset, {\n                    defaultValue: {\n                        get: () => (defaultValue === undefined ? 0 : defaultValue)\n                    },\n                    maxValue: {\n                        get: () => (maxValue === undefined ? MOST_POSITIVE_SINGLE_FLOAT : maxValue)\n                    },\n                    minValue: {\n                        get: () => (minValue === undefined ? MOST_NEGATIVE_SINGLE_FLOAT : minValue)\n                    }\n                });\n                constantSourceNodes.push(constantSourceNode);\n            }\n        }\n        const inputChannelMergerNode = createNativeChannelMergerNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'speakers',\n            numberOfInputs: Math.max(1, numberOfInputChannels + numberOfParameters)\n        });\n        const bufferSize = computeBufferSize(baseLatency, nativeContext.sampleRate);\n        const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, bufferSize, numberOfInputChannels + numberOfParameters, \n        // Bug #87: Only Firefox will fire an AudioProcessingEvent if there is no connected output.\n        Math.max(1, numberOfOutputChannels));\n        const outputChannelSplitterNode = createNativeChannelSplitterNode(nativeContext, {\n            channelCount: Math.max(1, numberOfOutputChannels),\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            numberOfOutputs: Math.max(1, numberOfOutputChannels)\n        });\n        const outputChannelMergerNodes = [];\n        for (let i = 0; i < options.numberOfOutputs; i += 1) {\n            outputChannelMergerNodes.push(createNativeChannelMergerNode(nativeContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'speakers',\n                numberOfInputs: outputChannelCount[i]\n            }));\n        }\n        for (let i = 0; i < options.numberOfInputs; i += 1) {\n            gainNodes[i].connect(inputChannelSplitterNodes[i]);\n            for (let j = 0; j < options.channelCount; j += 1) {\n                inputChannelSplitterNodes[i].connect(inputChannelMergerNode, j, i * options.channelCount + j);\n            }\n        }\n        const parameterMap = new ReadOnlyMap(processorConstructor.parameterDescriptors === undefined\n            ? []\n            : processorConstructor.parameterDescriptors.map(({ name }, index) => {\n                const constantSourceNode = constantSourceNodes[index];\n                constantSourceNode.connect(inputChannelMergerNode, 0, numberOfInputChannels + index);\n                constantSourceNode.start(0);\n                return [name, constantSourceNode.offset];\n            }));\n        inputChannelMergerNode.connect(scriptProcessorNode);\n        let channelInterpretation = options.channelInterpretation;\n        let onprocessorerror = null;\n        // Bug #87: Expose at least one output to make this node connectable.\n        const outputAudioNodes = options.numberOfOutputs === 0 ? [scriptProcessorNode] : outputChannelMergerNodes;\n        const nativeAudioWorkletNodeFaker = {\n            get bufferSize() {\n                return bufferSize;\n            },\n            get channelCount() {\n                return options.channelCount;\n            },\n            set channelCount(_) {\n                // Bug #61: This is not part of the standard but required for the faker to work.\n                throw createInvalidStateError();\n            },\n            get channelCountMode() {\n                return options.channelCountMode;\n            },\n            set channelCountMode(_) {\n                // Bug #61: This is not part of the standard but required for the faker to work.\n                throw createInvalidStateError();\n            },\n            get channelInterpretation() {\n                return channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                for (const gainNode of gainNodes) {\n                    gainNode.channelInterpretation = value;\n                }\n                channelInterpretation = value;\n            },\n            get context() {\n                return scriptProcessorNode.context;\n            },\n            get inputs() {\n                return gainNodes;\n            },\n            get numberOfInputs() {\n                return options.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return options.numberOfOutputs;\n            },\n            get onprocessorerror() {\n                return onprocessorerror;\n            },\n            set onprocessorerror(value) {\n                if (typeof onprocessorerror === 'function') {\n                    nativeAudioWorkletNodeFaker.removeEventListener('processorerror', onprocessorerror);\n                }\n                onprocessorerror = typeof value === 'function' ? value : null;\n                if (typeof onprocessorerror === 'function') {\n                    nativeAudioWorkletNodeFaker.addEventListener('processorerror', onprocessorerror);\n                }\n            },\n            get parameters() {\n                return parameterMap;\n            },\n            get port() {\n                return messageChannel.port2;\n            },\n            addEventListener(...args) {\n                return scriptProcessorNode.addEventListener(args[0], args[1], args[2]);\n            },\n            connect: connectMultipleOutputs.bind(null, outputAudioNodes),\n            disconnect: disconnectMultipleOutputs.bind(null, outputAudioNodes),\n            dispatchEvent(...args) {\n                return scriptProcessorNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return scriptProcessorNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n        const patchedEventListeners = new Map();\n        messageChannel.port1.addEventListener = ((addEventListener) => {\n            return (...args) => {\n                if (args[0] === 'message') {\n                    const unpatchedEventListener = typeof args[1] === 'function'\n                        ? args[1]\n                        : typeof args[1] === 'object' && args[1] !== null && typeof args[1].handleEvent === 'function'\n                            ? args[1].handleEvent\n                            : null;\n                    if (unpatchedEventListener !== null) {\n                        const patchedEventListener = patchedEventListeners.get(args[1]);\n                        if (patchedEventListener !== undefined) {\n                            args[1] = patchedEventListener;\n                        }\n                        else {\n                            args[1] = (event) => {\n                                exposeCurrentFrameAndCurrentTime(nativeContext.currentTime, nativeContext.sampleRate, () => unpatchedEventListener(event));\n                            };\n                            patchedEventListeners.set(unpatchedEventListener, args[1]);\n                        }\n                    }\n                }\n                return addEventListener.call(messageChannel.port1, args[0], args[1], args[2]);\n            };\n        })(messageChannel.port1.addEventListener);\n        messageChannel.port1.removeEventListener = ((removeEventListener) => {\n            return (...args) => {\n                if (args[0] === 'message') {\n                    const patchedEventListener = patchedEventListeners.get(args[1]);\n                    if (patchedEventListener !== undefined) {\n                        patchedEventListeners.delete(args[1]);\n                        args[1] = patchedEventListener;\n                    }\n                }\n                return removeEventListener.call(messageChannel.port1, args[0], args[1], args[2]);\n            };\n        })(messageChannel.port1.removeEventListener);\n        let onmessage = null;\n        Object.defineProperty(messageChannel.port1, 'onmessage', {\n            get: () => onmessage,\n            set: (value) => {\n                if (typeof onmessage === 'function') {\n                    messageChannel.port1.removeEventListener('message', onmessage);\n                }\n                onmessage = typeof value === 'function' ? value : null;\n                if (typeof onmessage === 'function') {\n                    messageChannel.port1.addEventListener('message', onmessage);\n                    messageChannel.port1.start();\n                }\n            }\n        });\n        processorConstructor.prototype.port = messageChannel.port1;\n        let audioWorkletProcessor = null;\n        const audioWorkletProcessorPromise = createAudioWorkletProcessor(nativeContext, nativeAudioWorkletNodeFaker, processorConstructor, options);\n        audioWorkletProcessorPromise.then((dWrkltPrcssr) => (audioWorkletProcessor = dWrkltPrcssr));\n        const inputs = createNestedArrays(options.numberOfInputs, options.channelCount);\n        const outputs = createNestedArrays(options.numberOfOutputs, outputChannelCount);\n        const parameters = processorConstructor.parameterDescriptors === undefined\n            ? []\n            : processorConstructor.parameterDescriptors.reduce((prmtrs, { name }) => ({ ...prmtrs, [name]: new Float32Array(128) }), {});\n        let isActive = true;\n        const disconnectOutputsGraph = () => {\n            if (options.numberOfOutputs > 0) {\n                scriptProcessorNode.disconnect(outputChannelSplitterNode);\n            }\n            for (let i = 0, outputChannelSplitterNodeOutput = 0; i < options.numberOfOutputs; i += 1) {\n                const outputChannelMergerNode = outputChannelMergerNodes[i];\n                for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                    outputChannelSplitterNode.disconnect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                }\n                outputChannelSplitterNodeOutput += outputChannelCount[i];\n            }\n        };\n        const activeInputIndexes = new Map();\n        // tslint:disable-next-line:deprecation\n        scriptProcessorNode.onaudioprocess = ({ inputBuffer, outputBuffer }) => {\n            if (audioWorkletProcessor !== null) {\n                const activeInputs = getActiveAudioWorkletNodeInputs(nativeAudioWorkletNodeFaker);\n                for (let i = 0; i < bufferSize; i += 128) {\n                    for (let j = 0; j < options.numberOfInputs; j += 1) {\n                        for (let k = 0; k < options.channelCount; k += 1) {\n                            copyFromChannel(inputBuffer, inputs[j], k, k, i);\n                        }\n                    }\n                    if (processorConstructor.parameterDescriptors !== undefined) {\n                        processorConstructor.parameterDescriptors.forEach(({ name }, index) => {\n                            copyFromChannel(inputBuffer, parameters, name, numberOfInputChannels + index, i);\n                        });\n                    }\n                    for (let j = 0; j < options.numberOfInputs; j += 1) {\n                        for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                            // The byteLength will be 0 when the ArrayBuffer was transferred.\n                            if (outputs[j][k].byteLength === 0) {\n                                outputs[j][k] = new Float32Array(128);\n                            }\n                        }\n                    }\n                    try {\n                        const potentiallyEmptyInputs = inputs.map((input, index) => {\n                            const activeInput = activeInputs[index];\n                            if (activeInput.size > 0) {\n                                activeInputIndexes.set(index, bufferSize / 128);\n                                return input;\n                            }\n                            const count = activeInputIndexes.get(index);\n                            if (count === undefined) {\n                                return [];\n                            }\n                            if (input.every((channelData) => channelData.every((sample) => sample === 0))) {\n                                if (count === 1) {\n                                    activeInputIndexes.delete(index);\n                                }\n                                else {\n                                    activeInputIndexes.set(index, count - 1);\n                                }\n                            }\n                            return input;\n                        });\n                        const activeSourceFlag = exposeCurrentFrameAndCurrentTime(nativeContext.currentTime + i / nativeContext.sampleRate, nativeContext.sampleRate, () => audioWorkletProcessor.process(potentiallyEmptyInputs, outputs, parameters));\n                        isActive = activeSourceFlag;\n                        for (let j = 0, outputChannelSplitterNodeOutput = 0; j < options.numberOfOutputs; j += 1) {\n                            for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                                copyToChannel(outputBuffer, outputs[j], k, outputChannelSplitterNodeOutput + k, i);\n                            }\n                            outputChannelSplitterNodeOutput += outputChannelCount[j];\n                        }\n                    }\n                    catch (error) {\n                        isActive = false;\n                        nativeAudioWorkletNodeFaker.dispatchEvent(new ErrorEvent('processorerror', {\n                            colno: error.colno,\n                            filename: error.filename,\n                            lineno: error.lineno,\n                            message: error.message\n                        }));\n                    }\n                    if (!isActive) {\n                        for (let j = 0; j < options.numberOfInputs; j += 1) {\n                            gainNodes[j].disconnect(inputChannelSplitterNodes[j]);\n                            for (let k = 0; k < options.channelCount; k += 1) {\n                                inputChannelSplitterNodes[i].disconnect(inputChannelMergerNode, k, j * options.channelCount + k);\n                            }\n                        }\n                        if (processorConstructor.parameterDescriptors !== undefined) {\n                            const length = processorConstructor.parameterDescriptors.length;\n                            for (let j = 0; j < length; j += 1) {\n                                const constantSourceNode = constantSourceNodes[j];\n                                constantSourceNode.disconnect(inputChannelMergerNode, 0, numberOfInputChannels + j);\n                                constantSourceNode.stop();\n                            }\n                        }\n                        inputChannelMergerNode.disconnect(scriptProcessorNode);\n                        scriptProcessorNode.onaudioprocess = null; // tslint:disable-line:deprecation\n                        if (isConnected) {\n                            disconnectOutputsGraph();\n                        }\n                        else {\n                            disconnectFakeGraph();\n                        }\n                        break;\n                    }\n                }\n            }\n        };\n        let isConnected = false;\n        // Bug #87: Only Firefox will fire an AudioProcessingEvent if there is no connected output.\n        const nativeGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n        const connectFakeGraph = () => scriptProcessorNode.connect(nativeGainNode).connect(nativeContext.destination);\n        const disconnectFakeGraph = () => {\n            scriptProcessorNode.disconnect(nativeGainNode);\n            nativeGainNode.disconnect();\n        };\n        const whenConnected = () => {\n            if (isActive) {\n                disconnectFakeGraph();\n                if (options.numberOfOutputs > 0) {\n                    scriptProcessorNode.connect(outputChannelSplitterNode);\n                }\n                for (let i = 0, outputChannelSplitterNodeOutput = 0; i < options.numberOfOutputs; i += 1) {\n                    const outputChannelMergerNode = outputChannelMergerNodes[i];\n                    for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                        outputChannelSplitterNode.connect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                    }\n                    outputChannelSplitterNodeOutput += outputChannelCount[i];\n                }\n            }\n            isConnected = true;\n        };\n        const whenDisconnected = () => {\n            if (isActive) {\n                connectFakeGraph();\n                disconnectOutputsGraph();\n            }\n            isConnected = false;\n        };\n        connectFakeGraph();\n        return monitorConnections(nativeAudioWorkletNodeFaker, whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-audio-worklet-node-faker-factory.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeBiquadFilterNode = (nativeContext, options) => {\n    const nativeBiquadFilterNode = nativeContext.createBiquadFilter();\n    assignNativeAudioNodeOptions(nativeBiquadFilterNode, options);\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'Q');\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'detune');\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'frequency');\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'gain');\n    assignNativeAudioNodeOption(nativeBiquadFilterNode, options, 'type');\n    return nativeBiquadFilterNode;\n};\n//# sourceMappingURL=native-biquad-filter-node.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeChannelMergerNodeFactory = (nativeAudioContextConstructor, wrapChannelMergerNode) => {\n    return (nativeContext, options) => {\n        const nativeChannelMergerNode = nativeContext.createChannelMerger(options.numberOfInputs);\n        /*\n         * Bug #20: Safari requires a connection of any kind to treat the input signal correctly.\n         * @todo Unfortunately there is no way to test for this behavior in a synchronous fashion which is why testing for the existence of\n         * the webkitAudioContext is used as a workaround here.\n         */\n        if (nativeAudioContextConstructor !== null && nativeAudioContextConstructor.name === 'webkitAudioContext') {\n            wrapChannelMergerNode(nativeContext, nativeChannelMergerNode);\n        }\n        assignNativeAudioNodeOptions(nativeChannelMergerNode, options);\n        return nativeChannelMergerNode;\n    };\n};\n//# sourceMappingURL=native-channel-merger-node-factory.js.map","import { createInvalidStateError } from '../factories/invalid-state-error';\nexport const wrapChannelSplitterNode = (channelSplitterNode) => {\n    const channelCount = channelSplitterNode.numberOfOutputs;\n    // Bug #97: Safari does not throw an error when attempting to change the channelCount to something other than its initial value.\n    Object.defineProperty(channelSplitterNode, 'channelCount', {\n        get: () => channelCount,\n        set: (value) => {\n            if (value !== channelCount) {\n                throw createInvalidStateError();\n            }\n        }\n    });\n    // Bug #30: Safari does not throw an error when attempting to change the channelCountMode to something other than explicit.\n    Object.defineProperty(channelSplitterNode, 'channelCountMode', {\n        get: () => 'explicit',\n        set: (value) => {\n            if (value !== 'explicit') {\n                throw createInvalidStateError();\n            }\n        }\n    });\n    // Bug #32: Safari does not throw an error when attempting to change the channelInterpretation to something other than discrete.\n    Object.defineProperty(channelSplitterNode, 'channelInterpretation', {\n        get: () => 'discrete',\n        set: (value) => {\n            if (value !== 'discrete') {\n                throw createInvalidStateError();\n            }\n        }\n    });\n};\n//# sourceMappingURL=wrap-channel-splitter-node.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapChannelSplitterNode } from '../helpers/wrap-channel-splitter-node';\nexport const createNativeChannelSplitterNode = (nativeContext, options) => {\n    const nativeChannelSplitterNode = nativeContext.createChannelSplitter(options.numberOfOutputs);\n    // Bug #96: Safari does not have the correct channelCount.\n    // Bug #29: Safari does not have the correct channelCountMode.\n    // Bug #31: Safari does not have the correct channelInterpretation.\n    assignNativeAudioNodeOptions(nativeChannelSplitterNode, options);\n    // Bug #29, #30, #31, #32, #96 & #97: Only Chrome, Edge & Firefox partially support the spec yet.\n    wrapChannelSplitterNode(nativeChannelSplitterNode);\n    return nativeChannelSplitterNode;\n};\n//# sourceMappingURL=native-channel-splitter-node.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapAudioScheduledSourceNodeStartMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters';\nimport { wrapAudioScheduledSourceNodeStopMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters';\nexport const createNativeConstantSourceNodeFactory = (addSilentConnection, cacheTestResult, createNativeConstantSourceNodeFaker, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport) => {\n    return (nativeContext, options) => {\n        // Bug #62: Safari does not support ConstantSourceNodes.\n        if (nativeContext.createConstantSource === undefined) {\n            return createNativeConstantSourceNodeFaker(nativeContext, options);\n        }\n        const nativeConstantSourceNode = nativeContext.createConstantSource();\n        assignNativeAudioNodeOptions(nativeConstantSourceNode, options);\n        assignNativeAudioNodeAudioParamValue(nativeConstantSourceNode, options, 'offset');\n        // Bug #44: Safari does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStartMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStartMethodNegativeParameters(nativeConstantSourceNode);\n        }\n        // Bug #44: Only Firefox does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStopMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodNegativeParameters(nativeConstantSourceNode);\n        }\n        // Bug #175: Safari will not fire an ended event if the ConstantSourceNode is unconnected.\n        addSilentConnection(nativeContext, nativeConstantSourceNode);\n        return nativeConstantSourceNode;\n    };\n};\n//# sourceMappingURL=native-constant-source-node-factory.js.map","export const interceptConnections = (original, interceptor) => {\n    original.connect = interceptor.connect.bind(interceptor);\n    original.disconnect = interceptor.disconnect.bind(interceptor);\n    return original;\n};\n//# sourceMappingURL=intercept-connections.js.map","import { interceptConnections } from '../helpers/intercept-connections';\nexport const createNativeConstantSourceNodeFakerFactory = (addSilentConnection, createNativeAudioBufferSourceNode, createNativeGainNode, monitorConnections) => {\n    return (nativeContext, { offset, ...audioNodeOptions }) => {\n        const audioBuffer = nativeContext.createBuffer(1, 2, 44100);\n        const audioBufferSourceNode = createNativeAudioBufferSourceNode(nativeContext, {\n            buffer: null,\n            channelCount: 2,\n            channelCountMode: 'max',\n            channelInterpretation: 'speakers',\n            loop: false,\n            loopEnd: 0,\n            loopStart: 0,\n            playbackRate: 1\n        });\n        const gainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: offset });\n        // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n        const channelData = audioBuffer.getChannelData(0);\n        // Bug #95: Safari does not play or loop one sample buffers.\n        channelData[0] = 1;\n        channelData[1] = 1;\n        audioBufferSourceNode.buffer = audioBuffer;\n        audioBufferSourceNode.loop = true;\n        const nativeConstantSourceNodeFaker = {\n            get bufferSize() {\n                return undefined;\n            },\n            get channelCount() {\n                return gainNode.channelCount;\n            },\n            set channelCount(value) {\n                gainNode.channelCount = value;\n            },\n            get channelCountMode() {\n                return gainNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                gainNode.channelCountMode = value;\n            },\n            get channelInterpretation() {\n                return gainNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                gainNode.channelInterpretation = value;\n            },\n            get context() {\n                return gainNode.context;\n            },\n            get inputs() {\n                return [];\n            },\n            get numberOfInputs() {\n                return audioBufferSourceNode.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return gainNode.numberOfOutputs;\n            },\n            get offset() {\n                return gainNode.gain;\n            },\n            get onended() {\n                return audioBufferSourceNode.onended;\n            },\n            set onended(value) {\n                audioBufferSourceNode.onended = value;\n            },\n            addEventListener(...args) {\n                return audioBufferSourceNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args) {\n                return audioBufferSourceNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return audioBufferSourceNode.removeEventListener(args[0], args[1], args[2]);\n            },\n            start(when = 0) {\n                audioBufferSourceNode.start.call(audioBufferSourceNode, when);\n            },\n            stop(when = 0) {\n                audioBufferSourceNode.stop.call(audioBufferSourceNode, when);\n            }\n        };\n        const whenConnected = () => audioBufferSourceNode.connect(gainNode);\n        const whenDisconnected = () => audioBufferSourceNode.disconnect(gainNode);\n        // Bug #175: Safari will not fire an ended event if the AudioBufferSourceNode is unconnected.\n        addSilentConnection(nativeContext, audioBufferSourceNode);\n        return monitorConnections(interceptConnections(nativeConstantSourceNodeFaker, gainNode), whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-constant-source-node-faker-factory.js.map","import { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeConvolverNodeFactory = (createNotSupportedError, overwriteAccessors) => {\n    return (nativeContext, options) => {\n        const nativeConvolverNode = nativeContext.createConvolver();\n        assignNativeAudioNodeOptions(nativeConvolverNode, options);\n        // The normalize property needs to be set before setting the buffer.\n        if (options.disableNormalization === nativeConvolverNode.normalize) {\n            nativeConvolverNode.normalize = !options.disableNormalization;\n        }\n        assignNativeAudioNodeOption(nativeConvolverNode, options, 'buffer');\n        // Bug #113: Safari does allow to set the channelCount to a value larger than 2.\n        if (options.channelCount > 2) {\n            throw createNotSupportedError();\n        }\n        overwriteAccessors(nativeConvolverNode, 'channelCount', (get) => () => get.call(nativeConvolverNode), (set) => (value) => {\n            if (value > 2) {\n                throw createNotSupportedError();\n            }\n            return set.call(nativeConvolverNode, value);\n        });\n        // Bug #114: Safari allows to set the channelCountMode to 'max'.\n        if (options.channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n        overwriteAccessors(nativeConvolverNode, 'channelCountMode', (get) => () => get.call(nativeConvolverNode), (set) => (value) => {\n            if (value === 'max') {\n                throw createNotSupportedError();\n            }\n            return set.call(nativeConvolverNode, value);\n        });\n        return nativeConvolverNode;\n    };\n};\n//# sourceMappingURL=native-convolver-node-factory.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeDelayNode = (nativeContext, options) => {\n    const nativeDelayNode = nativeContext.createDelay(options.maxDelayTime);\n    assignNativeAudioNodeOptions(nativeDelayNode, options);\n    assignNativeAudioNodeAudioParamValue(nativeDelayNode, options, 'delayTime');\n    return nativeDelayNode;\n};\n//# sourceMappingURL=native-delay-node.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeDynamicsCompressorNodeFactory = (createNotSupportedError) => {\n    return (nativeContext, options) => {\n        const nativeDynamicsCompressorNode = nativeContext.createDynamicsCompressor();\n        assignNativeAudioNodeOptions(nativeDynamicsCompressorNode, options);\n        // Bug #108: Safari allows a channelCount of three and above.\n        if (options.channelCount > 2) {\n            throw createNotSupportedError();\n        }\n        // Bug #109: Only Chrome and Firefox disallow a channelCountMode of 'max'.\n        if (options.channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'attack');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'knee');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'ratio');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'release');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'threshold');\n        return nativeDynamicsCompressorNode;\n    };\n};\n//# sourceMappingURL=native-dynamics-compressor-node-factory.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeGainNode = (nativeContext, options) => {\n    const nativeGainNode = nativeContext.createGain();\n    assignNativeAudioNodeOptions(nativeGainNode, options);\n    assignNativeAudioNodeAudioParamValue(nativeGainNode, options, 'gain');\n    return nativeGainNode;\n};\n//# sourceMappingURL=native-gain-node.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeIIRFilterNodeFactory = (createNativeIIRFilterNodeFaker) => {\n    return (nativeContext, baseLatency, options) => {\n        // Bug #9: Safari does not support IIRFilterNodes.\n        if (nativeContext.createIIRFilter === undefined) {\n            return createNativeIIRFilterNodeFaker(nativeContext, baseLatency, options);\n        }\n        // @todo TypeScript defines the parameters of createIIRFilter() as arrays of numbers.\n        const nativeIIRFilterNode = nativeContext.createIIRFilter(options.feedforward, options.feedback);\n        assignNativeAudioNodeOptions(nativeIIRFilterNode, options);\n        return nativeIIRFilterNode;\n    };\n};\n//# sourceMappingURL=native-iir-filter-node-factory.js.map","import { computeBufferSize } from '../helpers/compute-buffer-size';\nimport { filterBuffer } from '../helpers/filter-buffer';\nimport { interceptConnections } from '../helpers/intercept-connections';\nfunction divide(a, b) {\n    const denominator = b[0] * b[0] + b[1] * b[1];\n    return [(a[0] * b[0] + a[1] * b[1]) / denominator, (a[1] * b[0] - a[0] * b[1]) / denominator];\n}\nfunction multiply(a, b) {\n    return [a[0] * b[0] - a[1] * b[1], a[0] * b[1] + a[1] * b[0]];\n}\nfunction evaluatePolynomial(coefficient, z) {\n    let result = [0, 0];\n    for (let i = coefficient.length - 1; i >= 0; i -= 1) {\n        result = multiply(result, z);\n        result[0] += coefficient[i];\n    }\n    return result;\n}\nexport const createNativeIIRFilterNodeFakerFactory = (createInvalidAccessError, createInvalidStateError, createNativeScriptProcessorNode, createNotSupportedError) => {\n    return (nativeContext, baseLatency, { channelCount, channelCountMode, channelInterpretation, feedback, feedforward }) => {\n        const bufferSize = computeBufferSize(baseLatency, nativeContext.sampleRate);\n        const convertedFeedback = feedback instanceof Float64Array ? feedback : new Float64Array(feedback);\n        const convertedFeedforward = feedforward instanceof Float64Array ? feedforward : new Float64Array(feedforward);\n        const feedbackLength = convertedFeedback.length;\n        const feedforwardLength = convertedFeedforward.length;\n        const minLength = Math.min(feedbackLength, feedforwardLength);\n        if (feedbackLength === 0 || feedbackLength > 20) {\n            throw createNotSupportedError();\n        }\n        if (convertedFeedback[0] === 0) {\n            throw createInvalidStateError();\n        }\n        if (feedforwardLength === 0 || feedforwardLength > 20) {\n            throw createNotSupportedError();\n        }\n        if (convertedFeedforward[0] === 0) {\n            throw createInvalidStateError();\n        }\n        if (convertedFeedback[0] !== 1) {\n            for (let i = 0; i < feedforwardLength; i += 1) {\n                convertedFeedforward[i] /= convertedFeedback[0];\n            }\n            for (let i = 1; i < feedbackLength; i += 1) {\n                convertedFeedback[i] /= convertedFeedback[0];\n            }\n        }\n        const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, bufferSize, channelCount, channelCount);\n        scriptProcessorNode.channelCount = channelCount;\n        scriptProcessorNode.channelCountMode = channelCountMode;\n        scriptProcessorNode.channelInterpretation = channelInterpretation;\n        const bufferLength = 32;\n        const bufferIndexes = [];\n        const xBuffers = [];\n        const yBuffers = [];\n        for (let i = 0; i < channelCount; i += 1) {\n            bufferIndexes.push(0);\n            const xBuffer = new Float32Array(bufferLength);\n            const yBuffer = new Float32Array(bufferLength);\n            xBuffer.fill(0);\n            yBuffer.fill(0);\n            xBuffers.push(xBuffer);\n            yBuffers.push(yBuffer);\n        }\n        // tslint:disable-next-line:deprecation\n        scriptProcessorNode.onaudioprocess = (event) => {\n            const inputBuffer = event.inputBuffer;\n            const outputBuffer = event.outputBuffer;\n            const numberOfChannels = inputBuffer.numberOfChannels;\n            for (let i = 0; i < numberOfChannels; i += 1) {\n                const input = inputBuffer.getChannelData(i);\n                const output = outputBuffer.getChannelData(i);\n                bufferIndexes[i] = filterBuffer(convertedFeedback, feedbackLength, convertedFeedforward, feedforwardLength, minLength, xBuffers[i], yBuffers[i], bufferIndexes[i], bufferLength, input, output);\n            }\n        };\n        const nyquist = nativeContext.sampleRate / 2;\n        const nativeIIRFilterNodeFaker = {\n            get bufferSize() {\n                return bufferSize;\n            },\n            get channelCount() {\n                return scriptProcessorNode.channelCount;\n            },\n            set channelCount(value) {\n                scriptProcessorNode.channelCount = value;\n            },\n            get channelCountMode() {\n                return scriptProcessorNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                scriptProcessorNode.channelCountMode = value;\n            },\n            get channelInterpretation() {\n                return scriptProcessorNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                scriptProcessorNode.channelInterpretation = value;\n            },\n            get context() {\n                return scriptProcessorNode.context;\n            },\n            get inputs() {\n                return [scriptProcessorNode];\n            },\n            get numberOfInputs() {\n                return scriptProcessorNode.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return scriptProcessorNode.numberOfOutputs;\n            },\n            addEventListener(...args) {\n                // @todo Dissallow adding an audioprocess listener.\n                return scriptProcessorNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args) {\n                return scriptProcessorNode.dispatchEvent(args[0]);\n            },\n            getFrequencyResponse(frequencyHz, magResponse, phaseResponse) {\n                if (frequencyHz.length !== magResponse.length || magResponse.length !== phaseResponse.length) {\n                    throw createInvalidAccessError();\n                }\n                const length = frequencyHz.length;\n                for (let i = 0; i < length; i += 1) {\n                    const omega = -Math.PI * (frequencyHz[i] / nyquist);\n                    const z = [Math.cos(omega), Math.sin(omega)];\n                    const numerator = evaluatePolynomial(convertedFeedforward, z);\n                    const denominator = evaluatePolynomial(convertedFeedback, z);\n                    const response = divide(numerator, denominator);\n                    magResponse[i] = Math.sqrt(response[0] * response[0] + response[1] * response[1]);\n                    phaseResponse[i] = Math.atan2(response[1], response[0]);\n                }\n            },\n            removeEventListener(...args) {\n                return scriptProcessorNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n        return interceptConnections(nativeIIRFilterNodeFaker, scriptProcessorNode);\n    };\n};\n//# sourceMappingURL=native-iir-filter-node-faker-factory.js.map","export const createNativeMediaElementAudioSourceNode = (nativeAudioContext, options) => {\n    return nativeAudioContext.createMediaElementSource(options.mediaElement);\n};\n//# sourceMappingURL=native-media-element-audio-source-node.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeMediaStreamAudioDestinationNode = (nativeAudioContext, options) => {\n    const nativeMediaStreamAudioDestinationNode = nativeAudioContext.createMediaStreamDestination();\n    assignNativeAudioNodeOptions(nativeMediaStreamAudioDestinationNode, options);\n    // Bug #174: Safari does expose a wrong numberOfOutputs.\n    if (nativeMediaStreamAudioDestinationNode.numberOfOutputs === 1) {\n        Object.defineProperty(nativeMediaStreamAudioDestinationNode, 'numberOfOutputs', { get: () => 0 });\n    }\n    return nativeMediaStreamAudioDestinationNode;\n};\n//# sourceMappingURL=native-media-stream-audio-destination-node.js.map","export const createNativeMediaStreamAudioSourceNode = (nativeAudioContext, { mediaStream }) => {\n    const audioStreamTracks = mediaStream.getAudioTracks();\n    /*\n     * Bug #151: Safari does not use the audio track as input anymore if it gets removed from the mediaStream after construction.\n     * Bug #159: Safari picks the first audio track if the MediaStream has more than one audio track.\n     */\n    audioStreamTracks.sort((a, b) => (a.id < b.id ? -1 : a.id > b.id ? 1 : 0));\n    const filteredAudioStreamTracks = audioStreamTracks.slice(0, 1);\n    const nativeMediaStreamAudioSourceNode = nativeAudioContext.createMediaStreamSource(new MediaStream(filteredAudioStreamTracks));\n    /*\n     * Bug #151 & #159: The given mediaStream gets reconstructed before it gets passed to the native node which is why the accessor needs\n     * to be overwritten as it would otherwise expose the reconstructed version.\n     */\n    Object.defineProperty(nativeMediaStreamAudioSourceNode, 'mediaStream', { value: mediaStream });\n    return nativeMediaStreamAudioSourceNode;\n};\n//# sourceMappingURL=native-media-stream-audio-source-node.js.map","export const createNativeMediaStreamTrackAudioSourceNodeFactory = (createInvalidStateError, isNativeOfflineAudioContext) => {\n    return (nativeAudioContext, { mediaStreamTrack }) => {\n        // Bug #121: Only Firefox does yet support the MediaStreamTrackAudioSourceNode.\n        if (typeof nativeAudioContext.createMediaStreamTrackSource === 'function') {\n            return nativeAudioContext.createMediaStreamTrackSource(mediaStreamTrack);\n        }\n        const mediaStream = new MediaStream([mediaStreamTrack]);\n        const nativeMediaStreamAudioSourceNode = nativeAudioContext.createMediaStreamSource(mediaStream);\n        // Bug #120: Firefox does not throw an error if the mediaStream has no audio track.\n        if (mediaStreamTrack.kind !== 'audio') {\n            throw createInvalidStateError();\n        }\n        // Bug #172: Safari allows to create a MediaStreamAudioSourceNode with an OfflineAudioContext.\n        if (isNativeOfflineAudioContext(nativeAudioContext)) {\n            throw new TypeError();\n        }\n        return nativeMediaStreamAudioSourceNode;\n    };\n};\n//# sourceMappingURL=native-media-stream-track-audio-source-node-factory.js.map","export const createNativeOfflineAudioContextConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    if (window.hasOwnProperty('OfflineAudioContext')) {\n        return window.OfflineAudioContext;\n    }\n    return window.hasOwnProperty('webkitOfflineAudioContext') ? window.webkitOfflineAudioContext : null;\n};\n//# sourceMappingURL=native-offline-audio-context-constructor.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapAudioScheduledSourceNodeStartMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters';\nimport { wrapAudioScheduledSourceNodeStopMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters';\nexport const createNativeOscillatorNodeFactory = (addSilentConnection, cacheTestResult, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls) => {\n    return (nativeContext, options) => {\n        const nativeOscillatorNode = nativeContext.createOscillator();\n        assignNativeAudioNodeOptions(nativeOscillatorNode, options);\n        assignNativeAudioNodeAudioParamValue(nativeOscillatorNode, options, 'detune');\n        assignNativeAudioNodeAudioParamValue(nativeOscillatorNode, options, 'frequency');\n        if (options.periodicWave !== undefined) {\n            nativeOscillatorNode.setPeriodicWave(options.periodicWave);\n        }\n        else {\n            assignNativeAudioNodeOption(nativeOscillatorNode, options, 'type');\n        }\n        // Bug #44: Only Chrome & Edge throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStartMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStartMethodNegativeParameters(nativeOscillatorNode);\n        }\n        // Bug #19: Safari does not ignore calls to stop() of an already stopped AudioBufferSourceNode.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, () => testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls(nativeOscillatorNode, nativeContext);\n        }\n        // Bug #44: Only Firefox does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStopMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodNegativeParameters(nativeOscillatorNode);\n        }\n        // Bug #175: Safari will not fire an ended event if the OscillatorNode is unconnected.\n        addSilentConnection(nativeContext, nativeOscillatorNode);\n        return nativeOscillatorNode;\n    };\n};\n//# sourceMappingURL=native-oscillator-node-factory.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativePannerNodeFactory = (createNativePannerNodeFaker) => {\n    return (nativeContext, options) => {\n        const nativePannerNode = nativeContext.createPanner();\n        // Bug #124: Safari does not support modifying the orientation and the position with AudioParams.\n        if (nativePannerNode.orientationX === undefined) {\n            return createNativePannerNodeFaker(nativeContext, options);\n        }\n        assignNativeAudioNodeOptions(nativePannerNode, options);\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'orientationX');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'orientationY');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'orientationZ');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'positionX');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'positionY');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'positionZ');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'coneInnerAngle');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'coneOuterAngle');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'coneOuterGain');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'distanceModel');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'maxDistance');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'panningModel');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'refDistance');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'rolloffFactor');\n        return nativePannerNode;\n    };\n};\n//# sourceMappingURL=native-panner-node-factory.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { interceptConnections } from '../helpers/intercept-connections';\nexport const createNativePannerNodeFakerFactory = (connectNativeAudioNodeToNativeAudioNode, createInvalidStateError, createNativeChannelMergerNode, createNativeGainNode, createNativeScriptProcessorNode, createNativeWaveShaperNode, createNotSupportedError, disconnectNativeAudioNodeFromNativeAudioNode, getFirstSample, monitorConnections) => {\n    return (nativeContext, { coneInnerAngle, coneOuterAngle, coneOuterGain, distanceModel, maxDistance, orientationX, orientationY, orientationZ, panningModel, positionX, positionY, positionZ, refDistance, rolloffFactor, ...audioNodeOptions }) => {\n        const pannerNode = nativeContext.createPanner();\n        // Bug #125: Safari does not throw an error yet.\n        if (audioNodeOptions.channelCount > 2) {\n            throw createNotSupportedError();\n        }\n        // Bug #126: Safari does not throw an error yet.\n        if (audioNodeOptions.channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n        assignNativeAudioNodeOptions(pannerNode, audioNodeOptions);\n        const SINGLE_CHANNEL_OPTIONS = {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete'\n        };\n        const channelMergerNode = createNativeChannelMergerNode(nativeContext, {\n            ...SINGLE_CHANNEL_OPTIONS,\n            channelInterpretation: 'speakers',\n            numberOfInputs: 6\n        });\n        const inputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: 1 });\n        const orientationXGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 1 });\n        const orientationYGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const orientationZGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const positionXGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const positionYGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const positionZGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, 256, 6, 1);\n        const waveShaperNode = createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_OPTIONS,\n            curve: new Float32Array([1, 1]),\n            oversample: 'none'\n        });\n        let lastOrientation = [orientationX, orientationY, orientationZ];\n        let lastPosition = [positionX, positionY, positionZ];\n        const buffer = new Float32Array(1);\n        // tslint:disable-next-line:deprecation\n        scriptProcessorNode.onaudioprocess = ({ inputBuffer }) => {\n            const orientation = [\n                getFirstSample(inputBuffer, buffer, 0),\n                getFirstSample(inputBuffer, buffer, 1),\n                getFirstSample(inputBuffer, buffer, 2)\n            ];\n            if (orientation.some((value, index) => value !== lastOrientation[index])) {\n                pannerNode.setOrientation(...orientation); // tslint:disable-line:deprecation\n                lastOrientation = orientation;\n            }\n            const positon = [\n                getFirstSample(inputBuffer, buffer, 3),\n                getFirstSample(inputBuffer, buffer, 4),\n                getFirstSample(inputBuffer, buffer, 5)\n            ];\n            if (positon.some((value, index) => value !== lastPosition[index])) {\n                pannerNode.setPosition(...positon); // tslint:disable-line:deprecation\n                lastPosition = positon;\n            }\n        };\n        Object.defineProperty(orientationYGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(orientationZGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(positionXGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(positionYGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(positionZGainNode.gain, 'defaultValue', { get: () => 0 });\n        const nativePannerNodeFaker = {\n            get bufferSize() {\n                return undefined;\n            },\n            get channelCount() {\n                return pannerNode.channelCount;\n            },\n            set channelCount(value) {\n                // Bug #125: Safari does not throw an error yet.\n                if (value > 2) {\n                    throw createNotSupportedError();\n                }\n                inputGainNode.channelCount = value;\n                pannerNode.channelCount = value;\n            },\n            get channelCountMode() {\n                return pannerNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                // Bug #126: Safari does not throw an error yet.\n                if (value === 'max') {\n                    throw createNotSupportedError();\n                }\n                inputGainNode.channelCountMode = value;\n                pannerNode.channelCountMode = value;\n            },\n            get channelInterpretation() {\n                return pannerNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                inputGainNode.channelInterpretation = value;\n                pannerNode.channelInterpretation = value;\n            },\n            get coneInnerAngle() {\n                return pannerNode.coneInnerAngle;\n            },\n            set coneInnerAngle(value) {\n                pannerNode.coneInnerAngle = value;\n            },\n            get coneOuterAngle() {\n                return pannerNode.coneOuterAngle;\n            },\n            set coneOuterAngle(value) {\n                pannerNode.coneOuterAngle = value;\n            },\n            get coneOuterGain() {\n                return pannerNode.coneOuterGain;\n            },\n            set coneOuterGain(value) {\n                // Bug #127: Safari does not throw an InvalidStateError yet.\n                if (value < 0 || value > 1) {\n                    throw createInvalidStateError();\n                }\n                pannerNode.coneOuterGain = value;\n            },\n            get context() {\n                return pannerNode.context;\n            },\n            get distanceModel() {\n                return pannerNode.distanceModel;\n            },\n            set distanceModel(value) {\n                pannerNode.distanceModel = value;\n            },\n            get inputs() {\n                return [inputGainNode];\n            },\n            get maxDistance() {\n                return pannerNode.maxDistance;\n            },\n            set maxDistance(value) {\n                // Bug #128: Safari does not throw an error yet.\n                if (value < 0) {\n                    throw new RangeError();\n                }\n                pannerNode.maxDistance = value;\n            },\n            get numberOfInputs() {\n                return pannerNode.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return pannerNode.numberOfOutputs;\n            },\n            get orientationX() {\n                return orientationXGainNode.gain;\n            },\n            get orientationY() {\n                return orientationYGainNode.gain;\n            },\n            get orientationZ() {\n                return orientationZGainNode.gain;\n            },\n            get panningModel() {\n                return pannerNode.panningModel;\n            },\n            set panningModel(value) {\n                pannerNode.panningModel = value;\n            },\n            get positionX() {\n                return positionXGainNode.gain;\n            },\n            get positionY() {\n                return positionYGainNode.gain;\n            },\n            get positionZ() {\n                return positionZGainNode.gain;\n            },\n            get refDistance() {\n                return pannerNode.refDistance;\n            },\n            set refDistance(value) {\n                // Bug #129: Safari does not throw an error yet.\n                if (value < 0) {\n                    throw new RangeError();\n                }\n                pannerNode.refDistance = value;\n            },\n            get rolloffFactor() {\n                return pannerNode.rolloffFactor;\n            },\n            set rolloffFactor(value) {\n                // Bug #130: Safari does not throw an error yet.\n                if (value < 0) {\n                    throw new RangeError();\n                }\n                pannerNode.rolloffFactor = value;\n            },\n            addEventListener(...args) {\n                return inputGainNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args) {\n                return inputGainNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return inputGainNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n        if (coneInnerAngle !== nativePannerNodeFaker.coneInnerAngle) {\n            nativePannerNodeFaker.coneInnerAngle = coneInnerAngle;\n        }\n        if (coneOuterAngle !== nativePannerNodeFaker.coneOuterAngle) {\n            nativePannerNodeFaker.coneOuterAngle = coneOuterAngle;\n        }\n        if (coneOuterGain !== nativePannerNodeFaker.coneOuterGain) {\n            nativePannerNodeFaker.coneOuterGain = coneOuterGain;\n        }\n        if (distanceModel !== nativePannerNodeFaker.distanceModel) {\n            nativePannerNodeFaker.distanceModel = distanceModel;\n        }\n        if (maxDistance !== nativePannerNodeFaker.maxDistance) {\n            nativePannerNodeFaker.maxDistance = maxDistance;\n        }\n        if (orientationX !== nativePannerNodeFaker.orientationX.value) {\n            nativePannerNodeFaker.orientationX.value = orientationX;\n        }\n        if (orientationY !== nativePannerNodeFaker.orientationY.value) {\n            nativePannerNodeFaker.orientationY.value = orientationY;\n        }\n        if (orientationZ !== nativePannerNodeFaker.orientationZ.value) {\n            nativePannerNodeFaker.orientationZ.value = orientationZ;\n        }\n        if (panningModel !== nativePannerNodeFaker.panningModel) {\n            nativePannerNodeFaker.panningModel = panningModel;\n        }\n        if (positionX !== nativePannerNodeFaker.positionX.value) {\n            nativePannerNodeFaker.positionX.value = positionX;\n        }\n        if (positionY !== nativePannerNodeFaker.positionY.value) {\n            nativePannerNodeFaker.positionY.value = positionY;\n        }\n        if (positionZ !== nativePannerNodeFaker.positionZ.value) {\n            nativePannerNodeFaker.positionZ.value = positionZ;\n        }\n        if (refDistance !== nativePannerNodeFaker.refDistance) {\n            nativePannerNodeFaker.refDistance = refDistance;\n        }\n        if (rolloffFactor !== nativePannerNodeFaker.rolloffFactor) {\n            nativePannerNodeFaker.rolloffFactor = rolloffFactor;\n        }\n        if (lastOrientation[0] !== 1 || lastOrientation[1] !== 0 || lastOrientation[2] !== 0) {\n            pannerNode.setOrientation(...lastOrientation); // tslint:disable-line:deprecation\n        }\n        if (lastPosition[0] !== 0 || lastPosition[1] !== 0 || lastPosition[2] !== 0) {\n            pannerNode.setPosition(...lastPosition); // tslint:disable-line:deprecation\n        }\n        const whenConnected = () => {\n            inputGainNode.connect(pannerNode);\n            // Bug #119: Safari does not fully support the WaveShaperNode.\n            connectNativeAudioNodeToNativeAudioNode(inputGainNode, waveShaperNode, 0, 0);\n            waveShaperNode.connect(orientationXGainNode).connect(channelMergerNode, 0, 0);\n            waveShaperNode.connect(orientationYGainNode).connect(channelMergerNode, 0, 1);\n            waveShaperNode.connect(orientationZGainNode).connect(channelMergerNode, 0, 2);\n            waveShaperNode.connect(positionXGainNode).connect(channelMergerNode, 0, 3);\n            waveShaperNode.connect(positionYGainNode).connect(channelMergerNode, 0, 4);\n            waveShaperNode.connect(positionZGainNode).connect(channelMergerNode, 0, 5);\n            channelMergerNode.connect(scriptProcessorNode).connect(nativeContext.destination);\n        };\n        const whenDisconnected = () => {\n            inputGainNode.disconnect(pannerNode);\n            // Bug #119: Safari does not fully support the WaveShaperNode.\n            disconnectNativeAudioNodeFromNativeAudioNode(inputGainNode, waveShaperNode, 0, 0);\n            waveShaperNode.disconnect(orientationXGainNode);\n            orientationXGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(orientationYGainNode);\n            orientationYGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(orientationZGainNode);\n            orientationZGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(positionXGainNode);\n            positionXGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(positionYGainNode);\n            positionYGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(positionZGainNode);\n            positionZGainNode.disconnect(channelMergerNode);\n            channelMergerNode.disconnect(scriptProcessorNode);\n            scriptProcessorNode.disconnect(nativeContext.destination);\n        };\n        return monitorConnections(interceptConnections(nativePannerNodeFaker, pannerNode), whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-panner-node-faker-factory.js.map","export const createNativePeriodicWaveFactory = (createIndexSizeError) => {\n    return (nativeContext, { disableNormalization, imag, real }) => {\n        // Bug #180: Safari does not allow to use ordinary arrays.\n        const convertedImag = imag instanceof Float32Array ? imag : new Float32Array(imag);\n        const convertedReal = real instanceof Float32Array ? real : new Float32Array(real);\n        const nativePeriodicWave = nativeContext.createPeriodicWave(convertedReal, convertedImag, { disableNormalization });\n        // Bug #181: Safari does not throw an IndexSizeError so far if the given arrays have less than two values.\n        if (Array.from(imag).length < 2) {\n            throw createIndexSizeError();\n        }\n        return nativePeriodicWave;\n    };\n};\n//# sourceMappingURL=native-periodic-wave-factory.js.map","export const createNativeScriptProcessorNode = (nativeContext, bufferSize, numberOfInputChannels, numberOfOutputChannels) => {\n    return nativeContext.createScriptProcessor(bufferSize, numberOfInputChannels, numberOfOutputChannels); // tslint:disable-line deprecation\n};\n//# sourceMappingURL=native-script-processor-node.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeStereoPannerNodeFactory = (createNativeStereoPannerNodeFaker, createNotSupportedError) => {\n    return (nativeContext, options) => {\n        const channelCountMode = options.channelCountMode;\n        /*\n         * Bug #105: The channelCountMode of 'clamped-max' should be supported. However it is not possible to write a polyfill for Safari\n         * which supports it and therefore it can't be supported at all.\n         */\n        if (channelCountMode === 'clamped-max') {\n            throw createNotSupportedError();\n        }\n        // Bug #105: Safari does not support the StereoPannerNode.\n        if (nativeContext.createStereoPanner === undefined) {\n            return createNativeStereoPannerNodeFaker(nativeContext, options);\n        }\n        const nativeStereoPannerNode = nativeContext.createStereoPanner();\n        assignNativeAudioNodeOptions(nativeStereoPannerNode, options);\n        assignNativeAudioNodeAudioParamValue(nativeStereoPannerNode, options, 'pan');\n        /*\n         * Bug #105: The channelCountMode of 'clamped-max' should be supported. However it is not possible to write a polyfill for Safari\n         * which supports it and therefore it can't be supported at all.\n         */\n        Object.defineProperty(nativeStereoPannerNode, 'channelCountMode', {\n            get: () => channelCountMode,\n            set: (value) => {\n                if (value !== channelCountMode) {\n                    throw createNotSupportedError();\n                }\n            }\n        });\n        return nativeStereoPannerNode;\n    };\n};\n//# sourceMappingURL=native-stereo-panner-node-factory.js.map","import { interceptConnections } from '../helpers/intercept-connections';\nexport const createNativeStereoPannerNodeFakerFactory = (createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeGainNode, createNativeWaveShaperNode, createNotSupportedError, monitorConnections) => {\n    // The curve has a size of 14bit plus 1 value to have an exact representation for zero. This value has been determined experimentally.\n    const CURVE_SIZE = 16385;\n    const DC_CURVE = new Float32Array([1, 1]);\n    const HALF_PI = Math.PI / 2;\n    const SINGLE_CHANNEL_OPTIONS = { channelCount: 1, channelCountMode: 'explicit', channelInterpretation: 'discrete' };\n    const SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS = { ...SINGLE_CHANNEL_OPTIONS, oversample: 'none' };\n    const buildInternalGraphForMono = (nativeContext, inputGainNode, panGainNode, channelMergerNode) => {\n        const leftWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const rightWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        for (let i = 0; i < CURVE_SIZE; i += 1) {\n            const x = (i / (CURVE_SIZE - 1)) * HALF_PI;\n            leftWaveShaperCurve[i] = Math.cos(x);\n            rightWaveShaperCurve[i] = Math.sin(x);\n        }\n        const leftGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const leftWaveShaperNode = (createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: leftWaveShaperCurve }));\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const panWaveShaperNode = (createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: DC_CURVE }));\n        const rightGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const rightWaveShaperNode = (createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: rightWaveShaperCurve }));\n        return {\n            connectGraph() {\n                inputGainNode.connect(leftGainNode);\n                inputGainNode.connect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n                inputGainNode.connect(rightGainNode);\n                panWaveShaperNode.connect(panGainNode);\n                panGainNode.connect(leftWaveShaperNode.inputs === undefined ? leftWaveShaperNode : leftWaveShaperNode.inputs[0]);\n                panGainNode.connect(rightWaveShaperNode.inputs === undefined ? rightWaveShaperNode : rightWaveShaperNode.inputs[0]);\n                leftWaveShaperNode.connect(leftGainNode.gain);\n                rightWaveShaperNode.connect(rightGainNode.gain);\n                leftGainNode.connect(channelMergerNode, 0, 0);\n                rightGainNode.connect(channelMergerNode, 0, 1);\n            },\n            disconnectGraph() {\n                inputGainNode.disconnect(leftGainNode);\n                inputGainNode.disconnect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n                inputGainNode.disconnect(rightGainNode);\n                panWaveShaperNode.disconnect(panGainNode);\n                panGainNode.disconnect(leftWaveShaperNode.inputs === undefined ? leftWaveShaperNode : leftWaveShaperNode.inputs[0]);\n                panGainNode.disconnect(rightWaveShaperNode.inputs === undefined ? rightWaveShaperNode : rightWaveShaperNode.inputs[0]);\n                leftWaveShaperNode.disconnect(leftGainNode.gain);\n                rightWaveShaperNode.disconnect(rightGainNode.gain);\n                leftGainNode.disconnect(channelMergerNode, 0, 0);\n                rightGainNode.disconnect(channelMergerNode, 0, 1);\n            }\n        };\n    };\n    const buildInternalGraphForStereo = (nativeContext, inputGainNode, panGainNode, channelMergerNode) => {\n        const leftInputForLeftOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const leftInputForRightOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const rightInputForLeftOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const rightInputForRightOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const centerIndex = Math.floor(CURVE_SIZE / 2);\n        for (let i = 0; i < CURVE_SIZE; i += 1) {\n            if (i > centerIndex) {\n                const x = ((i - centerIndex) / (CURVE_SIZE - 1 - centerIndex)) * HALF_PI;\n                leftInputForLeftOutputWaveShaperCurve[i] = Math.cos(x);\n                leftInputForRightOutputWaveShaperCurve[i] = Math.sin(x);\n                rightInputForLeftOutputWaveShaperCurve[i] = 0;\n                rightInputForRightOutputWaveShaperCurve[i] = 1;\n            }\n            else {\n                const x = (i / (CURVE_SIZE - 1 - centerIndex)) * HALF_PI;\n                leftInputForLeftOutputWaveShaperCurve[i] = 1;\n                leftInputForRightOutputWaveShaperCurve[i] = 0;\n                rightInputForLeftOutputWaveShaperCurve[i] = Math.cos(x);\n                rightInputForRightOutputWaveShaperCurve[i] = Math.sin(x);\n            }\n        }\n        const channelSplitterNode = createNativeChannelSplitterNode(nativeContext, {\n            channelCount: 2,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            numberOfOutputs: 2\n        });\n        const leftInputForLeftOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const leftInputForLeftOutputWaveShaperNode = createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: leftInputForLeftOutputWaveShaperCurve\n        });\n        const leftInputForRightOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const leftInputForRightOutputWaveShaperNode = createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: leftInputForRightOutputWaveShaperCurve\n        });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const panWaveShaperNode = (createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: DC_CURVE }));\n        const rightInputForLeftOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const rightInputForLeftOutputWaveShaperNode = createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: rightInputForLeftOutputWaveShaperCurve\n        });\n        const rightInputForRightOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const rightInputForRightOutputWaveShaperNode = createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: rightInputForRightOutputWaveShaperCurve\n        });\n        return {\n            connectGraph() {\n                inputGainNode.connect(channelSplitterNode);\n                inputGainNode.connect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n                channelSplitterNode.connect(leftInputForLeftOutputGainNode, 0);\n                channelSplitterNode.connect(leftInputForRightOutputGainNode, 0);\n                channelSplitterNode.connect(rightInputForLeftOutputGainNode, 1);\n                channelSplitterNode.connect(rightInputForRightOutputGainNode, 1);\n                panWaveShaperNode.connect(panGainNode);\n                panGainNode.connect(leftInputForLeftOutputWaveShaperNode.inputs === undefined\n                    ? leftInputForLeftOutputWaveShaperNode\n                    : leftInputForLeftOutputWaveShaperNode.inputs[0]);\n                panGainNode.connect(leftInputForRightOutputWaveShaperNode.inputs === undefined\n                    ? leftInputForRightOutputWaveShaperNode\n                    : leftInputForRightOutputWaveShaperNode.inputs[0]);\n                panGainNode.connect(rightInputForLeftOutputWaveShaperNode.inputs === undefined\n                    ? rightInputForLeftOutputWaveShaperNode\n                    : rightInputForLeftOutputWaveShaperNode.inputs[0]);\n                panGainNode.connect(rightInputForRightOutputWaveShaperNode.inputs === undefined\n                    ? rightInputForRightOutputWaveShaperNode\n                    : rightInputForRightOutputWaveShaperNode.inputs[0]);\n                leftInputForLeftOutputWaveShaperNode.connect(leftInputForLeftOutputGainNode.gain);\n                leftInputForRightOutputWaveShaperNode.connect(leftInputForRightOutputGainNode.gain);\n                rightInputForLeftOutputWaveShaperNode.connect(rightInputForLeftOutputGainNode.gain);\n                rightInputForRightOutputWaveShaperNode.connect(rightInputForRightOutputGainNode.gain);\n                leftInputForLeftOutputGainNode.connect(channelMergerNode, 0, 0);\n                rightInputForLeftOutputGainNode.connect(channelMergerNode, 0, 0);\n                leftInputForRightOutputGainNode.connect(channelMergerNode, 0, 1);\n                rightInputForRightOutputGainNode.connect(channelMergerNode, 0, 1);\n            },\n            disconnectGraph() {\n                inputGainNode.disconnect(channelSplitterNode);\n                inputGainNode.disconnect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n                channelSplitterNode.disconnect(leftInputForLeftOutputGainNode, 0);\n                channelSplitterNode.disconnect(leftInputForRightOutputGainNode, 0);\n                channelSplitterNode.disconnect(rightInputForLeftOutputGainNode, 1);\n                channelSplitterNode.disconnect(rightInputForRightOutputGainNode, 1);\n                panWaveShaperNode.disconnect(panGainNode);\n                panGainNode.disconnect(leftInputForLeftOutputWaveShaperNode.inputs === undefined\n                    ? leftInputForLeftOutputWaveShaperNode\n                    : leftInputForLeftOutputWaveShaperNode.inputs[0]);\n                panGainNode.disconnect(leftInputForRightOutputWaveShaperNode.inputs === undefined\n                    ? leftInputForRightOutputWaveShaperNode\n                    : leftInputForRightOutputWaveShaperNode.inputs[0]);\n                panGainNode.disconnect(rightInputForLeftOutputWaveShaperNode.inputs === undefined\n                    ? rightInputForLeftOutputWaveShaperNode\n                    : rightInputForLeftOutputWaveShaperNode.inputs[0]);\n                panGainNode.disconnect(rightInputForRightOutputWaveShaperNode.inputs === undefined\n                    ? rightInputForRightOutputWaveShaperNode\n                    : rightInputForRightOutputWaveShaperNode.inputs[0]);\n                leftInputForLeftOutputWaveShaperNode.disconnect(leftInputForLeftOutputGainNode.gain);\n                leftInputForRightOutputWaveShaperNode.disconnect(leftInputForRightOutputGainNode.gain);\n                rightInputForLeftOutputWaveShaperNode.disconnect(rightInputForLeftOutputGainNode.gain);\n                rightInputForRightOutputWaveShaperNode.disconnect(rightInputForRightOutputGainNode.gain);\n                leftInputForLeftOutputGainNode.disconnect(channelMergerNode, 0, 0);\n                rightInputForLeftOutputGainNode.disconnect(channelMergerNode, 0, 0);\n                leftInputForRightOutputGainNode.disconnect(channelMergerNode, 0, 1);\n                rightInputForRightOutputGainNode.disconnect(channelMergerNode, 0, 1);\n            }\n        };\n    };\n    const buildInternalGraph = (nativeContext, channelCount, inputGainNode, panGainNode, channelMergerNode) => {\n        if (channelCount === 1) {\n            return buildInternalGraphForMono(nativeContext, inputGainNode, panGainNode, channelMergerNode);\n        }\n        if (channelCount === 2) {\n            return buildInternalGraphForStereo(nativeContext, inputGainNode, panGainNode, channelMergerNode);\n        }\n        throw createNotSupportedError();\n    };\n    return (nativeContext, { channelCount, channelCountMode, pan, ...audioNodeOptions }) => {\n        if (channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n        const channelMergerNode = createNativeChannelMergerNode(nativeContext, {\n            ...audioNodeOptions,\n            channelCount: 1,\n            channelCountMode,\n            numberOfInputs: 2\n        });\n        const inputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, channelCount, channelCountMode, gain: 1 });\n        const panGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: pan\n        });\n        let { connectGraph, disconnectGraph } = buildInternalGraph(nativeContext, channelCount, inputGainNode, panGainNode, channelMergerNode);\n        Object.defineProperty(panGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(panGainNode.gain, 'maxValue', { get: () => 1 });\n        Object.defineProperty(panGainNode.gain, 'minValue', { get: () => -1 });\n        const nativeStereoPannerNodeFakerFactory = {\n            get bufferSize() {\n                return undefined;\n            },\n            get channelCount() {\n                return inputGainNode.channelCount;\n            },\n            set channelCount(value) {\n                if (inputGainNode.channelCount !== value) {\n                    if (isConnected) {\n                        disconnectGraph();\n                    }\n                    ({ connectGraph, disconnectGraph } = buildInternalGraph(nativeContext, value, inputGainNode, panGainNode, channelMergerNode));\n                    if (isConnected) {\n                        connectGraph();\n                    }\n                }\n                inputGainNode.channelCount = value;\n            },\n            get channelCountMode() {\n                return inputGainNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                if (value === 'clamped-max' || value === 'max') {\n                    throw createNotSupportedError();\n                }\n                inputGainNode.channelCountMode = value;\n            },\n            get channelInterpretation() {\n                return inputGainNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                inputGainNode.channelInterpretation = value;\n            },\n            get context() {\n                return inputGainNode.context;\n            },\n            get inputs() {\n                return [inputGainNode];\n            },\n            get numberOfInputs() {\n                return inputGainNode.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return inputGainNode.numberOfOutputs;\n            },\n            get pan() {\n                return panGainNode.gain;\n            },\n            addEventListener(...args) {\n                return inputGainNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args) {\n                return inputGainNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return inputGainNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n        let isConnected = false;\n        const whenConnected = () => {\n            connectGraph();\n            isConnected = true;\n        };\n        const whenDisconnected = () => {\n            disconnectGraph();\n            isConnected = false;\n        };\n        return monitorConnections(interceptConnections(nativeStereoPannerNodeFakerFactory, channelMergerNode), whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-stereo-panner-node-faker-factory.js.map","import { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeWaveShaperNodeFactory = (createConnectedNativeAudioBufferSourceNode, createInvalidStateError, createNativeWaveShaperNodeFaker, isDCCurve, monitorConnections, nativeAudioContextConstructor, overwriteAccessors) => {\n    return (nativeContext, options) => {\n        const nativeWaveShaperNode = nativeContext.createWaveShaper();\n        /*\n         * Bug #119: Safari does not correctly map the values.\n         * @todo Unfortunately there is no way to test for this behavior in a synchronous fashion which is why testing for the existence of\n         * the webkitAudioContext is used as a workaround here. Testing for the automationRate property is necessary because this workaround\n         * isn't necessary anymore since v14.0.2 of Safari.\n         */\n        if (nativeAudioContextConstructor !== null &&\n            nativeAudioContextConstructor.name === 'webkitAudioContext' &&\n            nativeContext.createGain().gain.automationRate === undefined) {\n            return createNativeWaveShaperNodeFaker(nativeContext, options);\n        }\n        assignNativeAudioNodeOptions(nativeWaveShaperNode, options);\n        const curve = options.curve === null || options.curve instanceof Float32Array ? options.curve : new Float32Array(options.curve);\n        // Bug #104: Chrome and Edge will throw an InvalidAccessError when the curve has less than two samples.\n        if (curve !== null && curve.length < 2) {\n            throw createInvalidStateError();\n        }\n        // Only values of type Float32Array can be assigned to the curve property.\n        assignNativeAudioNodeOption(nativeWaveShaperNode, { curve }, 'curve');\n        assignNativeAudioNodeOption(nativeWaveShaperNode, options, 'oversample');\n        let disconnectNativeAudioBufferSourceNode = null;\n        let isConnected = false;\n        overwriteAccessors(nativeWaveShaperNode, 'curve', (get) => () => get.call(nativeWaveShaperNode), (set) => (value) => {\n            set.call(nativeWaveShaperNode, value);\n            if (isConnected) {\n                if (isDCCurve(value) && disconnectNativeAudioBufferSourceNode === null) {\n                    disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(nativeContext, nativeWaveShaperNode);\n                }\n                else if (!isDCCurve(value) && disconnectNativeAudioBufferSourceNode !== null) {\n                    disconnectNativeAudioBufferSourceNode();\n                    disconnectNativeAudioBufferSourceNode = null;\n                }\n            }\n            return value;\n        });\n        const whenConnected = () => {\n            isConnected = true;\n            if (isDCCurve(nativeWaveShaperNode.curve)) {\n                disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(nativeContext, nativeWaveShaperNode);\n            }\n        };\n        const whenDisconnected = () => {\n            isConnected = false;\n            if (disconnectNativeAudioBufferSourceNode !== null) {\n                disconnectNativeAudioBufferSourceNode();\n                disconnectNativeAudioBufferSourceNode = null;\n            }\n        };\n        return monitorConnections(nativeWaveShaperNode, whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-wave-shaper-node-factory.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { interceptConnections } from '../helpers/intercept-connections';\nexport const createNativeWaveShaperNodeFakerFactory = (createConnectedNativeAudioBufferSourceNode, createInvalidStateError, createNativeGainNode, isDCCurve, monitorConnections) => {\n    return (nativeContext, { curve, oversample, ...audioNodeOptions }) => {\n        const negativeWaveShaperNode = nativeContext.createWaveShaper();\n        const positiveWaveShaperNode = nativeContext.createWaveShaper();\n        assignNativeAudioNodeOptions(negativeWaveShaperNode, audioNodeOptions);\n        assignNativeAudioNodeOptions(positiveWaveShaperNode, audioNodeOptions);\n        const inputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: 1 });\n        const invertGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: -1 });\n        const outputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: 1 });\n        const revertGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: -1 });\n        let disconnectNativeAudioBufferSourceNode = null;\n        let isConnected = false;\n        let unmodifiedCurve = null;\n        const nativeWaveShaperNodeFaker = {\n            get bufferSize() {\n                return undefined;\n            },\n            get channelCount() {\n                return negativeWaveShaperNode.channelCount;\n            },\n            set channelCount(value) {\n                inputGainNode.channelCount = value;\n                invertGainNode.channelCount = value;\n                negativeWaveShaperNode.channelCount = value;\n                outputGainNode.channelCount = value;\n                positiveWaveShaperNode.channelCount = value;\n                revertGainNode.channelCount = value;\n            },\n            get channelCountMode() {\n                return negativeWaveShaperNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                inputGainNode.channelCountMode = value;\n                invertGainNode.channelCountMode = value;\n                negativeWaveShaperNode.channelCountMode = value;\n                outputGainNode.channelCountMode = value;\n                positiveWaveShaperNode.channelCountMode = value;\n                revertGainNode.channelCountMode = value;\n            },\n            get channelInterpretation() {\n                return negativeWaveShaperNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                inputGainNode.channelInterpretation = value;\n                invertGainNode.channelInterpretation = value;\n                negativeWaveShaperNode.channelInterpretation = value;\n                outputGainNode.channelInterpretation = value;\n                positiveWaveShaperNode.channelInterpretation = value;\n                revertGainNode.channelInterpretation = value;\n            },\n            get context() {\n                return negativeWaveShaperNode.context;\n            },\n            get curve() {\n                return unmodifiedCurve;\n            },\n            set curve(value) {\n                // Bug #102: Safari does not throw an InvalidStateError when the curve has less than two samples.\n                if (value !== null && value.length < 2) {\n                    throw createInvalidStateError();\n                }\n                if (value === null) {\n                    negativeWaveShaperNode.curve = value;\n                    positiveWaveShaperNode.curve = value;\n                }\n                else {\n                    const curveLength = value.length;\n                    const negativeCurve = new Float32Array(curveLength + 2 - (curveLength % 2));\n                    const positiveCurve = new Float32Array(curveLength + 2 - (curveLength % 2));\n                    negativeCurve[0] = value[0];\n                    positiveCurve[0] = -value[curveLength - 1];\n                    const length = Math.ceil((curveLength + 1) / 2);\n                    const centerIndex = (curveLength + 1) / 2 - 1;\n                    for (let i = 1; i < length; i += 1) {\n                        const theoreticIndex = (i / length) * centerIndex;\n                        const lowerIndex = Math.floor(theoreticIndex);\n                        const upperIndex = Math.ceil(theoreticIndex);\n                        negativeCurve[i] =\n                            lowerIndex === upperIndex\n                                ? value[lowerIndex]\n                                : (1 - (theoreticIndex - lowerIndex)) * value[lowerIndex] +\n                                    (1 - (upperIndex - theoreticIndex)) * value[upperIndex];\n                        positiveCurve[i] =\n                            lowerIndex === upperIndex\n                                ? -value[curveLength - 1 - lowerIndex]\n                                : -((1 - (theoreticIndex - lowerIndex)) * value[curveLength - 1 - lowerIndex]) -\n                                    (1 - (upperIndex - theoreticIndex)) * value[curveLength - 1 - upperIndex];\n                    }\n                    negativeCurve[length] = curveLength % 2 === 1 ? value[length - 1] : (value[length - 2] + value[length - 1]) / 2;\n                    negativeWaveShaperNode.curve = negativeCurve;\n                    positiveWaveShaperNode.curve = positiveCurve;\n                }\n                unmodifiedCurve = value;\n                if (isConnected) {\n                    if (isDCCurve(unmodifiedCurve) && disconnectNativeAudioBufferSourceNode === null) {\n                        disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(nativeContext, inputGainNode);\n                    }\n                    else if (disconnectNativeAudioBufferSourceNode !== null) {\n                        disconnectNativeAudioBufferSourceNode();\n                        disconnectNativeAudioBufferSourceNode = null;\n                    }\n                }\n            },\n            get inputs() {\n                return [inputGainNode];\n            },\n            get numberOfInputs() {\n                return negativeWaveShaperNode.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return negativeWaveShaperNode.numberOfOutputs;\n            },\n            get oversample() {\n                return negativeWaveShaperNode.oversample;\n            },\n            set oversample(value) {\n                negativeWaveShaperNode.oversample = value;\n                positiveWaveShaperNode.oversample = value;\n            },\n            addEventListener(...args) {\n                return inputGainNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args) {\n                return inputGainNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return inputGainNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n        if (curve !== null) {\n            // Only values of type Float32Array can be assigned to the curve property.\n            nativeWaveShaperNodeFaker.curve = curve instanceof Float32Array ? curve : new Float32Array(curve);\n        }\n        if (oversample !== nativeWaveShaperNodeFaker.oversample) {\n            nativeWaveShaperNodeFaker.oversample = oversample;\n        }\n        const whenConnected = () => {\n            inputGainNode.connect(negativeWaveShaperNode).connect(outputGainNode);\n            inputGainNode.connect(invertGainNode).connect(positiveWaveShaperNode).connect(revertGainNode).connect(outputGainNode);\n            isConnected = true;\n            if (isDCCurve(unmodifiedCurve)) {\n                disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(nativeContext, inputGainNode);\n            }\n        };\n        const whenDisconnected = () => {\n            inputGainNode.disconnect(negativeWaveShaperNode);\n            negativeWaveShaperNode.disconnect(outputGainNode);\n            inputGainNode.disconnect(invertGainNode);\n            invertGainNode.disconnect(positiveWaveShaperNode);\n            positiveWaveShaperNode.disconnect(revertGainNode);\n            revertGainNode.disconnect(outputGainNode);\n            isConnected = false;\n            if (disconnectNativeAudioBufferSourceNode !== null) {\n                disconnectNativeAudioBufferSourceNode();\n                disconnectNativeAudioBufferSourceNode = null;\n            }\n        };\n        return monitorConnections(interceptConnections(nativeWaveShaperNodeFaker, outputGainNode), whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-wave-shaper-node-faker-factory.js.map","export const createNotSupportedError = () => new DOMException('', 'NotSupportedError');\n//# sourceMappingURL=not-supported-error.js.map","import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { testPromiseSupport } from '../helpers/test-promise-support';\nconst DEFAULT_OPTIONS = {\n    numberOfChannels: 1\n};\nexport const createOfflineAudioContextConstructor = (baseAudioContextConstructor, cacheTestResult, createInvalidStateError, createNativeOfflineAudioContext, startRendering) => {\n    return class OfflineAudioContext extends baseAudioContextConstructor {\n        constructor(a, b, c) {\n            let options;\n            if (typeof a === 'number' && b !== undefined && c !== undefined) {\n                options = { length: b, numberOfChannels: a, sampleRate: c };\n            }\n            else if (typeof a === 'object') {\n                options = a;\n            }\n            else {\n                throw new Error('The given parameters are not valid.');\n            }\n            const { length, numberOfChannels, sampleRate } = { ...DEFAULT_OPTIONS, ...options };\n            const nativeOfflineAudioContext = createNativeOfflineAudioContext(numberOfChannels, length, sampleRate);\n            // #21 Safari does not support promises and therefore would fire the statechange event before the promise can be resolved.\n            if (!cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n                nativeOfflineAudioContext.addEventListener('statechange', (() => {\n                    let i = 0;\n                    const delayStateChangeEvent = (event) => {\n                        if (this._state === 'running') {\n                            if (i > 0) {\n                                nativeOfflineAudioContext.removeEventListener('statechange', delayStateChangeEvent);\n                                event.stopImmediatePropagation();\n                                this._waitForThePromiseToSettle(event);\n                            }\n                            else {\n                                i += 1;\n                            }\n                        }\n                    };\n                    return delayStateChangeEvent;\n                })());\n            }\n            super(nativeOfflineAudioContext, numberOfChannels);\n            this._length = length;\n            this._nativeOfflineAudioContext = nativeOfflineAudioContext;\n            this._state = null;\n        }\n        get length() {\n            // Bug #17: Safari does not yet expose the length.\n            if (this._nativeOfflineAudioContext.length === undefined) {\n                return this._length;\n            }\n            return this._nativeOfflineAudioContext.length;\n        }\n        get state() {\n            return this._state === null ? this._nativeOfflineAudioContext.state : this._state;\n        }\n        startRendering() {\n            /*\n             * Bug #9 & #59: It is theoretically possible that startRendering() will first render a partialOfflineAudioContext. Therefore\n             * the state of the nativeOfflineAudioContext might no transition to running immediately.\n             */\n            if (this._state === 'running') {\n                return Promise.reject(createInvalidStateError());\n            }\n            this._state = 'running';\n            return startRendering(this.destination, this._nativeOfflineAudioContext).finally(() => {\n                this._state = null;\n                deactivateAudioGraph(this);\n            });\n        }\n        _waitForThePromiseToSettle(event) {\n            if (this._state === null) {\n                this._nativeOfflineAudioContext.dispatchEvent(event);\n            }\n            else {\n                setTimeout(() => this._waitForThePromiseToSettle(event));\n            }\n        }\n    };\n};\n//# sourceMappingURL=offline-audio-context-constructor.js.map","import { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassive } from '../helpers/set-internal-state-to-passive';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max', // This attribute has no effect for nodes with no inputs.\n    channelInterpretation: 'speakers', // This attribute has no effect for nodes with no inputs.\n    detune: 0,\n    frequency: 440,\n    periodicWave: undefined,\n    type: 'sine'\n};\nexport const createOscillatorNodeConstructor = (audioNodeConstructor, createAudioParam, createNativeOscillatorNode, createOscillatorNodeRenderer, getNativeContext, isNativeOfflineAudioContext, wrapEventListener) => {\n    return class OscillatorNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeOscillatorNode = createNativeOscillatorNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const oscillatorNodeRenderer = (isOffline ? createOscillatorNodeRenderer() : null);\n            const nyquist = context.sampleRate / 2;\n            super(context, false, nativeOscillatorNode, oscillatorNodeRenderer);\n            // Bug #81: Firefox & Safari do not export the correct values for maxValue and minValue.\n            this._detune = createAudioParam(this, isOffline, nativeOscillatorNode.detune, 153600, -153600);\n            // Bug #76: Safari does not export the correct values for maxValue and minValue.\n            this._frequency = createAudioParam(this, isOffline, nativeOscillatorNode.frequency, nyquist, -nyquist);\n            this._nativeOscillatorNode = nativeOscillatorNode;\n            this._onended = null;\n            this._oscillatorNodeRenderer = oscillatorNodeRenderer;\n            if (this._oscillatorNodeRenderer !== null && mergedOptions.periodicWave !== undefined) {\n                this._oscillatorNodeRenderer.periodicWave =\n                    mergedOptions.periodicWave;\n            }\n        }\n        get detune() {\n            return this._detune;\n        }\n        get frequency() {\n            return this._frequency;\n        }\n        get onended() {\n            return this._onended;\n        }\n        set onended(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeOscillatorNode.onended = wrappedListener;\n            const nativeOnEnded = this._nativeOscillatorNode.onended;\n            this._onended = nativeOnEnded !== null && nativeOnEnded === wrappedListener ? value : nativeOnEnded;\n        }\n        get type() {\n            return this._nativeOscillatorNode.type;\n        }\n        set type(value) {\n            this._nativeOscillatorNode.type = value;\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.periodicWave = null;\n            }\n        }\n        setPeriodicWave(periodicWave) {\n            this._nativeOscillatorNode.setPeriodicWave(periodicWave);\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.periodicWave = periodicWave;\n            }\n        }\n        start(when = 0) {\n            this._nativeOscillatorNode.start(when);\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.start = when;\n            }\n            if (this.context.state !== 'closed') {\n                setInternalStateToActive(this);\n                const resetInternalStateToPassive = () => {\n                    this._nativeOscillatorNode.removeEventListener('ended', resetInternalStateToPassive);\n                    if (isActiveAudioNode(this)) {\n                        setInternalStateToPassive(this);\n                    }\n                };\n                this._nativeOscillatorNode.addEventListener('ended', resetInternalStateToPassive);\n            }\n        }\n        stop(when = 0) {\n            this._nativeOscillatorNode.stop(when);\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.stop = when;\n            }\n        }\n    };\n};\n//# sourceMappingURL=oscillator-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createOscillatorNodeRendererFactory = (connectAudioParam, createNativeOscillatorNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeOscillatorNodes = new WeakMap();\n        let periodicWave = null;\n        let start = null;\n        let stop = null;\n        const createOscillatorNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeOscillatorNode = getNativeAudioNode(proxy);\n            // If the initially used nativeOscillatorNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeOscillatorNodeIsOwnedByContext = isOwnedByContext(nativeOscillatorNode, nativeOfflineAudioContext);\n            if (!nativeOscillatorNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeOscillatorNode.channelCount,\n                    channelCountMode: nativeOscillatorNode.channelCountMode,\n                    channelInterpretation: nativeOscillatorNode.channelInterpretation,\n                    detune: nativeOscillatorNode.detune.value,\n                    frequency: nativeOscillatorNode.frequency.value,\n                    periodicWave: periodicWave === null ? undefined : periodicWave,\n                    type: nativeOscillatorNode.type\n                };\n                nativeOscillatorNode = createNativeOscillatorNode(nativeOfflineAudioContext, options);\n                if (start !== null) {\n                    nativeOscillatorNode.start(start);\n                }\n                if (stop !== null) {\n                    nativeOscillatorNode.stop(stop);\n                }\n            }\n            renderedNativeOscillatorNodes.set(nativeOfflineAudioContext, nativeOscillatorNode);\n            if (!nativeOscillatorNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.detune, nativeOscillatorNode.detune);\n                await renderAutomation(nativeOfflineAudioContext, proxy.frequency, nativeOscillatorNode.frequency);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.detune, nativeOscillatorNode.detune);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.frequency, nativeOscillatorNode.frequency);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeOscillatorNode);\n            return nativeOscillatorNode;\n        };\n        return {\n            set periodicWave(value) {\n                periodicWave = value;\n            },\n            set start(value) {\n                start = value;\n            },\n            set stop(value) {\n                stop = value;\n            },\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeOscillatorNode = renderedNativeOscillatorNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeOscillatorNode !== undefined) {\n                    return Promise.resolve(renderedNativeOscillatorNode);\n                }\n                return createOscillatorNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=oscillator-node-renderer-factory.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'clamped-max',\n    channelInterpretation: 'speakers',\n    coneInnerAngle: 360,\n    coneOuterAngle: 360,\n    coneOuterGain: 0,\n    distanceModel: 'inverse',\n    maxDistance: 10000,\n    orientationX: 1,\n    orientationY: 0,\n    orientationZ: 0,\n    panningModel: 'equalpower',\n    positionX: 0,\n    positionY: 0,\n    positionZ: 0,\n    refDistance: 1,\n    rolloffFactor: 1\n};\nexport const createPannerNodeConstructor = (audioNodeConstructor, createAudioParam, createNativePannerNode, createPannerNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class PannerNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativePannerNode = createNativePannerNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const pannerNodeRenderer = (isOffline ? createPannerNodeRenderer() : null);\n            super(context, false, nativePannerNode, pannerNodeRenderer);\n            this._nativePannerNode = nativePannerNode;\n            // Bug #74: Safari does not export the correct values for maxValue and minValue.\n            this._orientationX = createAudioParam(this, isOffline, nativePannerNode.orientationX, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._orientationY = createAudioParam(this, isOffline, nativePannerNode.orientationY, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._orientationZ = createAudioParam(this, isOffline, nativePannerNode.orientationZ, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._positionX = createAudioParam(this, isOffline, nativePannerNode.positionX, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._positionY = createAudioParam(this, isOffline, nativePannerNode.positionY, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._positionZ = createAudioParam(this, isOffline, nativePannerNode.positionZ, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n        get coneInnerAngle() {\n            return this._nativePannerNode.coneInnerAngle;\n        }\n        set coneInnerAngle(value) {\n            this._nativePannerNode.coneInnerAngle = value;\n        }\n        get coneOuterAngle() {\n            return this._nativePannerNode.coneOuterAngle;\n        }\n        set coneOuterAngle(value) {\n            this._nativePannerNode.coneOuterAngle = value;\n        }\n        get coneOuterGain() {\n            return this._nativePannerNode.coneOuterGain;\n        }\n        set coneOuterGain(value) {\n            this._nativePannerNode.coneOuterGain = value;\n        }\n        get distanceModel() {\n            return this._nativePannerNode.distanceModel;\n        }\n        set distanceModel(value) {\n            this._nativePannerNode.distanceModel = value;\n        }\n        get maxDistance() {\n            return this._nativePannerNode.maxDistance;\n        }\n        set maxDistance(value) {\n            this._nativePannerNode.maxDistance = value;\n        }\n        get orientationX() {\n            return this._orientationX;\n        }\n        get orientationY() {\n            return this._orientationY;\n        }\n        get orientationZ() {\n            return this._orientationZ;\n        }\n        get panningModel() {\n            return this._nativePannerNode.panningModel;\n        }\n        set panningModel(value) {\n            this._nativePannerNode.panningModel = value;\n        }\n        get positionX() {\n            return this._positionX;\n        }\n        get positionY() {\n            return this._positionY;\n        }\n        get positionZ() {\n            return this._positionZ;\n        }\n        get refDistance() {\n            return this._nativePannerNode.refDistance;\n        }\n        set refDistance(value) {\n            this._nativePannerNode.refDistance = value;\n        }\n        get rolloffFactor() {\n            return this._nativePannerNode.rolloffFactor;\n        }\n        set rolloffFactor(value) {\n            this._nativePannerNode.rolloffFactor = value;\n        }\n    };\n};\n//# sourceMappingURL=panner-node-constructor.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createPannerNodeRendererFactory = (connectAudioParam, createNativeChannelMergerNode, createNativeConstantSourceNode, createNativeGainNode, createNativePannerNode, getNativeAudioNode, nativeOfflineAudioContextConstructor, renderAutomation, renderInputsOfAudioNode, renderNativeOfflineAudioContext) => {\n    return () => {\n        const renderedNativeAudioNodes = new WeakMap();\n        let renderedBufferPromise = null;\n        const createAudioNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeGainNode = null;\n            let nativePannerNode = getNativeAudioNode(proxy);\n            const commonAudioNodeOptions = {\n                channelCount: nativePannerNode.channelCount,\n                channelCountMode: nativePannerNode.channelCountMode,\n                channelInterpretation: nativePannerNode.channelInterpretation\n            };\n            const commonNativePannerNodeOptions = {\n                ...commonAudioNodeOptions,\n                coneInnerAngle: nativePannerNode.coneInnerAngle,\n                coneOuterAngle: nativePannerNode.coneOuterAngle,\n                coneOuterGain: nativePannerNode.coneOuterGain,\n                distanceModel: nativePannerNode.distanceModel,\n                maxDistance: nativePannerNode.maxDistance,\n                panningModel: nativePannerNode.panningModel,\n                refDistance: nativePannerNode.refDistance,\n                rolloffFactor: nativePannerNode.rolloffFactor\n            };\n            // If the initially used nativePannerNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativePannerNodeIsOwnedByContext = isOwnedByContext(nativePannerNode, nativeOfflineAudioContext);\n            // Bug #124: Safari does not support modifying the orientation and the position with AudioParams.\n            if ('bufferSize' in nativePannerNode) {\n                nativeGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 1 });\n            }\n            else if (!nativePannerNodeIsOwnedByContext) {\n                const options = {\n                    ...commonNativePannerNodeOptions,\n                    orientationX: nativePannerNode.orientationX.value,\n                    orientationY: nativePannerNode.orientationY.value,\n                    orientationZ: nativePannerNode.orientationZ.value,\n                    positionX: nativePannerNode.positionX.value,\n                    positionY: nativePannerNode.positionY.value,\n                    positionZ: nativePannerNode.positionZ.value\n                };\n                nativePannerNode = createNativePannerNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeGainNode === null ? nativePannerNode : nativeGainNode);\n            if (nativeGainNode !== null) {\n                if (renderedBufferPromise === null) {\n                    if (nativeOfflineAudioContextConstructor === null) {\n                        throw new Error('Missing the native OfflineAudioContext constructor.');\n                    }\n                    const partialOfflineAudioContext = new nativeOfflineAudioContextConstructor(6, \n                    // Bug #17: Safari does not yet expose the length.\n                    proxy.context.length, nativeOfflineAudioContext.sampleRate);\n                    const nativeChannelMergerNode = createNativeChannelMergerNode(partialOfflineAudioContext, {\n                        channelCount: 1,\n                        channelCountMode: 'explicit',\n                        channelInterpretation: 'speakers',\n                        numberOfInputs: 6\n                    });\n                    nativeChannelMergerNode.connect(partialOfflineAudioContext.destination);\n                    renderedBufferPromise = (async () => {\n                        const nativeConstantSourceNodes = await Promise.all([\n                            proxy.orientationX,\n                            proxy.orientationY,\n                            proxy.orientationZ,\n                            proxy.positionX,\n                            proxy.positionY,\n                            proxy.positionZ\n                        ].map(async (audioParam, index) => {\n                            const nativeConstantSourceNode = createNativeConstantSourceNode(partialOfflineAudioContext, {\n                                channelCount: 1,\n                                channelCountMode: 'explicit',\n                                channelInterpretation: 'discrete',\n                                offset: index === 0 ? 1 : 0\n                            });\n                            await renderAutomation(partialOfflineAudioContext, audioParam, nativeConstantSourceNode.offset);\n                            return nativeConstantSourceNode;\n                        }));\n                        for (let i = 0; i < 6; i += 1) {\n                            nativeConstantSourceNodes[i].connect(nativeChannelMergerNode, 0, i);\n                            nativeConstantSourceNodes[i].start(0);\n                        }\n                        return renderNativeOfflineAudioContext(partialOfflineAudioContext);\n                    })();\n                }\n                const renderedBuffer = await renderedBufferPromise;\n                const inputGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 1 });\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, inputGainNode);\n                const channelDatas = [];\n                for (let i = 0; i < renderedBuffer.numberOfChannels; i += 1) {\n                    channelDatas.push(renderedBuffer.getChannelData(i));\n                }\n                let lastOrientation = [channelDatas[0][0], channelDatas[1][0], channelDatas[2][0]];\n                let lastPosition = [channelDatas[3][0], channelDatas[4][0], channelDatas[5][0]];\n                let gateGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 1 });\n                let partialPannerNode = createNativePannerNode(nativeOfflineAudioContext, {\n                    ...commonNativePannerNodeOptions,\n                    orientationX: lastOrientation[0],\n                    orientationY: lastOrientation[1],\n                    orientationZ: lastOrientation[2],\n                    positionX: lastPosition[0],\n                    positionY: lastPosition[1],\n                    positionZ: lastPosition[2]\n                });\n                inputGainNode.connect(gateGainNode).connect(partialPannerNode.inputs[0]);\n                partialPannerNode.connect(nativeGainNode);\n                for (let i = 128; i < renderedBuffer.length; i += 128) {\n                    const orientation = [channelDatas[0][i], channelDatas[1][i], channelDatas[2][i]];\n                    const positon = [channelDatas[3][i], channelDatas[4][i], channelDatas[5][i]];\n                    if (orientation.some((value, index) => value !== lastOrientation[index]) ||\n                        positon.some((value, index) => value !== lastPosition[index])) {\n                        lastOrientation = orientation;\n                        lastPosition = positon;\n                        const currentTime = i / nativeOfflineAudioContext.sampleRate;\n                        gateGainNode.gain.setValueAtTime(0, currentTime);\n                        gateGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 0 });\n                        partialPannerNode = createNativePannerNode(nativeOfflineAudioContext, {\n                            ...commonNativePannerNodeOptions,\n                            orientationX: lastOrientation[0],\n                            orientationY: lastOrientation[1],\n                            orientationZ: lastOrientation[2],\n                            positionX: lastPosition[0],\n                            positionY: lastPosition[1],\n                            positionZ: lastPosition[2]\n                        });\n                        gateGainNode.gain.setValueAtTime(1, currentTime);\n                        inputGainNode.connect(gateGainNode).connect(partialPannerNode.inputs[0]);\n                        partialPannerNode.connect(nativeGainNode);\n                    }\n                }\n                return nativeGainNode;\n            }\n            if (!nativePannerNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.orientationX, nativePannerNode.orientationX);\n                await renderAutomation(nativeOfflineAudioContext, proxy.orientationY, nativePannerNode.orientationY);\n                await renderAutomation(nativeOfflineAudioContext, proxy.orientationZ, nativePannerNode.orientationZ);\n                await renderAutomation(nativeOfflineAudioContext, proxy.positionX, nativePannerNode.positionX);\n                await renderAutomation(nativeOfflineAudioContext, proxy.positionY, nativePannerNode.positionY);\n                await renderAutomation(nativeOfflineAudioContext, proxy.positionZ, nativePannerNode.positionZ);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.orientationX, nativePannerNode.orientationX);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.orientationY, nativePannerNode.orientationY);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.orientationZ, nativePannerNode.orientationZ);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.positionX, nativePannerNode.positionX);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.positionY, nativePannerNode.positionY);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.positionZ, nativePannerNode.positionZ);\n            }\n            if (isNativeAudioNodeFaker(nativePannerNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativePannerNode.inputs[0]);\n            }\n            else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativePannerNode);\n            }\n            return nativePannerNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeGainNodeOrNativePannerNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeGainNodeOrNativePannerNode !== undefined) {\n                    return Promise.resolve(renderedNativeGainNodeOrNativePannerNode);\n                }\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=panner-node-renderer-factory.js.map","const DEFAULT_OPTIONS = {\n    disableNormalization: false\n};\nexport const createPeriodicWaveConstructor = (createNativePeriodicWave, getNativeContext, periodicWaveStore, sanitizePeriodicWaveOptions) => {\n    return class PeriodicWave {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = sanitizePeriodicWaveOptions({ ...DEFAULT_OPTIONS, ...options });\n            const periodicWave = createNativePeriodicWave(nativeContext, mergedOptions);\n            periodicWaveStore.add(periodicWave);\n            // This does violate all good pratices but it is used here to simplify the handling of periodic waves.\n            return periodicWave;\n        }\n        static [Symbol.hasInstance](instance) {\n            return ((instance !== null && typeof instance === 'object' && Object.getPrototypeOf(instance) === PeriodicWave.prototype) ||\n                periodicWaveStore.has(instance));\n        }\n    };\n};\n//# sourceMappingURL=periodic-wave-constructor.js.map","export const createRenderAutomation = (getAudioParamRenderer, renderInputsOfAudioParam) => {\n    return (nativeOfflineAudioContext, audioParam, nativeAudioParam) => {\n        const audioParamRenderer = getAudioParamRenderer(audioParam);\n        audioParamRenderer.replay(nativeAudioParam);\n        return renderInputsOfAudioParam(audioParam, nativeOfflineAudioContext, nativeAudioParam);\n    };\n};\n//# sourceMappingURL=render-automation.js.map","export const createRenderInputsOfAudioNode = (getAudioNodeConnections, getAudioNodeRenderer, isPartOfACycle) => {\n    return async (audioNode, nativeOfflineAudioContext, nativeAudioNode) => {\n        const audioNodeConnections = getAudioNodeConnections(audioNode);\n        await Promise.all(audioNodeConnections.activeInputs\n            .map((connections, input) => Array.from(connections).map(async ([source, output]) => {\n            const audioNodeRenderer = getAudioNodeRenderer(source);\n            const renderedNativeAudioNode = await audioNodeRenderer.render(source, nativeOfflineAudioContext);\n            const destination = audioNode.context.destination;\n            if (!isPartOfACycle(source) && (audioNode !== destination || !isPartOfACycle(audioNode))) {\n                renderedNativeAudioNode.connect(nativeAudioNode, output, input);\n            }\n        }))\n            .reduce((allRenderingPromises, renderingPromises) => [...allRenderingPromises, ...renderingPromises], []));\n    };\n};\n//# sourceMappingURL=render-inputs-of-audio-node.js.map","export const createRenderInputsOfAudioParam = (getAudioNodeRenderer, getAudioParamConnections, isPartOfACycle) => {\n    return async (audioParam, nativeOfflineAudioContext, nativeAudioParam) => {\n        const audioParamConnections = getAudioParamConnections(audioParam);\n        await Promise.all(Array.from(audioParamConnections.activeInputs).map(async ([source, output]) => {\n            const audioNodeRenderer = getAudioNodeRenderer(source);\n            const renderedNativeAudioNode = await audioNodeRenderer.render(source, nativeOfflineAudioContext);\n            if (!isPartOfACycle(source)) {\n                renderedNativeAudioNode.connect(nativeAudioParam, output);\n            }\n        }));\n    };\n};\n//# sourceMappingURL=render-inputs-of-audio-param.js.map","import { testPromiseSupport } from '../helpers/test-promise-support';\nexport const createRenderNativeOfflineAudioContext = (cacheTestResult, createNativeGainNode, createNativeScriptProcessorNode, testOfflineAudioContextCurrentTimeSupport) => {\n    return (nativeOfflineAudioContext) => {\n        // Bug #21: Safari does not support promises yet.\n        if (cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n            // Bug #158: Chrome and Edge do not advance currentTime if it is not accessed while rendering the audio.\n            return Promise.resolve(cacheTestResult(testOfflineAudioContextCurrentTimeSupport, testOfflineAudioContextCurrentTimeSupport)).then((isOfflineAudioContextCurrentTimeSupported) => {\n                if (!isOfflineAudioContextCurrentTimeSupported) {\n                    const scriptProcessorNode = createNativeScriptProcessorNode(nativeOfflineAudioContext, 512, 0, 1);\n                    nativeOfflineAudioContext.oncomplete = () => {\n                        scriptProcessorNode.onaudioprocess = null; // tslint:disable-line:deprecation\n                        scriptProcessorNode.disconnect();\n                    };\n                    scriptProcessorNode.onaudioprocess = () => nativeOfflineAudioContext.currentTime; // tslint:disable-line:deprecation\n                    scriptProcessorNode.connect(nativeOfflineAudioContext.destination);\n                }\n                return nativeOfflineAudioContext.startRendering();\n            });\n        }\n        return new Promise((resolve) => {\n            // Bug #48: Safari does not render an OfflineAudioContext without any connected node.\n            const gainNode = createNativeGainNode(nativeOfflineAudioContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'discrete',\n                gain: 0\n            });\n            nativeOfflineAudioContext.oncomplete = (event) => {\n                gainNode.disconnect();\n                resolve(event.renderedBuffer);\n            };\n            gainNode.connect(nativeOfflineAudioContext.destination);\n            nativeOfflineAudioContext.startRendering();\n        });\n    };\n};\n//# sourceMappingURL=render-native-offline-audio-context.js.map","export const createSetActiveAudioWorkletNodeInputs = (activeAudioWorkletNodeInputsStore) => {\n    return (nativeAudioWorkletNode, activeInputs) => {\n        activeAudioWorkletNodeInputsStore.set(nativeAudioWorkletNode, activeInputs);\n    };\n};\n//# sourceMappingURL=set-active-audio-worklet-node-inputs.js.map","export const createSetAudioNodeTailTime = (audioNodeTailTimeStore) => {\n    return (audioNode, tailTime) => audioNodeTailTimeStore.set(audioNode, tailTime);\n};\n//# sourceMappingURL=set-audio-node-tail-time.js.map","import { wrapAudioBufferGetChannelDataMethod } from '../helpers/wrap-audio-buffer-get-channel-data-method';\nexport const createStartRendering = (audioBufferStore, cacheTestResult, getAudioNodeRenderer, getUnrenderedAudioWorkletNodes, renderNativeOfflineAudioContext, testAudioBufferCopyChannelMethodsOutOfBoundsSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds) => {\n    return (destination, nativeOfflineAudioContext) => getAudioNodeRenderer(destination)\n        .render(destination, nativeOfflineAudioContext)\n        /*\n         * Bug #86 & #87: Invoking the renderer of an AudioWorkletNode might be necessary if it has no direct or indirect connection to the\n         * destination.\n         */\n        .then(() => Promise.all(Array.from(getUnrenderedAudioWorkletNodes(nativeOfflineAudioContext)).map((audioWorkletNode) => getAudioNodeRenderer(audioWorkletNode).render(audioWorkletNode, nativeOfflineAudioContext))))\n        .then(() => renderNativeOfflineAudioContext(nativeOfflineAudioContext))\n        .then((audioBuffer) => {\n        // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n        // Bug #100: Safari does throw a wrong error when calling getChannelData() with an out-of-bounds value.\n        if (typeof audioBuffer.copyFromChannel !== 'function') {\n            wrapAudioBufferCopyChannelMethods(audioBuffer);\n            wrapAudioBufferGetChannelDataMethod(audioBuffer);\n            // Bug #157: Firefox does not allow the bufferOffset to be out-of-bounds.\n        }\n        else if (!cacheTestResult(testAudioBufferCopyChannelMethodsOutOfBoundsSupport, () => testAudioBufferCopyChannelMethodsOutOfBoundsSupport(audioBuffer))) {\n            wrapAudioBufferCopyChannelMethodsOutOfBounds(audioBuffer);\n        }\n        audioBufferStore.add(audioBuffer);\n        return audioBuffer;\n    });\n};\n//# sourceMappingURL=start-rendering.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 2,\n    /*\n     * Bug #105: The channelCountMode should be 'clamped-max' according to the spec but is set to 'explicit' to achieve consistent\n     * behavior.\n     */\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers',\n    pan: 0\n};\nexport const createStereoPannerNodeConstructor = (audioNodeConstructor, createAudioParam, createNativeStereoPannerNode, createStereoPannerNodeRenderer, getNativeContext, isNativeOfflineAudioContext) => {\n    return class StereoPannerNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeStereoPannerNode = createNativeStereoPannerNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const stereoPannerNodeRenderer = (isOffline ? createStereoPannerNodeRenderer() : null);\n            super(context, false, nativeStereoPannerNode, stereoPannerNodeRenderer);\n            this._pan = createAudioParam(this, isOffline, nativeStereoPannerNode.pan);\n        }\n        get pan() {\n            return this._pan;\n        }\n    };\n};\n//# sourceMappingURL=stereo-panner-node-constructor.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createStereoPannerNodeRendererFactory = (connectAudioParam, createNativeStereoPannerNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeStereoPannerNodes = new WeakMap();\n        const createStereoPannerNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeStereoPannerNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeStereoPannerNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeStereoPannerNodeIsOwnedByContext = isOwnedByContext(nativeStereoPannerNode, nativeOfflineAudioContext);\n            if (!nativeStereoPannerNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeStereoPannerNode.channelCount,\n                    channelCountMode: nativeStereoPannerNode.channelCountMode,\n                    channelInterpretation: nativeStereoPannerNode.channelInterpretation,\n                    pan: nativeStereoPannerNode.pan.value\n                };\n                nativeStereoPannerNode = createNativeStereoPannerNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeStereoPannerNodes.set(nativeOfflineAudioContext, nativeStereoPannerNode);\n            if (!nativeStereoPannerNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.pan, nativeStereoPannerNode.pan);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.pan, nativeStereoPannerNode.pan);\n            }\n            if (isNativeAudioNodeFaker(nativeStereoPannerNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeStereoPannerNode.inputs[0]);\n            }\n            else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeStereoPannerNode);\n            }\n            return nativeStereoPannerNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeStereoPannerNode = renderedNativeStereoPannerNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeStereoPannerNode !== undefined) {\n                    return Promise.resolve(renderedNativeStereoPannerNode);\n                }\n                return createStereoPannerNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=stereo-panner-node-renderer-factory.js.map","// Bug #33: Safari exposes an AudioBuffer but it can't be used as a constructor.\nexport const createTestAudioBufferConstructorSupport = (nativeAudioBufferConstructor) => {\n    return () => {\n        if (nativeAudioBufferConstructor === null) {\n            return false;\n        }\n        try {\n            new nativeAudioBufferConstructor({ length: 1, sampleRate: 44100 }); // tslint:disable-line:no-unused-expression\n        }\n        catch {\n            return false;\n        }\n        return true;\n    };\n};\n//# sourceMappingURL=test-audio-buffer-constructor-support.js.map","// Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\nexport const createTestAudioWorkletProcessorPostMessageSupport = (nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor) => {\n    return async () => {\n        // Bug #61: If there is no native AudioWorkletNode it gets faked and therefore it is no problem if the it doesn't exist.\n        if (nativeAudioWorkletNodeConstructor === null) {\n            return true;\n        }\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n        const blob = new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor(\"a\",A)'], {\n            type: 'application/javascript; charset=utf-8'\n        });\n        // Bug #141: Safari does not support creating an OfflineAudioContext with less than 44100 Hz.\n        const offlineAudioContext = new nativeOfflineAudioContextConstructor(1, 128, 44100);\n        const url = URL.createObjectURL(blob);\n        let isEmittingMessageEvents = false;\n        let isEmittingProcessorErrorEvents = false;\n        try {\n            await offlineAudioContext.audioWorklet.addModule(url);\n            const audioWorkletNode = new nativeAudioWorkletNodeConstructor(offlineAudioContext, 'a', { numberOfOutputs: 0 });\n            const oscillator = offlineAudioContext.createOscillator();\n            audioWorkletNode.port.onmessage = () => (isEmittingMessageEvents = true);\n            audioWorkletNode.onprocessorerror = () => (isEmittingProcessorErrorEvents = true);\n            oscillator.connect(audioWorkletNode);\n            oscillator.start(0);\n            await offlineAudioContext.startRendering();\n            // Bug #197: Safari does not deliver the messages before the promise returned by startRendering() resolves.\n            await new Promise((resolve) => setTimeout(resolve));\n        }\n        catch {\n            // Ignore errors.\n        }\n        finally {\n            URL.revokeObjectURL(url);\n        }\n        return isEmittingMessageEvents && !isEmittingProcessorErrorEvents;\n    };\n};\n//# sourceMappingURL=test-audio-worklet-processor-post-message-support.js.map","export const createTestOfflineAudioContextCurrentTimeSupport = (createNativeGainNode, nativeOfflineAudioContextConstructor) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return Promise.resolve(false);\n        }\n        const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        // Bug #48: Safari does not render an OfflineAudioContext without any connected node.\n        const gainNode = createNativeGainNode(nativeOfflineAudioContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n        // Bug #21: Safari does not support promises yet.\n        return new Promise((resolve) => {\n            nativeOfflineAudioContext.oncomplete = () => {\n                gainNode.disconnect();\n                resolve(nativeOfflineAudioContext.currentTime !== 0);\n            };\n            nativeOfflineAudioContext.startRendering();\n        });\n    };\n};\n//# sourceMappingURL=test-offline-audio-context-current-time-support.js.map","export const createUnknownError = () => new DOMException('', 'UnknownError');\n//# sourceMappingURL=unknown-error.js.map","const DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    curve: null,\n    oversample: 'none'\n};\nexport const createWaveShaperNodeConstructor = (audioNodeConstructor, createInvalidStateError, createNativeWaveShaperNode, createWaveShaperNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime) => {\n    return class WaveShaperNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeWaveShaperNode = createNativeWaveShaperNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const waveShaperNodeRenderer = (isOffline ? createWaveShaperNodeRenderer() : null);\n            // @todo Add a mechanism to only switch a WaveShaperNode to active while it is connected.\n            super(context, true, nativeWaveShaperNode, waveShaperNodeRenderer);\n            this._isCurveNullified = false;\n            this._nativeWaveShaperNode = nativeWaveShaperNode;\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n        get curve() {\n            if (this._isCurveNullified) {\n                return null;\n            }\n            return this._nativeWaveShaperNode.curve;\n        }\n        set curve(value) {\n            // Bug #103: Safari does not allow to set the curve to null.\n            if (value === null) {\n                this._isCurveNullified = true;\n                this._nativeWaveShaperNode.curve = new Float32Array([0, 0]);\n            }\n            else {\n                // Bug #102: Safari does not throw an InvalidStateError when the curve has less than two samples.\n                // Bug #104: Chrome and Edge will throw an InvalidAccessError when the curve has less than two samples.\n                if (value.length < 2) {\n                    throw createInvalidStateError();\n                }\n                this._isCurveNullified = false;\n                this._nativeWaveShaperNode.curve = value;\n            }\n        }\n        get oversample() {\n            return this._nativeWaveShaperNode.oversample;\n        }\n        set oversample(value) {\n            this._nativeWaveShaperNode.oversample = value;\n        }\n    };\n};\n//# sourceMappingURL=wave-shaper-node-constructor.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createWaveShaperNodeRendererFactory = (createNativeWaveShaperNode, getNativeAudioNode, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeWaveShaperNodes = new WeakMap();\n        const createWaveShaperNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeWaveShaperNode = getNativeAudioNode(proxy);\n            // If the initially used nativeWaveShaperNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeWaveShaperNodeIsOwnedByContext = isOwnedByContext(nativeWaveShaperNode, nativeOfflineAudioContext);\n            if (!nativeWaveShaperNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeWaveShaperNode.channelCount,\n                    channelCountMode: nativeWaveShaperNode.channelCountMode,\n                    channelInterpretation: nativeWaveShaperNode.channelInterpretation,\n                    curve: nativeWaveShaperNode.curve,\n                    oversample: nativeWaveShaperNode.oversample\n                };\n                nativeWaveShaperNode = createNativeWaveShaperNode(nativeOfflineAudioContext, options);\n            }\n            renderedNativeWaveShaperNodes.set(nativeOfflineAudioContext, nativeWaveShaperNode);\n            if (isNativeAudioNodeFaker(nativeWaveShaperNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeWaveShaperNode.inputs[0]);\n            }\n            else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeWaveShaperNode);\n            }\n            return nativeWaveShaperNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeWaveShaperNode = renderedNativeWaveShaperNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeWaveShaperNode !== undefined) {\n                    return Promise.resolve(renderedNativeWaveShaperNode);\n                }\n                return createWaveShaperNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=wave-shaper-node-renderer-factory.js.map","export const createWindow = () => (typeof window === 'undefined' ? null : window);\n//# sourceMappingURL=window.js.map","export const createWrapAudioBufferCopyChannelMethods = (convertNumberToUnsignedLong, createIndexSizeError) => {\n    return (audioBuffer) => {\n        audioBuffer.copyFromChannel = (destination, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n            const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n            const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n            if (channelNumber >= audioBuffer.numberOfChannels) {\n                throw createIndexSizeError();\n            }\n            const audioBufferLength = audioBuffer.length;\n            const channelData = audioBuffer.getChannelData(channelNumber);\n            const destinationLength = destination.length;\n            for (let i = bufferOffset < 0 ? -bufferOffset : 0; i + bufferOffset < audioBufferLength && i < destinationLength; i += 1) {\n                destination[i] = channelData[i + bufferOffset];\n            }\n        };\n        audioBuffer.copyToChannel = (source, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n            const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n            const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n            if (channelNumber >= audioBuffer.numberOfChannels) {\n                throw createIndexSizeError();\n            }\n            const audioBufferLength = audioBuffer.length;\n            const channelData = audioBuffer.getChannelData(channelNumber);\n            const sourceLength = source.length;\n            for (let i = bufferOffset < 0 ? -bufferOffset : 0; i + bufferOffset < audioBufferLength && i < sourceLength; i += 1) {\n                channelData[i + bufferOffset] = source[i];\n            }\n        };\n    };\n};\n//# sourceMappingURL=wrap-audio-buffer-copy-channel-methods.js.map","export const createWrapAudioBufferCopyChannelMethodsOutOfBounds = (convertNumberToUnsignedLong) => {\n    return (audioBuffer) => {\n        audioBuffer.copyFromChannel = ((copyFromChannel) => {\n            return (destination, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n                const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n                const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n                if (bufferOffset < audioBuffer.length) {\n                    return copyFromChannel.call(audioBuffer, destination, channelNumber, bufferOffset);\n                }\n            };\n        })(audioBuffer.copyFromChannel);\n        audioBuffer.copyToChannel = ((copyToChannel) => {\n            return (source, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n                const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n                const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n                if (bufferOffset < audioBuffer.length) {\n                    return copyToChannel.call(audioBuffer, source, channelNumber, bufferOffset);\n                }\n            };\n        })(audioBuffer.copyToChannel);\n    };\n};\n//# sourceMappingURL=wrap-audio-buffer-copy-channel-methods-out-of-bounds.js.map","export const createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer = (overwriteAccessors) => {\n    return (nativeAudioBufferSourceNode, nativeContext) => {\n        const nullifiedBuffer = nativeContext.createBuffer(1, 1, 44100);\n        if (nativeAudioBufferSourceNode.buffer === null) {\n            nativeAudioBufferSourceNode.buffer = nullifiedBuffer;\n        }\n        overwriteAccessors(nativeAudioBufferSourceNode, 'buffer', (get) => () => {\n            const value = get.call(nativeAudioBufferSourceNode);\n            return value === nullifiedBuffer ? null : value;\n        }, (set) => (value) => {\n            return set.call(nativeAudioBufferSourceNode, value === null ? nullifiedBuffer : value);\n        });\n    };\n};\n//# sourceMappingURL=wrap-audio-buffer-source-node-stop-method-nullified-buffer.js.map","export const createWrapChannelMergerNode = (createInvalidStateError, monitorConnections) => {\n    return (nativeContext, channelMergerNode) => {\n        // Bug #15: Safari does not return the default properties.\n        channelMergerNode.channelCount = 1;\n        channelMergerNode.channelCountMode = 'explicit';\n        // Bug #16: Safari does not throw an error when setting a different channelCount or channelCountMode.\n        Object.defineProperty(channelMergerNode, 'channelCount', {\n            get: () => 1,\n            set: () => {\n                throw createInvalidStateError();\n            }\n        });\n        Object.defineProperty(channelMergerNode, 'channelCountMode', {\n            get: () => 'explicit',\n            set: () => {\n                throw createInvalidStateError();\n            }\n        });\n        // Bug #20: Safari requires a connection of any kind to treat the input signal correctly.\n        const audioBufferSourceNode = nativeContext.createBufferSource();\n        const whenConnected = () => {\n            const length = channelMergerNode.numberOfInputs;\n            for (let i = 0; i < length; i += 1) {\n                audioBufferSourceNode.connect(channelMergerNode, 0, i);\n            }\n        };\n        const whenDisconnected = () => audioBufferSourceNode.disconnect(channelMergerNode);\n        monitorConnections(channelMergerNode, whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=wrap-channel-merger-node.js.map","export const getFirstSample = (audioBuffer, buffer, channelNumber) => {\n    // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n    if (audioBuffer.copyFromChannel === undefined) {\n        return audioBuffer.getChannelData(channelNumber)[0];\n    }\n    audioBuffer.copyFromChannel(buffer, channelNumber);\n    return buffer[0];\n};\n//# sourceMappingURL=get-first-sample.js.map","export const isDCCurve = (curve) => {\n    if (curve === null) {\n        return false;\n    }\n    const length = curve.length;\n    if (length % 2 !== 0) {\n        return curve[Math.floor(length / 2)] !== 0;\n    }\n    return curve[length / 2 - 1] + curve[length / 2] !== 0;\n};\n//# sourceMappingURL=is-dc-curve.js.map","export const overwriteAccessors = (object, property, createGetter, createSetter) => {\n    let prototype = object;\n    while (!prototype.hasOwnProperty(property)) {\n        prototype = Object.getPrototypeOf(prototype);\n    }\n    const { get, set } = Object.getOwnPropertyDescriptor(prototype, property);\n    Object.defineProperty(object, property, { get: createGetter(get), set: createSetter(set) });\n};\n//# sourceMappingURL=overwrite-accessors.js.map","export const sanitizeAudioWorkletNodeOptions = (options) => {\n    return {\n        ...options,\n        outputChannelCount: options.outputChannelCount !== undefined\n            ? options.outputChannelCount\n            : options.numberOfInputs === 1 && options.numberOfOutputs === 1\n                ? /*\n                   * Bug #61: This should be the computedNumberOfChannels, but unfortunately that is almost impossible to fake. That's why\n                   * the channelCountMode is required to be 'explicit' as long as there is not a native implementation in every browser. That\n                   * makes sure the computedNumberOfChannels is equivilant to the channelCount which makes it much easier to compute.\n                   */\n                    [options.channelCount]\n                : Array.from({ length: options.numberOfOutputs }, () => 1)\n    };\n};\n//# sourceMappingURL=sanitize-audio-worklet-node-options.js.map","export const sanitizeChannelSplitterOptions = (options) => {\n    return { ...options, channelCount: options.numberOfOutputs };\n};\n//# sourceMappingURL=sanitize-channel-splitter-options.js.map","export const sanitizePeriodicWaveOptions = (options) => {\n    const { imag, real } = options;\n    if (imag === undefined) {\n        if (real === undefined) {\n            return { ...options, imag: [0, 0], real: [0, 0] };\n        }\n        return { ...options, imag: Array.from(real, () => 0), real };\n    }\n    if (real === undefined) {\n        return { ...options, imag, real: Array.from(imag, () => 0) };\n    }\n    return { ...options, imag, real };\n};\n//# sourceMappingURL=sanitize-periodic-wave-options.js.map","export const setValueAtTimeUntilPossible = (audioParam, value, startTime) => {\n    try {\n        audioParam.setValueAtTime(value, startTime);\n    }\n    catch (err) {\n        if (err.code !== 9) {\n            throw err;\n        }\n        setValueAtTimeUntilPossible(audioParam, value, startTime + 1e-7);\n    }\n};\n//# sourceMappingURL=set-value-at-time-until-possible.js.map","export const testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    nativeAudioBufferSourceNode.start();\n    try {\n        nativeAudioBufferSourceNode.start();\n    }\n    catch {\n        return true;\n    }\n    return false;\n};\n//# sourceMappingURL=test-audio-buffer-source-node-start-method-consecutive-calls-support.js.map","export const testAudioBufferSourceNodeStartMethodOffsetClampingSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    const nativeAudioBuffer = nativeContext.createBuffer(1, 1, 44100);\n    nativeAudioBufferSourceNode.buffer = nativeAudioBuffer;\n    try {\n        nativeAudioBufferSourceNode.start(0, 1);\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=test-audio-buffer-source-node-start-method-offset-clamping-support.js.map","export const testAudioBufferSourceNodeStopMethodNullifiedBufferSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    nativeAudioBufferSourceNode.start();\n    try {\n        nativeAudioBufferSourceNode.stop();\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=test-audio-buffer-source-node-stop-method-nullified-buffer-support.js.map","export const testAudioScheduledSourceNodeStartMethodNegativeParametersSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createOscillator();\n    try {\n        nativeAudioBufferSourceNode.start(-1);\n    }\n    catch (err) {\n        return err instanceof RangeError;\n    }\n    return false;\n};\n//# sourceMappingURL=test-audio-scheduled-source-node-start-method-negative-parameters-support.js.map","export const testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport = (nativeContext) => {\n    const nativeAudioBuffer = nativeContext.createBuffer(1, 1, 44100);\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    nativeAudioBufferSourceNode.buffer = nativeAudioBuffer;\n    nativeAudioBufferSourceNode.start();\n    nativeAudioBufferSourceNode.stop();\n    try {\n        nativeAudioBufferSourceNode.stop();\n        return true;\n    }\n    catch {\n        return false;\n    }\n};\n//# sourceMappingURL=test-audio-scheduled-source-node-stop-method-consecutive-calls-support.js.map","export const testAudioScheduledSourceNodeStopMethodNegativeParametersSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createOscillator();\n    try {\n        nativeAudioBufferSourceNode.stop(-1);\n    }\n    catch (err) {\n        return err instanceof RangeError;\n    }\n    return false;\n};\n//# sourceMappingURL=test-audio-scheduled-source-node-stop-method-negative-parameters-support.js.map","export const testAudioWorkletNodeOptionsClonability = (audioWorkletNodeOptions) => {\n    const { port1, port2 } = new MessageChannel();\n    try {\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port1.postMessage(audioWorkletNodeOptions);\n    }\n    finally {\n        port1.close();\n        port2.close();\n    }\n};\n//# sourceMappingURL=test-audio-worklet-node-options-clonability.js.map","export const wrapAudioBufferSourceNodeStartMethodOffsetClamping = (nativeAudioBufferSourceNode) => {\n    nativeAudioBufferSourceNode.start = ((start) => {\n        return (when = 0, offset = 0, duration) => {\n            const buffer = nativeAudioBufferSourceNode.buffer;\n            // Bug #154: Safari does not clamp the offset if it is equal to or greater than the duration of the buffer.\n            const clampedOffset = buffer === null ? offset : Math.min(buffer.duration, offset);\n            // Bug #155: Safari does not handle the offset correctly if it would cause the buffer to be not be played at all.\n            if (buffer !== null && clampedOffset > buffer.duration - 0.5 / nativeAudioBufferSourceNode.context.sampleRate) {\n                start.call(nativeAudioBufferSourceNode, when, 0, 0);\n            }\n            else {\n                start.call(nativeAudioBufferSourceNode, when, clampedOffset, duration);\n            }\n        };\n    })(nativeAudioBufferSourceNode.start);\n};\n//# sourceMappingURL=wrap-audio-buffer-source-node-start-method-offset-clamping.js.map","import { interceptConnections } from './intercept-connections';\nexport const wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls = (nativeAudioScheduledSourceNode, nativeContext) => {\n    const nativeGainNode = nativeContext.createGain();\n    nativeAudioScheduledSourceNode.connect(nativeGainNode);\n    const disconnectGainNode = ((disconnect) => {\n        return () => {\n            // @todo TypeScript cannot infer the overloaded signature with 1 argument yet.\n            disconnect.call(nativeAudioScheduledSourceNode, nativeGainNode);\n            nativeAudioScheduledSourceNode.removeEventListener('ended', disconnectGainNode);\n        };\n    })(nativeAudioScheduledSourceNode.disconnect);\n    nativeAudioScheduledSourceNode.addEventListener('ended', disconnectGainNode);\n    interceptConnections(nativeAudioScheduledSourceNode, nativeGainNode);\n    nativeAudioScheduledSourceNode.stop = ((stop) => {\n        let isStopped = false;\n        return (when = 0) => {\n            if (isStopped) {\n                try {\n                    stop.call(nativeAudioScheduledSourceNode, when);\n                }\n                catch {\n                    nativeGainNode.gain.setValueAtTime(0, when);\n                }\n            }\n            else {\n                stop.call(nativeAudioScheduledSourceNode, when);\n                isStopped = true;\n            }\n        };\n    })(nativeAudioScheduledSourceNode.stop);\n};\n//# sourceMappingURL=wrap-audio-scheduled-source-node-stop-method-consecutive-calls.js.map","export const wrapEventListener = (target, eventListener) => {\n    return (event) => {\n        const descriptor = { value: target };\n        Object.defineProperties(event, {\n            currentTarget: descriptor,\n            target: descriptor\n        });\n        if (typeof eventListener === 'function') {\n            return eventListener.call(target, event);\n        }\n        return eventListener.handleEvent.call(target, event);\n    };\n};\n//# sourceMappingURL=wrap-event-listener.js.map","import { createCancelAndHoldAutomationEvent, createCancelScheduledValuesAutomationEvent, createExponentialRampToValueAutomationEvent, createLinearRampToValueAutomationEvent, createSetTargetAutomationEvent, createSetValueAutomationEvent, createSetValueCurveAutomationEvent } from 'automation-events';\nimport { createAbortError } from './factories/abort-error';\nimport { createAddActiveInputConnectionToAudioNode } from './factories/add-active-input-connection-to-audio-node';\nimport { createAddAudioNodeConnections } from './factories/add-audio-node-connections';\nimport { createAddAudioParamConnections } from './factories/add-audio-param-connections';\nimport { createAddAudioWorkletModule } from './factories/add-audio-worklet-module';\nimport { createAddConnectionToAudioNode } from './factories/add-connection-to-audio-node';\nimport { createAddPassiveInputConnectionToAudioNode } from './factories/add-passive-input-connection-to-audio-node';\nimport { createAddSilentConnection } from './factories/add-silent-connection';\nimport { createAddUnrenderedAudioWorkletNode } from './factories/add-unrendered-audio-worklet-node';\nimport { createAnalyserNodeConstructor } from './factories/analyser-node-constructor';\nimport { createAnalyserNodeRendererFactory } from './factories/analyser-node-renderer-factory';\nimport { createAudioBufferConstructor } from './factories/audio-buffer-constructor';\nimport { createAudioBufferSourceNodeConstructor } from './factories/audio-buffer-source-node-constructor';\nimport { createAudioBufferSourceNodeRendererFactory } from './factories/audio-buffer-source-node-renderer-factory';\nimport { createAudioContextConstructor } from './factories/audio-context-constructor';\nimport { createAudioDestinationNodeConstructor } from './factories/audio-destination-node-constructor';\nimport { createAudioDestinationNodeRenderer } from './factories/audio-destination-node-renderer-factory';\nimport { createAudioListenerFactory } from './factories/audio-listener-factory';\nimport { createAudioNodeConstructor } from './factories/audio-node-constructor';\nimport { createAudioParamFactory } from './factories/audio-param-factory';\nimport { createAudioParamRenderer } from './factories/audio-param-renderer';\nimport { createAudioWorkletNodeConstructor } from './factories/audio-worklet-node-constructor';\nimport { createAudioWorkletNodeRendererFactory } from './factories/audio-worklet-node-renderer-factory';\nimport { createBaseAudioContextConstructor } from './factories/base-audio-context-constructor';\nimport { createBiquadFilterNodeConstructor } from './factories/biquad-filter-node-constructor';\nimport { createBiquadFilterNodeRendererFactory } from './factories/biquad-filter-node-renderer-factory';\nimport { createCacheTestResult } from './factories/cache-test-result';\nimport { createChannelMergerNodeConstructor } from './factories/channel-merger-node-constructor';\nimport { createChannelMergerNodeRendererFactory } from './factories/channel-merger-node-renderer-factory';\nimport { createChannelSplitterNodeConstructor } from './factories/channel-splitter-node-constructor';\nimport { createChannelSplitterNodeRendererFactory } from './factories/channel-splitter-node-renderer-factory';\nimport { createConnectAudioParam } from './factories/connect-audio-param';\nimport { createConnectMultipleOutputs } from './factories/connect-multiple-outputs';\nimport { createConnectedNativeAudioBufferSourceNodeFactory } from './factories/connected-native-audio-buffer-source-node-factory';\nimport { createConstantSourceNodeConstructor } from './factories/constant-source-node-constructor';\nimport { createConstantSourceNodeRendererFactory } from './factories/constant-source-node-renderer-factory';\nimport { createConvertNumberToUnsignedLong } from './factories/convert-number-to-unsigned-long';\nimport { createConvolverNodeConstructor } from './factories/convolver-node-constructor';\nimport { createConvolverNodeRendererFactory } from './factories/convolver-node-renderer-factory';\nimport { createCreateNativeOfflineAudioContext } from './factories/create-native-offline-audio-context';\nimport { createDataCloneError } from './factories/data-clone-error';\nimport { createDecodeAudioData } from './factories/decode-audio-data';\nimport { createDecrementCycleCounter } from './factories/decrement-cycle-counter';\nimport { createDelayNodeConstructor } from './factories/delay-node-constructor';\nimport { createDelayNodeRendererFactory } from './factories/delay-node-renderer-factory';\nimport { createDeleteActiveInputConnectionToAudioNode } from './factories/delete-active-input-connection-to-audio-node';\nimport { createDeleteUnrenderedAudioWorkletNode } from './factories/delete-unrendered-audio-worklet-node';\nimport { createDetectCycles } from './factories/detect-cycles';\nimport { createDisconnectMultipleOutputs } from './factories/disconnect-multiple-outputs';\nimport { createDynamicsCompressorNodeConstructor } from './factories/dynamics-compressor-node-constructor';\nimport { createDynamicsCompressorNodeRendererFactory } from './factories/dynamics-compressor-node-renderer-factory';\nimport { createEncodingError } from './factories/encoding-error';\nimport { createEvaluateSource } from './factories/evaluate-source';\nimport { createEventTargetConstructor } from './factories/event-target-constructor';\nimport { createExposeCurrentFrameAndCurrentTime } from './factories/expose-current-frame-and-current-time';\nimport { createFetchSource } from './factories/fetch-source';\nimport { createGainNodeConstructor } from './factories/gain-node-constructor';\nimport { createGainNodeRendererFactory } from './factories/gain-node-renderer-factory';\nimport { createGetActiveAudioWorkletNodeInputs } from './factories/get-active-audio-worklet-node-inputs';\nimport { createGetAudioNodeRenderer } from './factories/get-audio-node-renderer';\nimport { createGetAudioNodeTailTime } from './factories/get-audio-node-tail-time';\nimport { createGetAudioParamRenderer } from './factories/get-audio-param-renderer';\nimport { createGetBackupOfflineAudioContext } from './factories/get-backup-offline-audio-context';\nimport { createGetNativeContext } from './factories/get-native-context';\nimport { createGetOrCreateBackupOfflineAudioContext } from './factories/get-or-create-backup-offline-audio-context';\nimport { createGetUnrenderedAudioWorkletNodes } from './factories/get-unrendered-audio-worklet-nodes';\nimport { createIIRFilterNodeConstructor } from './factories/iir-filter-node-constructor';\nimport { createIIRFilterNodeRendererFactory } from './factories/iir-filter-node-renderer-factory';\nimport { createIncrementCycleCounterFactory } from './factories/increment-cycle-counter-factory';\nimport { createIndexSizeError } from './factories/index-size-error';\nimport { createInvalidAccessError } from './factories/invalid-access-error';\nimport { createInvalidStateError } from './factories/invalid-state-error';\nimport { createIsAnyAudioContext } from './factories/is-any-audio-context';\nimport { createIsAnyAudioNode } from './factories/is-any-audio-node';\nimport { createIsAnyAudioParam } from './factories/is-any-audio-param';\nimport { createIsAnyOfflineAudioContext } from './factories/is-any-offline-audio-context';\nimport { createIsNativeAudioContext } from './factories/is-native-audio-context';\nimport { createIsNativeAudioNode } from './factories/is-native-audio-node';\nimport { createIsNativeAudioParam } from './factories/is-native-audio-param';\nimport { createIsNativeContext } from './factories/is-native-context';\nimport { createIsNativeOfflineAudioContext } from './factories/is-native-offline-audio-context';\nimport { createIsSecureContext } from './factories/is-secure-context';\nimport { createIsSupportedPromise } from './factories/is-supported-promise';\nimport { createMediaElementAudioSourceNodeConstructor } from './factories/media-element-audio-source-node-constructor';\nimport { createMediaStreamAudioDestinationNodeConstructor } from './factories/media-stream-audio-destination-node-constructor';\nimport { createMediaStreamAudioSourceNodeConstructor } from './factories/media-stream-audio-source-node-constructor';\nimport { createMediaStreamTrackAudioSourceNodeConstructor } from './factories/media-stream-track-audio-source-node-constructor';\nimport { createMinimalAudioContextConstructor } from './factories/minimal-audio-context-constructor';\nimport { createMinimalBaseAudioContextConstructor } from './factories/minimal-base-audio-context-constructor';\nimport { createMinimalOfflineAudioContextConstructor } from './factories/minimal-offline-audio-context-constructor';\nimport { createMonitorConnections } from './factories/monitor-connections';\nimport { createNativeAnalyserNodeFactory } from './factories/native-analyser-node-factory';\nimport { createNativeAudioBufferConstructor } from './factories/native-audio-buffer-constructor';\nimport { createNativeAudioBufferSourceNodeFactory } from './factories/native-audio-buffer-source-node-factory';\nimport { createNativeAudioContextConstructor } from './factories/native-audio-context-constructor';\nimport { createNativeAudioDestinationNodeFactory } from './factories/native-audio-destination-node';\nimport { createNativeAudioWorkletNodeConstructor } from './factories/native-audio-worklet-node-constructor';\nimport { createNativeAudioWorkletNodeFactory } from './factories/native-audio-worklet-node-factory';\nimport { createNativeAudioWorkletNodeFakerFactory } from './factories/native-audio-worklet-node-faker-factory';\nimport { createNativeBiquadFilterNode } from './factories/native-biquad-filter-node';\nimport { createNativeChannelMergerNodeFactory } from './factories/native-channel-merger-node-factory';\nimport { createNativeChannelSplitterNode } from './factories/native-channel-splitter-node';\nimport { createNativeConstantSourceNodeFactory } from './factories/native-constant-source-node-factory';\nimport { createNativeConstantSourceNodeFakerFactory } from './factories/native-constant-source-node-faker-factory';\nimport { createNativeConvolverNodeFactory } from './factories/native-convolver-node-factory';\nimport { createNativeDelayNode } from './factories/native-delay-node';\nimport { createNativeDynamicsCompressorNodeFactory } from './factories/native-dynamics-compressor-node-factory';\nimport { createNativeGainNode } from './factories/native-gain-node';\nimport { createNativeIIRFilterNodeFactory } from './factories/native-iir-filter-node-factory';\nimport { createNativeIIRFilterNodeFakerFactory } from './factories/native-iir-filter-node-faker-factory';\nimport { createNativeMediaElementAudioSourceNode } from './factories/native-media-element-audio-source-node';\nimport { createNativeMediaStreamAudioDestinationNode } from './factories/native-media-stream-audio-destination-node';\nimport { createNativeMediaStreamAudioSourceNode } from './factories/native-media-stream-audio-source-node';\nimport { createNativeMediaStreamTrackAudioSourceNodeFactory } from './factories/native-media-stream-track-audio-source-node-factory';\nimport { createNativeOfflineAudioContextConstructor } from './factories/native-offline-audio-context-constructor';\nimport { createNativeOscillatorNodeFactory } from './factories/native-oscillator-node-factory';\nimport { createNativePannerNodeFactory } from './factories/native-panner-node-factory';\nimport { createNativePannerNodeFakerFactory } from './factories/native-panner-node-faker-factory';\nimport { createNativePeriodicWaveFactory } from './factories/native-periodic-wave-factory';\nimport { createNativeScriptProcessorNode } from './factories/native-script-processor-node';\nimport { createNativeStereoPannerNodeFactory } from './factories/native-stereo-panner-node-factory';\nimport { createNativeStereoPannerNodeFakerFactory } from './factories/native-stereo-panner-node-faker-factory';\nimport { createNativeWaveShaperNodeFactory } from './factories/native-wave-shaper-node-factory';\nimport { createNativeWaveShaperNodeFakerFactory } from './factories/native-wave-shaper-node-faker-factory';\nimport { createNotSupportedError } from './factories/not-supported-error';\nimport { createOfflineAudioContextConstructor } from './factories/offline-audio-context-constructor';\nimport { createOscillatorNodeConstructor } from './factories/oscillator-node-constructor';\nimport { createOscillatorNodeRendererFactory } from './factories/oscillator-node-renderer-factory';\nimport { createPannerNodeConstructor } from './factories/panner-node-constructor';\nimport { createPannerNodeRendererFactory } from './factories/panner-node-renderer-factory';\nimport { createPeriodicWaveConstructor } from './factories/periodic-wave-constructor';\nimport { createRenderAutomation } from './factories/render-automation';\nimport { createRenderInputsOfAudioNode } from './factories/render-inputs-of-audio-node';\nimport { createRenderInputsOfAudioParam } from './factories/render-inputs-of-audio-param';\nimport { createRenderNativeOfflineAudioContext } from './factories/render-native-offline-audio-context';\nimport { createSetActiveAudioWorkletNodeInputs } from './factories/set-active-audio-worklet-node-inputs';\nimport { createSetAudioNodeTailTime } from './factories/set-audio-node-tail-time';\nimport { createStartRendering } from './factories/start-rendering';\nimport { createStereoPannerNodeConstructor } from './factories/stereo-panner-node-constructor';\nimport { createStereoPannerNodeRendererFactory } from './factories/stereo-panner-node-renderer-factory';\nimport { createTestAudioBufferConstructorSupport } from './factories/test-audio-buffer-constructor-support';\nimport { createTestAudioBufferCopyChannelMethodsSubarraySupport } from './factories/test-audio-buffer-copy-channel-methods-subarray-support';\nimport { createTestAudioContextCloseMethodSupport } from './factories/test-audio-context-close-method-support';\nimport { createTestAudioContextDecodeAudioDataMethodTypeErrorSupport } from './factories/test-audio-context-decode-audio-data-method-type-error-support';\nimport { createTestAudioContextOptionsSupport } from './factories/test-audio-context-options-support';\nimport { createTestAudioNodeConnectMethodSupport } from './factories/test-audio-node-connect-method-support';\nimport { createTestAudioWorkletProcessorNoOutputsSupport } from './factories/test-audio-worklet-processor-no-outputs-support';\nimport { createTestAudioWorkletProcessorPostMessageSupport } from './factories/test-audio-worklet-processor-post-message-support';\nimport { createTestChannelMergerNodeChannelCountSupport } from './factories/test-channel-merger-node-channel-count-support';\nimport { createTestConstantSourceNodeAccurateSchedulingSupport } from './factories/test-constant-source-node-accurate-scheduling-support';\nimport { createTestConvolverNodeBufferReassignabilitySupport } from './factories/test-convolver-node-buffer-reassignability-support';\nimport { createTestConvolverNodeChannelCountSupport } from './factories/test-convolver-node-channel-count-support';\nimport { createTestIsSecureContextSupport } from './factories/test-is-secure-context-support';\nimport { createTestMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport } from './factories/test-media-stream-audio-source-node-media-stream-without-audio-track-support';\nimport { createTestOfflineAudioContextCurrentTimeSupport } from './factories/test-offline-audio-context-current-time-support';\nimport { createTestStereoPannerNodeDefaultValueSupport } from './factories/test-stereo-panner-node-default-value-support';\nimport { createUnknownError } from './factories/unknown-error';\nimport { createWaveShaperNodeConstructor } from './factories/wave-shaper-node-constructor';\nimport { createWaveShaperNodeRendererFactory } from './factories/wave-shaper-node-renderer-factory';\nimport { createWindow } from './factories/window';\nimport { createWrapAudioBufferCopyChannelMethods } from './factories/wrap-audio-buffer-copy-channel-methods';\nimport { createWrapAudioBufferCopyChannelMethodsOutOfBounds } from './factories/wrap-audio-buffer-copy-channel-methods-out-of-bounds';\nimport { createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer } from './factories/wrap-audio-buffer-source-node-stop-method-nullified-buffer';\nimport { createWrapChannelMergerNode } from './factories/wrap-channel-merger-node';\nimport { AUDIO_NODE_CONNECTIONS_STORE, AUDIO_NODE_STORE, AUDIO_PARAM_CONNECTIONS_STORE, AUDIO_PARAM_STORE, CONTEXT_STORE, CYCLE_COUNTERS } from './globals';\nimport { connectNativeAudioNodeToNativeAudioNode } from './helpers/connect-native-audio-node-to-native-audio-node';\nimport { disconnectNativeAudioNodeFromNativeAudioNode } from './helpers/disconnect-native-audio-node-from-native-audio-node';\nimport { getAudioNodeConnections } from './helpers/get-audio-node-connections';\nimport { getAudioParamConnections } from './helpers/get-audio-param-connections';\nimport { getEventListenersOfAudioNode } from './helpers/get-event-listeners-of-audio-node';\nimport { getFirstSample } from './helpers/get-first-sample';\nimport { getNativeAudioNode } from './helpers/get-native-audio-node';\nimport { getNativeAudioParam } from './helpers/get-native-audio-param';\nimport { getValueForKey } from './helpers/get-value-for-key';\nimport { insertElementInSet } from './helpers/insert-element-in-set';\nimport { isActiveAudioNode } from './helpers/is-active-audio-node';\nimport { isDCCurve } from './helpers/is-dc-curve';\nimport { isPartOfACycle } from './helpers/is-part-of-a-cycle';\nimport { isPassiveAudioNode } from './helpers/is-passive-audio-node';\nimport { overwriteAccessors } from './helpers/overwrite-accessors';\nimport { pickElementFromSet } from './helpers/pick-element-from-set';\nimport { sanitizeAudioWorkletNodeOptions } from './helpers/sanitize-audio-worklet-node-options';\nimport { sanitizeChannelSplitterOptions } from './helpers/sanitize-channel-splitter-options';\nimport { sanitizePeriodicWaveOptions } from './helpers/sanitize-periodic-wave-options';\nimport { setValueAtTimeUntilPossible } from './helpers/set-value-at-time-until-possible';\nimport { testAudioBufferCopyChannelMethodsOutOfBoundsSupport } from './helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support';\nimport { testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport } from './helpers/test-audio-buffer-source-node-start-method-consecutive-calls-support';\nimport { testAudioBufferSourceNodeStartMethodOffsetClampingSupport } from './helpers/test-audio-buffer-source-node-start-method-offset-clamping-support';\nimport { testAudioBufferSourceNodeStopMethodNullifiedBufferSupport } from './helpers/test-audio-buffer-source-node-stop-method-nullified-buffer-support';\nimport { testAudioScheduledSourceNodeStartMethodNegativeParametersSupport } from './helpers/test-audio-scheduled-source-node-start-method-negative-parameters-support';\nimport { testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport } from './helpers/test-audio-scheduled-source-node-stop-method-consecutive-calls-support';\nimport { testAudioScheduledSourceNodeStopMethodNegativeParametersSupport } from './helpers/test-audio-scheduled-source-node-stop-method-negative-parameters-support';\nimport { testAudioWorkletNodeOptionsClonability } from './helpers/test-audio-worklet-node-options-clonability';\nimport { testDomExceptionConstructorSupport } from './helpers/test-dom-exception-constructor-support';\nimport { testPromiseSupport } from './helpers/test-promise-support';\nimport { testTransferablesSupport } from './helpers/test-transferables-support';\nimport { wrapAudioBufferSourceNodeStartMethodOffsetClamping } from './helpers/wrap-audio-buffer-source-node-start-method-offset-clamping';\nimport { wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls } from './helpers/wrap-audio-scheduled-source-node-stop-method-consecutive-calls';\nimport { wrapEventListener } from './helpers/wrap-event-listener';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nconst addActiveInputConnectionToAudioNode = createAddActiveInputConnectionToAudioNode(insertElementInSet);\nconst addPassiveInputConnectionToAudioNode = createAddPassiveInputConnectionToAudioNode(insertElementInSet);\nconst deleteActiveInputConnectionToAudioNode = createDeleteActiveInputConnectionToAudioNode(pickElementFromSet);\nconst audioNodeTailTimeStore = new WeakMap();\nconst getAudioNodeTailTime = createGetAudioNodeTailTime(audioNodeTailTimeStore);\nconst cacheTestResult = createCacheTestResult(new Map(), new WeakMap());\nconst window = createWindow();\nconst createNativeAnalyserNode = createNativeAnalyserNodeFactory(cacheTestResult, createIndexSizeError);\nconst getAudioNodeRenderer = createGetAudioNodeRenderer(getAudioNodeConnections);\nconst renderInputsOfAudioNode = createRenderInputsOfAudioNode(getAudioNodeConnections, getAudioNodeRenderer, isPartOfACycle);\nconst createAnalyserNodeRenderer = createAnalyserNodeRendererFactory(createNativeAnalyserNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst getNativeContext = createGetNativeContext(CONTEXT_STORE);\nconst nativeOfflineAudioContextConstructor = createNativeOfflineAudioContextConstructor(window);\nconst isNativeOfflineAudioContext = createIsNativeOfflineAudioContext(nativeOfflineAudioContextConstructor);\nconst audioParamAudioNodeStore = new WeakMap();\nconst eventTargetConstructor = createEventTargetConstructor(wrapEventListener);\nconst nativeAudioContextConstructor = createNativeAudioContextConstructor(window);\nconst isNativeAudioContext = createIsNativeAudioContext(nativeAudioContextConstructor);\nconst isNativeAudioNode = createIsNativeAudioNode(window);\nconst isNativeAudioParam = createIsNativeAudioParam(window);\nconst nativeAudioWorkletNodeConstructor = createNativeAudioWorkletNodeConstructor(window);\nconst audioNodeConstructor = createAudioNodeConstructor(createAddAudioNodeConnections(AUDIO_NODE_CONNECTIONS_STORE), createAddConnectionToAudioNode(addActiveInputConnectionToAudioNode, addPassiveInputConnectionToAudioNode, connectNativeAudioNodeToNativeAudioNode, deleteActiveInputConnectionToAudioNode, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getAudioNodeTailTime, getEventListenersOfAudioNode, getNativeAudioNode, insertElementInSet, isActiveAudioNode, isPartOfACycle, isPassiveAudioNode), cacheTestResult, createIncrementCycleCounterFactory(CYCLE_COUNTERS, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, isActiveAudioNode), createIndexSizeError, createInvalidAccessError, createNotSupportedError, createDecrementCycleCounter(connectNativeAudioNodeToNativeAudioNode, CYCLE_COUNTERS, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, getNativeContext, isActiveAudioNode, isNativeOfflineAudioContext), createDetectCycles(audioParamAudioNodeStore, getAudioNodeConnections, getValueForKey), eventTargetConstructor, getNativeContext, isNativeAudioContext, isNativeAudioNode, isNativeAudioParam, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor);\nconst analyserNodeConstructor = createAnalyserNodeConstructor(audioNodeConstructor, createAnalyserNodeRenderer, createIndexSizeError, createNativeAnalyserNode, getNativeContext, isNativeOfflineAudioContext);\nexport { analyserNodeConstructor as AnalyserNode };\nconst audioBufferStore = new WeakSet();\nconst nativeAudioBufferConstructor = createNativeAudioBufferConstructor(window);\nconst convertNumberToUnsignedLong = createConvertNumberToUnsignedLong(new Uint32Array(1));\nconst wrapAudioBufferCopyChannelMethods = createWrapAudioBufferCopyChannelMethods(convertNumberToUnsignedLong, createIndexSizeError);\nconst wrapAudioBufferCopyChannelMethodsOutOfBounds = createWrapAudioBufferCopyChannelMethodsOutOfBounds(convertNumberToUnsignedLong);\nconst audioBufferConstructor = createAudioBufferConstructor(audioBufferStore, cacheTestResult, createNotSupportedError, nativeAudioBufferConstructor, nativeOfflineAudioContextConstructor, createTestAudioBufferConstructorSupport(nativeAudioBufferConstructor), wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds);\nexport { audioBufferConstructor as AudioBuffer };\nconst addSilentConnection = createAddSilentConnection(createNativeGainNode);\nconst renderInputsOfAudioParam = createRenderInputsOfAudioParam(getAudioNodeRenderer, getAudioParamConnections, isPartOfACycle);\nconst connectAudioParam = createConnectAudioParam(renderInputsOfAudioParam);\nconst createNativeAudioBufferSourceNode = createNativeAudioBufferSourceNodeFactory(addSilentConnection, cacheTestResult, testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport, testAudioBufferSourceNodeStartMethodOffsetClampingSupport, testAudioBufferSourceNodeStopMethodNullifiedBufferSupport, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, wrapAudioBufferSourceNodeStartMethodOffsetClamping, createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer(overwriteAccessors), wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls);\nconst renderAutomation = createRenderAutomation(createGetAudioParamRenderer(getAudioParamConnections), renderInputsOfAudioParam);\nconst createAudioBufferSourceNodeRenderer = createAudioBufferSourceNodeRendererFactory(connectAudioParam, createNativeAudioBufferSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst createAudioParam = createAudioParamFactory(createAddAudioParamConnections(AUDIO_PARAM_CONNECTIONS_STORE), audioParamAudioNodeStore, AUDIO_PARAM_STORE, createAudioParamRenderer, createCancelAndHoldAutomationEvent, createCancelScheduledValuesAutomationEvent, createExponentialRampToValueAutomationEvent, createLinearRampToValueAutomationEvent, createSetTargetAutomationEvent, createSetValueAutomationEvent, createSetValueCurveAutomationEvent, nativeAudioContextConstructor, setValueAtTimeUntilPossible);\nconst audioBufferSourceNodeConstructor = createAudioBufferSourceNodeConstructor(audioNodeConstructor, createAudioBufferSourceNodeRenderer, createAudioParam, createInvalidStateError, createNativeAudioBufferSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener);\nexport { audioBufferSourceNodeConstructor as AudioBufferSourceNode };\nconst audioDestinationNodeConstructor = createAudioDestinationNodeConstructor(audioNodeConstructor, createAudioDestinationNodeRenderer, createIndexSizeError, createInvalidStateError, createNativeAudioDestinationNodeFactory(createNativeGainNode, overwriteAccessors), getNativeContext, isNativeOfflineAudioContext, renderInputsOfAudioNode);\nconst createBiquadFilterNodeRenderer = createBiquadFilterNodeRendererFactory(connectAudioParam, createNativeBiquadFilterNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst setAudioNodeTailTime = createSetAudioNodeTailTime(audioNodeTailTimeStore);\nconst biquadFilterNodeConstructor = createBiquadFilterNodeConstructor(audioNodeConstructor, createAudioParam, createBiquadFilterNodeRenderer, createInvalidAccessError, createNativeBiquadFilterNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst monitorConnections = createMonitorConnections(insertElementInSet, isNativeAudioNode);\nconst wrapChannelMergerNode = createWrapChannelMergerNode(createInvalidStateError, monitorConnections);\nconst createNativeChannelMergerNode = createNativeChannelMergerNodeFactory(nativeAudioContextConstructor, wrapChannelMergerNode);\nconst createChannelMergerNodeRenderer = createChannelMergerNodeRendererFactory(createNativeChannelMergerNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst channelMergerNodeConstructor = createChannelMergerNodeConstructor(audioNodeConstructor, createChannelMergerNodeRenderer, createNativeChannelMergerNode, getNativeContext, isNativeOfflineAudioContext);\nconst createChannelSplitterNodeRenderer = createChannelSplitterNodeRendererFactory(createNativeChannelSplitterNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst channelSplitterNodeConstructor = createChannelSplitterNodeConstructor(audioNodeConstructor, createChannelSplitterNodeRenderer, createNativeChannelSplitterNode, getNativeContext, isNativeOfflineAudioContext, sanitizeChannelSplitterOptions);\nconst createNativeConstantSourceNodeFaker = createNativeConstantSourceNodeFakerFactory(addSilentConnection, createNativeAudioBufferSourceNode, createNativeGainNode, monitorConnections);\nconst createNativeConstantSourceNode = createNativeConstantSourceNodeFactory(addSilentConnection, cacheTestResult, createNativeConstantSourceNodeFaker, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport);\nconst createConstantSourceNodeRenderer = createConstantSourceNodeRendererFactory(connectAudioParam, createNativeConstantSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst constantSourceNodeConstructor = createConstantSourceNodeConstructor(audioNodeConstructor, createAudioParam, createConstantSourceNodeRenderer, createNativeConstantSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener);\nconst createNativeConvolverNode = createNativeConvolverNodeFactory(createNotSupportedError, overwriteAccessors);\nconst createConvolverNodeRenderer = createConvolverNodeRendererFactory(createNativeConvolverNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst convolverNodeConstructor = createConvolverNodeConstructor(audioNodeConstructor, createConvolverNodeRenderer, createNativeConvolverNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createDelayNodeRenderer = createDelayNodeRendererFactory(connectAudioParam, createNativeDelayNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst delayNodeConstructor = createDelayNodeConstructor(audioNodeConstructor, createAudioParam, createDelayNodeRenderer, createNativeDelayNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createNativeDynamicsCompressorNode = createNativeDynamicsCompressorNodeFactory(createNotSupportedError);\nconst createDynamicsCompressorNodeRenderer = createDynamicsCompressorNodeRendererFactory(connectAudioParam, createNativeDynamicsCompressorNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst dynamicsCompressorNodeConstructor = createDynamicsCompressorNodeConstructor(audioNodeConstructor, createAudioParam, createDynamicsCompressorNodeRenderer, createNativeDynamicsCompressorNode, createNotSupportedError, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createGainNodeRenderer = createGainNodeRendererFactory(connectAudioParam, createNativeGainNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst gainNodeConstructor = createGainNodeConstructor(audioNodeConstructor, createAudioParam, createGainNodeRenderer, createNativeGainNode, getNativeContext, isNativeOfflineAudioContext);\nconst createNativeIIRFilterNodeFaker = createNativeIIRFilterNodeFakerFactory(createInvalidAccessError, createInvalidStateError, createNativeScriptProcessorNode, createNotSupportedError);\nconst renderNativeOfflineAudioContext = createRenderNativeOfflineAudioContext(cacheTestResult, createNativeGainNode, createNativeScriptProcessorNode, createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode, nativeOfflineAudioContextConstructor));\nconst createIIRFilterNodeRenderer = createIIRFilterNodeRendererFactory(createNativeAudioBufferSourceNode, getNativeAudioNode, nativeOfflineAudioContextConstructor, renderInputsOfAudioNode, renderNativeOfflineAudioContext);\nconst createNativeIIRFilterNode = createNativeIIRFilterNodeFactory(createNativeIIRFilterNodeFaker);\nconst iIRFilterNodeConstructor = createIIRFilterNodeConstructor(audioNodeConstructor, createNativeIIRFilterNode, createIIRFilterNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createAudioListener = createAudioListenerFactory(createAudioParam, createNativeChannelMergerNode, createNativeConstantSourceNode, createNativeScriptProcessorNode, createNotSupportedError, getFirstSample, isNativeOfflineAudioContext, overwriteAccessors);\nconst unrenderedAudioWorkletNodeStore = new WeakMap();\nconst minimalBaseAudioContextConstructor = createMinimalBaseAudioContextConstructor(audioDestinationNodeConstructor, createAudioListener, eventTargetConstructor, isNativeOfflineAudioContext, unrenderedAudioWorkletNodeStore, wrapEventListener);\nconst createNativeOscillatorNode = createNativeOscillatorNodeFactory(addSilentConnection, cacheTestResult, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls);\nconst createOscillatorNodeRenderer = createOscillatorNodeRendererFactory(connectAudioParam, createNativeOscillatorNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst oscillatorNodeConstructor = createOscillatorNodeConstructor(audioNodeConstructor, createAudioParam, createNativeOscillatorNode, createOscillatorNodeRenderer, getNativeContext, isNativeOfflineAudioContext, wrapEventListener);\nconst createConnectedNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNodeFactory(createNativeAudioBufferSourceNode);\nconst createNativeWaveShaperNodeFaker = createNativeWaveShaperNodeFakerFactory(createConnectedNativeAudioBufferSourceNode, createInvalidStateError, createNativeGainNode, isDCCurve, monitorConnections);\nconst createNativeWaveShaperNode = createNativeWaveShaperNodeFactory(createConnectedNativeAudioBufferSourceNode, createInvalidStateError, createNativeWaveShaperNodeFaker, isDCCurve, monitorConnections, nativeAudioContextConstructor, overwriteAccessors);\nconst createNativePannerNodeFaker = createNativePannerNodeFakerFactory(connectNativeAudioNodeToNativeAudioNode, createInvalidStateError, createNativeChannelMergerNode, createNativeGainNode, createNativeScriptProcessorNode, createNativeWaveShaperNode, createNotSupportedError, disconnectNativeAudioNodeFromNativeAudioNode, getFirstSample, monitorConnections);\nconst createNativePannerNode = createNativePannerNodeFactory(createNativePannerNodeFaker);\nconst createPannerNodeRenderer = createPannerNodeRendererFactory(connectAudioParam, createNativeChannelMergerNode, createNativeConstantSourceNode, createNativeGainNode, createNativePannerNode, getNativeAudioNode, nativeOfflineAudioContextConstructor, renderAutomation, renderInputsOfAudioNode, renderNativeOfflineAudioContext);\nconst pannerNodeConstructor = createPannerNodeConstructor(audioNodeConstructor, createAudioParam, createNativePannerNode, createPannerNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createNativePeriodicWave = createNativePeriodicWaveFactory(createIndexSizeError);\nconst periodicWaveConstructor = createPeriodicWaveConstructor(createNativePeriodicWave, getNativeContext, new WeakSet(), sanitizePeriodicWaveOptions);\nconst nativeStereoPannerNodeFakerFactory = createNativeStereoPannerNodeFakerFactory(createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeGainNode, createNativeWaveShaperNode, createNotSupportedError, monitorConnections);\nconst createNativeStereoPannerNode = createNativeStereoPannerNodeFactory(nativeStereoPannerNodeFakerFactory, createNotSupportedError);\nconst createStereoPannerNodeRenderer = createStereoPannerNodeRendererFactory(connectAudioParam, createNativeStereoPannerNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst stereoPannerNodeConstructor = createStereoPannerNodeConstructor(audioNodeConstructor, createAudioParam, createNativeStereoPannerNode, createStereoPannerNodeRenderer, getNativeContext, isNativeOfflineAudioContext);\nconst createWaveShaperNodeRenderer = createWaveShaperNodeRendererFactory(createNativeWaveShaperNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst waveShaperNodeConstructor = createWaveShaperNodeConstructor(audioNodeConstructor, createInvalidStateError, createNativeWaveShaperNode, createWaveShaperNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst isSecureContext = createIsSecureContext(window);\nconst exposeCurrentFrameAndCurrentTime = createExposeCurrentFrameAndCurrentTime(window);\nconst backupOfflineAudioContextStore = new WeakMap();\nconst getOrCreateBackupOfflineAudioContext = createGetOrCreateBackupOfflineAudioContext(backupOfflineAudioContextStore, nativeOfflineAudioContextConstructor);\n// The addAudioWorkletModule() function is only available in a SecureContext.\nexport const addAudioWorkletModule = isSecureContext\n    ? createAddAudioWorkletModule(cacheTestResult, createNotSupportedError, createEvaluateSource(window), exposeCurrentFrameAndCurrentTime, createFetchSource(createAbortError), getNativeContext, getOrCreateBackupOfflineAudioContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, new WeakMap(), new WeakMap(), createTestAudioWorkletProcessorPostMessageSupport(nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor), \n    // @todo window is guaranteed to be defined because isSecureContext checks that as well.\n    window)\n    : undefined;\nconst isNativeContext = createIsNativeContext(isNativeAudioContext, isNativeOfflineAudioContext);\nexport const decodeAudioData = createDecodeAudioData(audioBufferStore, cacheTestResult, createDataCloneError, createEncodingError, new WeakSet(), getNativeContext, isNativeContext, testAudioBufferCopyChannelMethodsOutOfBoundsSupport, testPromiseSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds);\nconst baseAudioContextConstructor = createBaseAudioContextConstructor(addAudioWorkletModule, analyserNodeConstructor, audioBufferConstructor, audioBufferSourceNodeConstructor, biquadFilterNodeConstructor, channelMergerNodeConstructor, channelSplitterNodeConstructor, constantSourceNodeConstructor, convolverNodeConstructor, decodeAudioData, delayNodeConstructor, dynamicsCompressorNodeConstructor, gainNodeConstructor, iIRFilterNodeConstructor, minimalBaseAudioContextConstructor, oscillatorNodeConstructor, pannerNodeConstructor, periodicWaveConstructor, stereoPannerNodeConstructor, waveShaperNodeConstructor);\nconst mediaElementAudioSourceNodeConstructor = createMediaElementAudioSourceNodeConstructor(audioNodeConstructor, createNativeMediaElementAudioSourceNode, getNativeContext, isNativeOfflineAudioContext);\nconst mediaStreamAudioDestinationNodeConstructor = createMediaStreamAudioDestinationNodeConstructor(audioNodeConstructor, createNativeMediaStreamAudioDestinationNode, getNativeContext, isNativeOfflineAudioContext);\nconst mediaStreamAudioSourceNodeConstructor = createMediaStreamAudioSourceNodeConstructor(audioNodeConstructor, createNativeMediaStreamAudioSourceNode, getNativeContext, isNativeOfflineAudioContext);\nconst createNativeMediaStreamTrackAudioSourceNode = createNativeMediaStreamTrackAudioSourceNodeFactory(createInvalidStateError, isNativeOfflineAudioContext);\nconst mediaStreamTrackAudioSourceNodeConstructor = createMediaStreamTrackAudioSourceNodeConstructor(audioNodeConstructor, createNativeMediaStreamTrackAudioSourceNode, getNativeContext);\nconst audioContextConstructor = createAudioContextConstructor(baseAudioContextConstructor, createInvalidStateError, createNotSupportedError, createUnknownError, mediaElementAudioSourceNodeConstructor, mediaStreamAudioDestinationNodeConstructor, mediaStreamAudioSourceNodeConstructor, mediaStreamTrackAudioSourceNodeConstructor, nativeAudioContextConstructor);\nexport { audioContextConstructor as AudioContext };\nconst getUnrenderedAudioWorkletNodes = createGetUnrenderedAudioWorkletNodes(unrenderedAudioWorkletNodeStore);\nconst addUnrenderedAudioWorkletNode = createAddUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes);\nconst connectMultipleOutputs = createConnectMultipleOutputs(createIndexSizeError);\nconst deleteUnrenderedAudioWorkletNode = createDeleteUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes);\nconst disconnectMultipleOutputs = createDisconnectMultipleOutputs(createIndexSizeError);\nconst activeAudioWorkletNodeInputsStore = new WeakMap();\nconst getActiveAudioWorkletNodeInputs = createGetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore, getValueForKey);\nconst createNativeAudioWorkletNodeFaker = createNativeAudioWorkletNodeFakerFactory(connectMultipleOutputs, createIndexSizeError, createInvalidStateError, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, createNativeScriptProcessorNode, createNotSupportedError, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getActiveAudioWorkletNodeInputs, monitorConnections);\nconst createNativeAudioWorkletNode = createNativeAudioWorkletNodeFactory(createInvalidStateError, createNativeAudioWorkletNodeFaker, createNativeGainNode, createNotSupportedError, monitorConnections);\nconst createAudioWorkletNodeRenderer = createAudioWorkletNodeRendererFactory(connectAudioParam, connectMultipleOutputs, createNativeAudioBufferSourceNode, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, deleteUnrenderedAudioWorkletNode, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getNativeAudioNode, nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor, renderAutomation, renderInputsOfAudioNode, renderNativeOfflineAudioContext);\nconst getBackupOfflineAudioContext = createGetBackupOfflineAudioContext(backupOfflineAudioContextStore);\nconst setActiveAudioWorkletNodeInputs = createSetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore);\n// The AudioWorkletNode constructor is only available in a SecureContext.\nconst audioWorkletNodeConstructor = isSecureContext\n    ? createAudioWorkletNodeConstructor(addUnrenderedAudioWorkletNode, audioNodeConstructor, createAudioParam, createAudioWorkletNodeRenderer, createNativeAudioWorkletNode, getAudioNodeConnections, getBackupOfflineAudioContext, getNativeContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, sanitizeAudioWorkletNodeOptions, setActiveAudioWorkletNodeInputs, testAudioWorkletNodeOptionsClonability, wrapEventListener)\n    : undefined;\nexport { audioWorkletNodeConstructor as AudioWorkletNode };\nexport { biquadFilterNodeConstructor as BiquadFilterNode };\nexport { channelMergerNodeConstructor as ChannelMergerNode };\nexport { channelSplitterNodeConstructor as ChannelSplitterNode };\nexport { convolverNodeConstructor as ConvolverNode };\nexport { constantSourceNodeConstructor as ConstantSourceNode };\nexport { delayNodeConstructor as DelayNode };\nexport { dynamicsCompressorNodeConstructor as DynamicsCompressorNode };\nexport { gainNodeConstructor as GainNode };\nexport { iIRFilterNodeConstructor as IIRFilterNode };\nexport { mediaElementAudioSourceNodeConstructor as MediaElementAudioSourceNode };\nexport { mediaStreamAudioDestinationNodeConstructor as MediaStreamAudioDestinationNode };\nexport { mediaStreamAudioSourceNodeConstructor as MediaStreamAudioSourceNode };\nexport { mediaStreamTrackAudioSourceNodeConstructor as MediaStreamTrackAudioSourceNode };\nconst minimalAudioContextConstructor = createMinimalAudioContextConstructor(createInvalidStateError, createNotSupportedError, createUnknownError, minimalBaseAudioContextConstructor, nativeAudioContextConstructor);\nexport { minimalAudioContextConstructor as MinimalAudioContext };\nconst createNativeOfflineAudioContext = createCreateNativeOfflineAudioContext(createNotSupportedError, nativeOfflineAudioContextConstructor);\nconst startRendering = createStartRendering(audioBufferStore, cacheTestResult, getAudioNodeRenderer, getUnrenderedAudioWorkletNodes, renderNativeOfflineAudioContext, testAudioBufferCopyChannelMethodsOutOfBoundsSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds);\nconst minimalOfflineAudioContextConstructor = createMinimalOfflineAudioContextConstructor(cacheTestResult, createInvalidStateError, createNativeOfflineAudioContext, minimalBaseAudioContextConstructor, startRendering);\nexport { minimalOfflineAudioContextConstructor as MinimalOfflineAudioContext };\nconst offlineAudioContextConstructor = createOfflineAudioContextConstructor(baseAudioContextConstructor, cacheTestResult, createInvalidStateError, createNativeOfflineAudioContext, startRendering);\nexport { offlineAudioContextConstructor as OfflineAudioContext };\nexport { oscillatorNodeConstructor as OscillatorNode };\nexport { pannerNodeConstructor as PannerNode };\nexport { periodicWaveConstructor as PeriodicWave };\nexport { stereoPannerNodeConstructor as StereoPannerNode };\nexport { waveShaperNodeConstructor as WaveShaperNode };\nexport const isAnyAudioContext = createIsAnyAudioContext(CONTEXT_STORE, isNativeAudioContext);\nexport const isAnyAudioNode = createIsAnyAudioNode(AUDIO_NODE_STORE, isNativeAudioNode);\nexport const isAnyAudioParam = createIsAnyAudioParam(AUDIO_PARAM_STORE, isNativeAudioParam);\nexport const isAnyOfflineAudioContext = createIsAnyOfflineAudioContext(CONTEXT_STORE, isNativeOfflineAudioContext);\nexport const isSupported = () => createIsSupportedPromise(cacheTestResult, createTestAudioBufferCopyChannelMethodsSubarraySupport(nativeOfflineAudioContextConstructor), createTestAudioContextCloseMethodSupport(nativeAudioContextConstructor), createTestAudioContextDecodeAudioDataMethodTypeErrorSupport(nativeOfflineAudioContextConstructor), createTestAudioContextOptionsSupport(nativeAudioContextConstructor), createTestAudioNodeConnectMethodSupport(nativeOfflineAudioContextConstructor), createTestAudioWorkletProcessorNoOutputsSupport(nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor), createTestChannelMergerNodeChannelCountSupport(nativeOfflineAudioContextConstructor), createTestConstantSourceNodeAccurateSchedulingSupport(nativeOfflineAudioContextConstructor), createTestConvolverNodeBufferReassignabilitySupport(nativeOfflineAudioContextConstructor), createTestConvolverNodeChannelCountSupport(nativeOfflineAudioContextConstructor), testDomExceptionConstructorSupport, createTestIsSecureContextSupport(window), createTestMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport(nativeAudioContextConstructor), createTestStereoPannerNodeDefaultValueSupport(nativeOfflineAudioContextConstructor), testTransferablesSupport);\n//# sourceMappingURL=module.js.map","import { OfflineAudioContext } from 'standardized-audio-context';\nexport const render = (audioBuffer, offset, duration) => {\n    const offlineAudioContext = new OfflineAudioContext(audioBuffer.numberOfChannels, Math.round(duration * audioBuffer.sampleRate), audioBuffer.sampleRate);\n    const biquadFilter = offlineAudioContext.createBiquadFilter();\n    const bufferSourceNode = offlineAudioContext.createBufferSource();\n    biquadFilter.frequency.value = 240;\n    biquadFilter.type = 'lowpass';\n    bufferSourceNode.buffer = audioBuffer;\n    bufferSourceNode.connect(biquadFilter).connect(offlineAudioContext.destination);\n    bufferSourceNode.start(0, offset, duration);\n    return offlineAudioContext.startRendering().then((renderedBuffer) => {\n        const channelData = renderedBuffer.getChannelData(0);\n        const sampleRate = renderedBuffer.sampleRate;\n        return { channelData, sampleRate };\n    });\n};\n//# sourceMappingURL=render.js.map","import { createBroker } from 'broker-factory';\nimport { isSupported } from 'standardized-audio-context';\nimport { render } from './helpers/render';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './types/index';\nexport { isSupported };\nexport const wrap = createBroker({\n    analyze: ({ call }) => {\n        return async (...args) => {\n            var _a;\n            const [audioBuffer, offsetOrTempoSettings, durationOrTempoSettings] = args;\n            const offset = typeof offsetOrTempoSettings === 'number' ? offsetOrTempoSettings : 0;\n            const duration = typeof durationOrTempoSettings === 'number' ? durationOrTempoSettings : audioBuffer.duration - offset;\n            const { channelData, sampleRate } = await render(audioBuffer, offset, duration);\n            const tempoSettings = typeof offsetOrTempoSettings === 'object'\n                ? offsetOrTempoSettings\n                : typeof durationOrTempoSettings === 'object'\n                    ? durationOrTempoSettings\n                    : ((_a = args[3]) !== null && _a !== void 0 ? _a : null);\n            return call('analyze', { channelData, sampleRate, ...(tempoSettings === null ? tempoSettings : { tempoSettings }) }, [\n                channelData.buffer\n            ]);\n        };\n    },\n    guess: ({ call }) => {\n        return async (...args) => {\n            var _a;\n            const [audioBuffer, offsetOrTempoSettings, durationOrTempoSettings] = args;\n            const offset = typeof offsetOrTempoSettings === 'number' ? offsetOrTempoSettings : 0;\n            const duration = typeof durationOrTempoSettings === 'number' ? durationOrTempoSettings : audioBuffer.duration - offset;\n            const { channelData, sampleRate } = await render(audioBuffer, offset, duration);\n            const tempoSettings = typeof offsetOrTempoSettings === 'object'\n                ? offsetOrTempoSettings\n                : typeof durationOrTempoSettings === 'object'\n                    ? durationOrTempoSettings\n                    : ((_a = args[3]) !== null && _a !== void 0 ? _a : null);\n            return call('guess', { channelData, sampleRate, ...(tempoSettings === null ? tempoSettings : { tempoSettings }) }, [\n                channelData.buffer\n            ]);\n        };\n    }\n});\nexport const load = (url) => {\n    const worker = new Worker(url);\n    return wrap(worker);\n};\n//# sourceMappingURL=module.js.map","export const createLoadOrReturnBroker = (loadBroker, worker) => {\n    let broker = null;\n    return () => {\n        if (broker !== null) {\n            return broker;\n        }\n        const blob = new Blob([worker], { type: 'application/javascript; charset=utf-8' });\n        const url = URL.createObjectURL(blob);\n        broker = loadBroker(url);\n        // Bug #1: Edge up until v18 didn't like the URL to be revoked directly.\n        setTimeout(() => URL.revokeObjectURL(url));\n        return broker;\n    };\n};\n//# sourceMappingURL=load-or-return-broker.js.map","// This is the minified and stringified code of the web-audio-beat-detector-worker package.\nexport const worker = `(()=>{var e={455(e,t){!function(e){\"use strict\";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<s?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*s);return e(r,i)}if(r.size>n)throw new Error(\"Congratulations, you created a collection of unique numbers which uses all available integers!\");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,c=r(i),u=a(c,i),l=t(u);e.addUniqueNumber=l,e.generateUniqueNumber=u}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{\"use strict\";const e=-32603,t=-32602,n=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o('The handler of the method called \"'.concat(t,'\" returned an unexpected result.'),e),a=(t,r)=>async({data:{id:a,method:i,params:c}})=>{const u=r[i];try{if(void 0===u)throw(e=>o('The requested method called \"'.concat(e,'\" is not supported.'),n))(i);const r=void 0===c?u():u(c);if(void 0===r)throw(t=>o('The handler of the method called \"'.concat(t,'\" returned no required result.'),e))(i);const l=r instanceof Promise?await r:r;if(null===a){if(void 0!==l.result)throw s(i)}else{if(void 0===l.result)throw s(i);const{result:e,transferables:r=[]}=l;t.postMessage({id:a,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:a})}};var i=r(455);const c=new Map,u=(e,r,n)=>({...r,connect:({port:t})=>{t.start();const n=e(t,r),o=(0,i.generateUniqueNumber)(c);return c.set(o,()=>{n(),t.close(),c.delete(o)}),{result:o}},disconnect:({portId:e})=>{const r=c.get(e);if(void 0===r)throw(e=>o('The specified parameter called \"portId\" with the given value \"'.concat(e,'\" does not identify a port connected to this worker.'),t))(e);return r(),{result:null}},isSupported:async()=>{if(await new Promise(e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])})){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),l=(e,t,r=()=>!0)=>{const n=u(l,t,r),o=a(e,n);return e.addEventListener(\"message\",o),()=>e.removeEventListener(\"message\",o)},h=(e,t,r)=>{const n=e.length,o=[];let s=!1;for(let a=0;a<n;a+=1)e[a]>t?s=!0:s&&(s=!1,o.push(a-1),a+=r/4-1);return s&&o.push(n-1),o},d=(e,t,r)=>{const n=(e=>{let t=0;const r=e.length;for(let n=0;n<r;n+=1)e[n]>t&&(t=e[n]);return t})(e),o=.3*n;let s=[],a=n-.05*n;if(n>.25)for(;s.length<30&&a>=o;)s=h(e,a,t),a-=.05*n;const i=(e=>{const t=[];return e.forEach((r,n)=>{const o=Math.min(e.length-n,10);for(let s=1;s<o;s+=1){const o=e[n+s]-r;t.some(e=>e.interval===o&&(e.peaks.push(r),!0))||t.push({interval:o,peaks:[r]})}}),t})(s),c=((e,t,r={})=>{var n,o;const s=Math.max(0,null!==(n=r.maxTempo)&&void 0!==n?n:180),a=Math.max(0,null!==(o=r.minTempo)&&void 0!==o?o:90),i=[];return e.forEach(e=>{let r=60/(e.interval/t);for(;r<a;)r*=2;for(;r>s;)r/=2;if(r<a)return;let n=!1,o=e.peaks.length;i.forEach(t=>{if(t.tempo===r&&(t.score+=e.peaks.length,t.peaks=[...t.peaks,...e.peaks],n=!0),t.tempo>r-.5&&t.tempo<r+.5){const n=2*Math.abs(t.tempo-r);o+=(1-n)*t.peaks.length,t.score+=(1-n)*e.peaks.length}}),n||i.push({peaks:e.peaks,score:o,tempo:r})}),i})(i,t,r);return c.sort((e,t)=>t.score-e.score),c},p=(e,t,r)=>{const n=d(e,t,r);if(0===n.length)throw new Error(\"The given channelData does not contain any detectable beats.\");return n[0].tempo},f=(e,t,r)=>{const n=d(e,t,r);if(0===n.length)throw new Error(\"The given channelData does not contain any detectable beats.\");const{peaks:o,tempo:s}=n[0],a=Math.round(s),i=60/a;o.sort((e,t)=>e-t);let c=o[0]/t;for(;c>i;)c-=i;return{bpm:a,offset:c,tempo:s}};l(self,{analyze:({channelData:e,sampleRate:t,tempoSettings:r})=>({result:p(e,t,r)}),guess:({channelData:e,sampleRate:t,tempoSettings:r})=>({result:f(e,t,r)})})})()})();`; // tslint:disable-line:max-line-length\n//# sourceMappingURL=worker.js.map","import { load } from 'web-audio-beat-detector-broker';\nimport { createLoadOrReturnBroker } from './factories/load-or-return-broker';\nimport { worker } from './worker/worker';\nconst loadOrReturnBroker = createLoadOrReturnBroker(load, worker);\nexport const analyze = (...args) => loadOrReturnBroker().analyze(...args);\nexport const guess = (...args) => loadOrReturnBroker().guess(...args);\n//# sourceMappingURL=module.js.map"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262],"mappings":"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"}