import{$ as e,I as t,O as n,Q as r,T as i,et as a,g as o,it as s,nt as c,t as l,tt as u,z as d}from"./index-NOppfZ3u.js";var f=s(),p=u();function m({onOpenArchive:s}){let{getStats:l,intention:u}=o(),{activePath:m}=t(),h=c(e=>e.colorScheme)===`light`,g=(0,f.useRef)(null),[_,v]=(0,f.useState)(135);(0,f.useEffect)(()=>{g.current&&v(r(g.current.getBoundingClientRect(),e()))},[h]);let y=l(7),b=(m?d(m.activePathId):null)?.applicationItems||[],x=e=>(e||``).toLowerCase().trim().replace(/\s+/g,`-`),S={north:{label:b[0]||`North`,count:y.byCategory?.[x(b[0])]||0,color:`#FF6B35`},east:{label:b[3]||`East`,count:y.byCategory?.[x(b[3])]||0,color:`#9B5DE5`},south:{label:b[2]||`South`,count:y.byCategory?.[x(b[2])]||0,color:`#4ECDC4`},west:{label:b[1]||`West`,count:y.byCategory?.[x(b[1])]||0,color:`#F7DC6F`}},C=y.total||0;return(0,p.jsxs)(`div`,{ref:g,"data-card":`true`,"data-card-id":`applicationTracking`,className:`w-full rounded-[32px] px-6 py-5 relative overflow-hidden transition-all duration-700 ease-in-out`,style:{maxWidth:`var(--ui-rail-max, min(430px, 94vw))`,margin:`0 auto`,border:`2px solid transparent`,backgroundImage:h?`linear-gradient(rgba(252, 248, 240, 0.98), rgba(248, 244, 235, 0.96)), 
                              ${a(_)}`:`linear-gradient(135deg, rgba(20, 15, 25, 0.98), rgba(10, 8, 15, 0.98)), 
                       linear-gradient(rgba(255,255,255,0.12), rgba(255,255,255,0.02))`,backgroundOrigin:`padding-box, border-box`,backgroundClip:`padding-box, border-box`,boxShadow:h?`0 0 0 1px rgba(160, 120, 80, 0.3),
                       0 12px 40px rgba(120, 90, 60, 0.12), 
                       inset 0 2px 0 rgba(255, 255, 255, 0.8)`:`0 30px 80px rgba(0, 0, 0, 0.7), 
                       inset 0 1px 0 rgba(255, 255, 255, 0.08)`},children:[(0,p.jsx)(`div`,{className:`absolute -top-32 -right-32 w-64 h-64 blur-[100px] rounded-full pointer-events-none opacity-20`,style:{background:h?`rgba(180, 120, 40, 0.4)`:`var(--accent-color)`}}),(0,p.jsx)(`div`,{className:`flex justify-between items-center mb-4`,children:(0,p.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,p.jsx)(`div`,{className:`w-9 h-9 rounded-xl flex items-center justify-center text-lg`,style:{background:h?`rgba(255, 250, 240, 0.6)`:`rgba(10, 15, 25, 0.75)`,border:`1px solid ${h?`rgba(180, 140, 90, 0.25)`:`rgba(255, 255, 255, 0.08)`}`},children:`ðŸ§­`}),(0,p.jsxs)(`div`,{children:[(0,p.jsx)(`div`,{className:`text-[12px] font-black uppercase tracking-[0.3em]`,style:{color:h?`rgba(60, 45, 35, 0.95)`:`rgba(253, 251, 245, 0.95)`},children:`Awareness`}),(0,p.jsxs)(`div`,{className:`flex items-center gap-1.5 mt-0.5`,children:[(0,p.jsx)(`div`,{className:`w-1.5 h-1.5 rounded-full ${C>0?`animate-pulse`:``}`,style:{background:C>0?h?`rgba(180, 120, 40, 0.9)`:`var(--accent-color)`:h?`rgba(100, 80, 60, 0.2)`:`rgba(253, 251, 245, 0.2)`}}),(0,p.jsxs)(`div`,{className:`text-[8px] font-black uppercase tracking-[0.1em] opacity-40`,style:{color:h?`rgba(60, 45, 35, 0.95)`:`rgba(253, 251, 245, 0.95)`},children:[`Last 7 days: `,C]})]})]})]})}),(0,p.jsx)(`div`,{className:`grid grid-cols-2 gap-2 mb-4`,children:Object.entries(S).map(([e,t])=>(0,p.jsx)(`div`,{className:`rounded-xl px-3 py-2 transition-all duration-300`,style:{background:h?`linear-gradient(135deg, rgba(255, 250, 240, 0.6), rgba(248, 244, 235, 0.5))`:`rgba(10, 15, 25, 0.5)`,border:`1px solid ${h?`rgba(180, 140, 90, 0.2)`:`rgba(255, 255, 255, 0.05)`}`},children:(0,p.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,p.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,p.jsx)(`div`,{className:`text-[9px] uppercase tracking-wider mb-0.5 opacity-50`,style:{color:h?`rgba(100, 80, 60, 0.75)`:`rgba(253, 251, 245, 0.5)`},children:e.charAt(0).toUpperCase()}),(0,p.jsx)(`div`,{className:`text-[10px] leading-tight truncate`,style:{color:h?`rgba(60, 45, 35, 0.8)`:`rgba(253, 251, 245, 0.7)`,fontFamily:`var(--font-body)`},children:t.label})]}),(0,p.jsx)(`div`,{className:`text-[20px] font-black tabular-nums ml-2`,style:{color:t.count>0?t.color:h?`rgba(100, 80, 60, 0.2)`:`rgba(253, 251, 245, 0.1)`},children:t.count})]})},e))}),u&&(0,p.jsxs)(`div`,{className:`rounded-xl px-4 py-2.5 mb-3`,style:{background:h?`linear-gradient(135deg, rgba(255, 250, 240, 0.8), rgba(248, 244, 235, 0.7))`:`rgba(10, 15, 25, 0.6)`,border:`1px solid ${h?`rgba(180, 140, 90, 0.25)`:`rgba(255, 255, 255, 0.08)`}`},children:[(0,p.jsx)(`div`,{className:`text-[8px] uppercase tracking-[0.2em] mb-1 opacity-50`,style:{color:h?`rgba(100, 80, 60, 0.75)`:`rgba(253, 251, 245, 0.5)`},children:`Intention`}),(0,p.jsxs)(`p`,{className:`text-[11px] italic leading-snug line-clamp-2`,style:{color:h?`rgba(60, 45, 35, 0.85)`:`rgba(253, 251, 245, 0.7)`,fontFamily:`var(--font-body)`},children:[`"`,u,`"`]})]}),(0,p.jsxs)(`div`,{className:`flex flex-col items-center justify-center px-2 gap-2`,children:[(0,p.jsx)(`button`,{onClick:e=>{e.stopPropagation(),n.getState().setTrackerLaunchContext({target:`applicationHeatmap`,source:`applicationCard`,ts:Date.now()})},className:`text-[8px] font-black uppercase tracking-[0.35em] opacity-50 hover:opacity-100 transition-opacity cursor-pointer`,style:{color:h?`rgba(60, 45, 35, 0.95)`:`rgba(253, 251, 245, 0.95)`},children:`OPEN TRACKER`}),(0,p.jsx)(`button`,{onClick:e=>{e.stopPropagation(),s?.(i.APPLICATION)},className:`text-[8px] font-black uppercase tracking-[0.5em] opacity-30 hover:opacity-100 transition-opacity cursor-pointer`,style:{color:h?`rgba(60, 45, 35, 0.95)`:`rgba(253, 251, 245, 0.95)`},children:`? VIEW ARCHIVE ?`})]})]})}function h({onNavigate:e}){let{activePath:n}=t(),r=t=>{let n={tab:t,reportDomain:null};try{window.__immanence_pending_archive=n}catch{}e?.(null),setTimeout(()=>{window.dispatchEvent(new CustomEvent(`immanence-open-archive`,{detail:n}))},50)};return n?(0,p.jsxs)(`div`,{"data-tutorial":`application-root`,className:`w-full max-w-4xl mx-auto space-y-6 pb-12`,children:[(0,p.jsx)(l,{}),(0,p.jsx)(`div`,{className:`w-full flex justify-center`,children:(0,p.jsx)(m,{onOpenArchive:r})})]}):(0,p.jsx)(`div`,{"data-tutorial":`application-root`,className:`w-full max-w-4xl mx-auto space-y-8 pb-12`,children:(0,p.jsxs)(`div`,{className:`bg-[#0f0f1a] border rounded-3xl p-12 text-center border-[var(--accent-15)]`,"data-card":`true`,"data-card-id":`applicationEmpty`,children:[(0,p.jsx)(`h2`,{className:`type-h2 mb-4 text-[var(--accent-color)]`,children:`Application`}),(0,p.jsx)(`p`,{className:`type-body text-[rgba(253,251,245,0.7)] mb-2`,children:`This is where practice meets life.`}),(0,p.jsx)(`p`,{className:`type-body text-[rgba(253,251,245,0.6)] mb-6 italic`,children:`You'll track moments of awareness-when you catch yourself in old patterns.`}),(0,p.jsx)(`button`,{onClick:()=>{console.log(`?? Go to Navigation clicked, onNavigate:`,typeof e),e?e(`navigation`):console.error(`? onNavigate is undefined!`)},className:`type-label px-6 py-3 rounded-full text-[#050508]`,style:{background:`var(--ui-button-gradient)`},children:`GO TO NAVIGATION`})]})})}export{h as ApplicationSection};