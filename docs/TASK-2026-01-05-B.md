# TASK-2026-01-05-B: ESLint no-unused-vars Cleanup

**Created:** 2026-01-05
**Recommended Executor:** Codex CLI
**Scope:** Fix `no-unused-vars` ESLint errors in `src/**` only
**Goal:** Reduce error count by removing unused imports and variables

---

## Problem

ESLint is reporting 323 `no-unused-vars` errors across the codebase. After TASK-2026-01-05-A fixed config errors, we now have:

**Current State:** 453 total problems (428 errors, 25 warnings)
**Target:** Reduce by removing unused variables/imports in source files

### Examples of no-unused-vars errors:
- Unused imports: `'motion' is defined but never used`
- Unused destructured vars: `'setIsMinimized' is assigned a value but never used`
- Unused function params: `'e' is defined but never used`
- Unused computed values: `'isFuture' is assigned a value but never used`

**Total `no-unused-vars` errors:** 323

---

## Solution

Remove unused imports and variables from source files. Delete dead code rather than suppress with underscores.

---

## ALLOWLIST (Files to Modify)

- `src/**/*.{js,jsx}` - All source files with no-unused-vars errors

**Specific files with errors (examples from lint output):**
- `src/App.jsx`
- `src/components/ActivePathState.jsx`
- `src/components/ApplicationSection.jsx`
- `src/components/ApplicationTrackingCard.jsx`
- `src/components/Application/MirrorSeal.jsx`
- `src/components/Application/ModeTraining.jsx`
- And many others...

---

## DENYLIST (Files NOT to Touch)

- `*.config.js` - Config files (already fixed in TASK-2026-01-05-A)
- `tools/**` - Tooling scripts (already fixed in TASK-2026-01-05-A)
- `docs/**` - Documentation
- `public/**` - Static assets
- `node_modules/**` - Dependencies

---

## Implementation Strategy

### 1. Prefer Deletion Over Suppression

**Good:**
```javascript
// Before
import { motion } from 'framer-motion';
const { unused, needed } = someObject;

// After (delete unused)
const { needed } = someObject;
```

**Only use underscore prefix when truly needed:**
```javascript
// Before
const handleClick = (e) => {
  doSomething(); // e is not used
};

// After (prefix only if param position matters)
const handleClick = (_e) => {
  doSomething();
};
```

### 2. Remove Unused Imports

```javascript
// Before
import { useState, useEffect, useMemo } from 'react';

function Component() {
  const [state, setState] = useState(0);
  // useEffect and useMemo never used
}

// After
import { useState } from 'react';

function Component() {
  const [state, setState] = useState(0);
}
```

### 3. Remove Unused Destructured Variables

```javascript
// Before
const { used, unused1, unused2 } = props;

// After
const { used } = props;
```

### 4. Handle Unused Function Parameters

**Option A: Delete if not needed**
```javascript
// Before
const callback = (arg1, arg2) => {
  console.log(arg1); // arg2 never used
};

// After
const callback = (arg1) => {
  console.log(arg1);
};
```

**Option B: Prefix with _ if position matters**
```javascript
// Before
array.map((item, index) => {
  return item; // index never used
});

// After
array.map((item, _index) => {
  return item;
});
```

---

## Constraints

1. **No behavior changes** - Only remove truly unused code
2. **No refactors** - Don't restructure logic
3. **No formatting** - Preserve existing code style
4. **Delete over suppress** - Only use `_` prefix when absolutely necessary (e.g., callback signatures)
5. **One file at a time** - Make incremental progress to avoid merge issues
6. **Test after changes** - Ensure dev server still runs (`npm run dev`)

---

## Verification

### Before
```bash
cd "D:\Unity Apps\immanence-os"
npm run lint 2>&1 | grep "✖"
npm run lint 2>&1 | grep "no-unused-vars" | wc -l
```

**Expected Output:**
- Total: `✖ 453 problems (428 errors, 25 warnings)`
- no-unused-vars count: `323`

### After
```bash
cd "D:\Unity Apps\immanence-os"
npm run lint 2>&1 | grep "✖"
npm run lint 2>&1 | grep "no-unused-vars" | wc -l
```

**Expected Output:**
- Total: Significantly reduced (target: <200 errors)
- no-unused-vars count: 0 (or near-zero)

### Spot Check
```bash
npm run lint 2>&1 | grep "no-unused-vars" | head -10
```
**Expected:** No or minimal remaining no-unused-vars errors

### Dev Server Test
```bash
npm run dev
```
**Expected:** Server starts successfully, no runtime errors

---

## Commit Strategy

Since there are 323 errors across many files, break into multiple commits by directory/component:

### Suggested Commit Sequence:

**Commit 1: Core App Files**
- `src/App.jsx`
- `src/main.jsx`

**Commit 2: Application Section**
- `src/components/Application/**/*.jsx`

**Commit 3: Practice Section**
- `src/components/practice/**/*.jsx`
- `src/components/PracticeSection.jsx`

**Commit 4: Wisdom Section**
- `src/components/Codex/**/*.jsx`
- `src/components/WisdomSection.jsx`

**Commit 5: Remaining Components**
- All other `src/components/**/*.jsx` files

**Commit 6: Hooks & Utilities**
- `src/hooks/**/*.js`
- `src/utils/**/*.js`

**Commit 7: State & Services**
- `src/state/**/*.js`
- `src/services/**/*.js`

### Commit Message Template:

```
fix(eslint): remove unused vars in [area] - TASK-2026-01-05-B

Removed unused imports and variables:
- [file1]: removed [unused items]
- [file2]: removed [unused items]

No behavior changes. Cleanup only.

Before: [X] no-unused-vars errors
After: [Y] no-unused-vars errors (-[X-Y])
```

---

## Mandatory Worklog Update

**MUST update `docs/WORKLOG.md` in the SAME commit** with:

```markdown
## 2026-01-05 [TIME] - [Executor] - COMPLETED

**Task**: TASK-2026-01-05-B - Remove no-unused-vars in [area]

**Files Modified**:
- `src/[file1]` (removed unused: [list])
- `src/[file2]` (removed unused: [list])

**Changes**:
- Removed [N] unused imports
- Removed [M] unused variables
- No behavior changes

**Version**: v3.15.X (if version bump required)

**Status**: COMPLETED

**Commit**: [commit hash]

**Notes**: Part [X] of [Y] - [area] cleanup for TASK-2026-01-05-B

---
```

---

## Definition of DONE

For each commit:
- [ ] Files modified to remove unused vars
- [ ] `npm run lint` shows reduced error count
- [ ] `npm run dev` starts successfully
- [ ] No behavior changes introduced
- [ ] `docs/WORKLOG.md` updated in same commit
- [ ] Commit message follows template
- [ ] Commit hash recorded in worklog

Overall task complete when:
- [ ] All 323 no-unused-vars errors resolved (or reduced to <10)
- [ ] Total ESLint errors significantly reduced
- [ ] All commits include worklog updates
- [ ] Dev server runs without errors

---

## Notes

- This is a large task - expect 5-7 commits
- Prioritize high-impact files (many errors) first
- If a variable seems needed for future use, **delete it anyway** - YAGNI principle
- Only use `_` prefix for callback signatures where position matters (e.g., `array.map((item, _index) => ...)`)
- Test dev server between commits to catch breaking changes early
